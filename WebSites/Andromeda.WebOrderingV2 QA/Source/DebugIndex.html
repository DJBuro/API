<!DOCTYPE html>
<html>
<head>
    <!--
        Copyright © 2014 Andromeda Trading Limited.  All rights reserved.
        THIS FILE AND ITS CONTENTS ARE PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW.
        ANY USE OF THE CONTENTS OF THIS FILE OR ANY PART OF THIS FILE WITHOUT EXPLICIT PERMISSION FROM ANDROMEDA TRADING LIMITED IS PROHIBITED.
    -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title id="title"></title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="../Content/Styles.css" />
    <link rel="stylesheet" type="text/css" href="../Custom/Skin.css" />
    <link rel="stylesheet" type="text/css" href="../Custom/Custom.css" />

    <script src="../Source/ResourceStrings/en-GB.js" type="text/javascript"></script>
    <script src="../Source/ResourceStrings/fr-FR.js" type="text/javascript"></script>

    <!-- 3RD PARTY SCRIPTS GO HERE -->
    <script src="../Source/Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jreject.js" type="text/javascript"></script>
    <script src="../Source/Scripts/amplify.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/knockout-3.0.0.js" type="text/javascript"></script>
    <script src="../Source/Scripts/knockout.validation.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/modernizr.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/OpenLayers.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.core.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.utils.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.slider.js" type="text/javascript"></script>
    <script src="../Source/Scripts/Animation.js" type="text/javascript"></script>

    <script src="../Source/Helpers/Settings.js" type="text/javascript"></script>
    <script src="../Source/Helpers/ACSAPI.js" type="text/javascript"></script>

    <!-- MODELS GO HERE -->
    <script src="../Source/Models/Address.js" type="text/javascript"></script>
    <script src="../Source/Models/CartDeal.js" type="text/javascript"></script>
    <script src="../Source/Models/CartDealLine.js" type="text/javascript"></script>
    <script src="../Source/Models/CartItem.js" type="text/javascript"></script>
    <script src="../Source/Models/CartItemTopping.js" type="text/javascript"></script>
    <script src="../Source/Models/Customer.js" type="text/javascript"></script>
    <script src="../Source/Models/MenuItemWrapper.js" type="text/javascript"></script>

    <!-- HELPERS GO HERE -->
    <script src="../Source/Helpers/customerHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/addressHelper.js" type="text/javascript"></script>

    <script src="../Source/Helpers/accountHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cacheHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cartHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/checkoutHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/checkoutMenuHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cookieHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/dealHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/dealPopupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/deliveryZoneHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/guiHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/helper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/imageHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/informationHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/LoyaltyHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/Logger.js" type="text/javascript"></script>
    <script src="../Source/Helpers/mapHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/menuHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/myOrdersHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/openingTimesHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/pageManager.js" type="text/javascript"></script>
    <script src="../Source/Helpers/popupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/telemetryHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/toppingsPopupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/postcodeCheckHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/queryStringHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/siteSelectorHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/viewHelper.js" type="text/javascript"></script>

    <!-- CHECKOUT VIEW MODELS GO HERE -->
    <script src="../Source/ViewModels/Checkout/CheckoutViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/DataCashPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/MercanetPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/MercuryPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/OrderAcceptedViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/PaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/PayPalPaymentViewModel.js" type="text/javascript"></script>

    <!-- VIEW MODELS GO HERE -->
    <script src="../Source/ViewModels/AddressViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/BaseViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/CartViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/DealViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/DefaultViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ErrorViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/FeedbackViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/HeaderViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/HomeViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/InformationViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/LoginViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MenuViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MobileMenuViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MyProfileViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MyOrdersViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PleaseWaitViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PasswordResetRequestViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PasswordResetViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PostcodeStoreLocatorViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PopupViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/RepeatOrderViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/SitesViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/StoreDetailsViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ToppingsWrapperViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ToppingsViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/viewModel.js" type="text/javascript"></script>

    <script src="../Source/Helpers/LoyaltyHelper.js" type="text/javascript"></script>
    <script src="../source/Helpers/homePageHelper.js" type="text/javascript"></script>
    <script src="../Custom/Custom.js" type="text/javascript"></script>
    <script type="text/javascript">

        // Google analytics
        (function (i, s, o, g, r, a, m)
        {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function ()
            {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        // >> INJECT SCRIPTS HERE <<

        ga('create', settings.googleAnalyticsId, 'auto');
        ga('send', 'pageview');
        ga('require', 'ec');

        $(function ()
        {
            $("form").submit(function () { return false; });
        });

        $(document).ready
        (
            function ()
            {
                // Check if the browser is supported
                $.reject
                (
                    {
                        reject:
                        {
                            all: false, // Covers Everything (Nothing blocked)
                            msie5: true, msie6: true, msie7: true, msie8: true
                        }
                    }
                );

                // Start!
                viewModel.initialise();
            }
        );

    </script>

    <style>
        /*
         * jReject (jQuery Browser Rejection Plugin)
         * Version 1.0.0
         * URL: http://jreject.turnwheel.com/
         * Description: jReject is a easy method of rejecting specific browsers on your site
         * Author: Steven Bower (TurnWheel Designs) http://turnwheel.com/
         * Copyright: Copyright (c) 2009-2011 Steven Bower under dual MIT/GPL license.
         */

        #jr_overlay {
            top: 0;
            left: 0;
            padding: 0;
            margin: 0;
            z-index: 1000;
            position: absolute;
        }

        #jr_wrap {
            position: absolute;
            text-align: center;
            width: 100%;
            z-index: 2000;
            padding: 0;
            margin: 0;
        }

        #jr_inner {
            font-family: "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif;
            font-size: 12px;
            background: #FFF;
            border: 1px solid #CCC;
            color: #4F4F4F;
            margin: 0 auto;
            height: auto;
            padding: 20px;
            position: relative;
        }

        #jr_header {
            display: block;
            color: #333;
            padding: 5px;
            padding-bottom: 0;
            margin: 0;
            font-family: Helvetica,Arial,sans-serif;
            font-weight: bold;
            text-align: left;
            font-size: 1.3em;
            margin-bottom: 0.5em;
        }

        #jr_inner p {
            text-align: left;
            padding: 5px;
            margin: 0;
        }

        #jr_inner ul {
            list-style-image: none;
            list-style-position: outside;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

            #jr_inner ul li {
                cursor: pointer;
                float: left;
                width: 120px;
                height: 122px;
                margin: 0 10px 10px 10px;
                padding: 0;
                text-align: center;
            }

        #jr_inner li a {
            color: #333;
            font-size: 0.8em;
            text-decoration: none;
            padding: 0;
            margin: 0;
        }

            #jr_inner li a:hover {
                text-decoration: underline;
            }

        #jr_inner .jr_icon {
            width: 100px;
            height: 100px;
            margin: 1px auto;
            padding: 0;
            background: transparent no-repeat scroll left top;
            cursor: pointer;
        }

        #jr_close {
            margin: 0 0 0 50px;
            clear: both;
            text-align: left;
            padding: 0;
            margin: 0;
        }

            #jr_close a {
                color: #000;
                display: block;
                width: auto;
                margin: 0;
                padding: 0;
                text-decoration: underline;
            }

            #jr_close p {
                padding: 10px 0 0 0;
                margin: 0;
            }
    </style>

    <!-- Place holder for dynamically loaded resource strings -->
    <script type="text/javascript" id="resourceStrings"></script>
</head>
<body>

    <!-- PAGE HEADER -->
    <header data-bind="attr: { 'class': (toppingsPopupHelper.isBackgroundVisible() || dealPopupHelper.isBackgroundVisible()) ? 'headFootPopup' : 'headFootNoPopup'}, template: { name: $root.isMobileMode() ? 'mobileHeaderView' : 'headerView' }"></header>

    <div id="bindToElements">

        <!-- PAGE CONTENT (VIEW)-->
        <!-- ko if: guiHelper.isViewVisible -->
        <div id="viewContainerOuter">
            <div id="viewContainer" data-bind="template: { name: viewName() }"></div>
        </div>
        <!-- /ko -->
        <!-- MENU -->
        <div id="menuSectionWrapper">
            <div id="menuSection" data-bind="template: { name: 'menuView' }"></div>
        </div>

        <!-- Please wait overlay -->
        <div id="pleaseWaitOverlay" style="display:none;">
        </div>

        <!-- Postcode check popup -->
        <div id="postcodeCheck" style="display:none;" data-bind="template: { name: 'postcodeCheckView' }, visible: postcodeCheckHelper.isPopupVisible">
        </div>

        <!-- Image popup -->
        <div id="imagePopup" style="display:none;" data-bind="style: { height: imageHelper.image().Height + 25 + 'px', width: imageHelper.image().Width + 'px', marginTop: imageHelper.topOffset(), marginLeft: imageHelper.leftOffset() }, template: { name: 'imageView' }, visible: imageHelper.isPopupVisible">
        </div>

        <!-- Toppings popup background -->
        <div id="popupBoxBackground" data-bind="attr: { 'class': toppingsPopupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

        <!-- Toppings popup -->
        <div id="popupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'toppingsView' }, visible: toppingsPopupHelper.isPopupVisible, event: { keypress: toppingsPopupHelper.keyPress }" tabindex="1">
        </div>

        <!-- Deal popup background -->
        <div id="dealPopupBoxBackground" data-bind="attr: { 'class': dealPopupHelper.isBackgroundVisible() ? 'dealPopupBoxBackgroundVisible' : 'dealPopupBoxBackgroundHidden' }"></div>

        <!-- Deal popup -->
        <div id="dealPopupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'dealsView' }, visible: dealPopupHelper.isPopupVisible">
        </div>

        <!-- Generic popup background -->
        <div id="popupBoxBackground" data-bind="attr: { 'class': popupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

        <!-- Generic popup -->
        <div id="genericPopupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: popupHelper.viewName }, visible: popupHelper.isPopupVisible, event: { keypress: popupHelper.keyPress }" tabindex="1">
        </div>

        <!-- PAGE FOOTER -->
        <div id="footerWrapper">
            <div id="footer">
                <div id="footerTop">
                    <div id="footerLinks">
                        <a id="termsOfUse" data-bind="text: textStrings.termsOfUse, click: informationHelper.termsOfUse"></a>
                        <span id="footerSplitter1">|</span>
                        <a id="privacyPolicy" data-bind="text: textStrings.privacyPolicy, click: informationHelper.privacyPolicy"></a>
                        <span id="footerSplitter2">|</span>
                        <a id="cookiePolicy" data-bind="text: textStrings.cookiePolicy, click: informationHelper.cookiePolicy"></a>
                        <span id="poweredByAndro">
                            <span data-bind="text: textStrings.footPoweredBy1"></span>
                            <a href="http://andromedapos.com" target="_blank" data-bind="text: textStrings.footPoweredBy2"></a>
                            <span>&nbsp;&nbsp;&nbsp;v<!--VERSION--></span>
                        </span>
                    </div>
                    <div id="footerSocialButtons" data-bind="visible: guiHelper.isMobileMode()">

                        <!-- ko if: settings.tripAdvisorIsEnabled -->
                        <div id="tripAdvisor" data-bind="html: settings.tripAdvisorScript">
                            <!-- INJECTTRIPADVISORHERE -->
                        </div>
                        <!-- /ko -->
                        <!--<div id="footerNewsletter">
                            <div class="createsend-button" style="height: 22px; display: none;" data-listid="t/1B/00F/33B/13D263F25FA9BBFB">
                            </div>
                            <script type="text/javascript">(function () { var e = document.createElement('script'); e.type = 'text/javascript'; e.async = true; e.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://btn.createsend1.com/js/sb.min.js?v=2'; e.className = 'createsend-script'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(e, s); })();</script>
                        </div>-->
                        <a id="footerInstagram" style="display:none;" href="#" target="_blank" data-bind="visible: settings.instagram.length > 0, attr: { href: settings.instagram, title: settings.instagram }, html: textStrings.hInstagram"></a>
                        <a id="footerTwitter" style="display:none;" href="#" target="_blank" data-bind="visible: settings.twitter.length > 0, attr: { href: settings.twitter, title: settings.twitter }, html: textStrings.hTwitter"></a>
                        <a id="footerFacebook" style="display:none;" href="#" target="_blank" data-bind="visible: settings.facebook.length > 0, attr: { href: settings.facebook, title: settings.facebook }, html: textStrings.hFacebook"></a>
                        <a id="footerPInterest" style="display:none;" href="#" target="_blank" data-bind="visible: settings.pinterest.length > 0, attr: { href: settings.pinterest, title: settings.pinterest }, html: textStrings.hPinterest"></a>
                        <div id="facebookLikeButton" class="fb-like" data-bind="visible: settings.facebookLikeUrl.length > 0, attr: {'data-href': settings.facebookLikeUrl}" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>
                    </div>

                </div>
                <div id="footerBottom" data-bind="html: textStrings.copyright"></div>
            </div>

        </div>
    </div>

    <!-- INSERT_VIEWS_HERE -->

    <script type="text/javascript">

        // Additional JS functions here
        window.fbAsyncInit = function ()
        {
            FB.init
            (
                {
                    appId: settings.facebookAppId, // App ID
                    channelUrl: settings.facebookAppChannel, // Channel File
                    status: true, // check login status
                    cookie: true, // enable cookies to allow the server to access the session
                    xfbml: true  // parse XFBML
                }
            );

            // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
            // for any authentication related change, such as login, logout or session refresh. This means that
            // whenever someone who was previously logged out tries to log in again, the correct case below
            // will be handled.
            FB.Event.subscribe
            (
                'auth.authResponseChange',
                function (response)
                {
                }
            );
        };

        // Load the SDK asynchronously
        (function (d)
        {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
        }(document));

    </script>

    <!--INSERT_JIVOCHAT_HERE-->
</body>
</html>
