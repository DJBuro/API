var MyAndromeda;(function(n){(function(n){var t=function(){function n(t){this.menuItemChangeEvents=[];this.options=t;var r=this,u=$.connection,f=u.hub,i=u.storeHub;this.hubConnection=f;this.setupQueryString();i.client.user=function(t){r.user=t;n.log("User:"+r.user.Username)};i.client.transactionLog=function(n){$("#MenuFtpTransactionLog").length>0&&$("#MenuFtpTransactionLog").append("<div>"+n+"<\/div>")};i.client.ping=function(t){n.log(t)};i.client.updateLocalItems=function(t){n.log("updated local items");n.log(t);r.menuItemChangeEvents.forEach(function(n){n(t)})};i.client.logFtp=function(t){n.log(t)};i.client.storeInfo=function(t){n.log(t)};i.client.menuInfo=function(t){n.log(t)};i.client.GetStoreMenuVersion=function(t){n.log("GetStoreMenuVersion");n.log(t)};i.checkingDatabaseEvent=function(t){n.log("1. checkingDatabaseEvent");n.log(t)};i.notChangedDatabaseEvent=function(t){n.log("1.z  notChangedDatabaseEvent");n.log(t)};i.downloadingDatabaseEvent=function(t){n.log("1.1. downloadingDatabaseEvent");n.log(t)};i.downloadedDatabaseEvent=function(t){n.log("1.2. downloadingDatabaseEvent");n.log(t)};i.extractedDatabaseEvent=function(t){n.log("1.3. extractedDatabaseEvent");n.log(t)};i.comparingDatabaseEvent=function(t){n.log("5. comparingDatabaseEvent");n.log(t)};f.start({transport:kendo.support.mobileOS?"longPolling":"auto"}).done(function(){n.log("connection started!")})}return n.log=function(n){if(console&&console.log)try{console.log(n)}catch(t){}},n.prototype.setupQueryString=function(){var t=this.hubConnection,n=this.options;t.qs={externalSiteId:n.externalSiteId,chainId:n.chainId}},n.prototype.bind=function(t,i){t===n.MenuItemChangeEvent&&this.menuItemChangeEvents.push(i)},n.prototype.connect=function(){},n.MenuItemChangeEvent="MenuItemChangeEvent",n}(),i;n.StoreHub=t;i=function(){function n(n){this.options=n;this.hub=new t(n);$("body").data("MyAndromeda.Hubs.StoreHub",this.hub);this.viewModel=kendo.observable({siteName:"",updates:[]})}return n.prototype.joinHub=function(){this.hub.connect()},n.prototype.init=function(){kendo.bind(this.options.id,this.viewModel);this.joinHub()},n}();n.MenuHubService=i})(n.Hubs||(n.Hubs={}));var t=n.Hubs})(MyAndromeda||(MyAndromeda={}));
/*
//# sourceMappingURL=MenuHub.min.js.map
*/