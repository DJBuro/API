var MyAdromedia;(function(n){(function(n){(function(n){var t=function(){function n(n){this.options=n,this.element=$(n.elementId),this.fieldsTemplate=$(n.fieldsTemplateId)}return n.prototype.checkIntegrity=function(){if(!this.element)throw new Error("The element for the editor is not known");if(!this.fieldsTemplate)throw new Error("the template for the field selection is not known");if(!this.options.editorOptions)throw new Error("the editor options are not set");},n.prototype.eventChangeTokenSelected=function(n,t){var i=n.dataItem(t.item.index());this.currentTemplate=i.value},n.prototype.setupFieldsTemplate=function(){var t=this,n=$("#ToolsInsertToken").kendoDropDownList({dataSource:this.options.tokenOptions,dataTextField:"text",dataValueField:"value",optionLabel:"Select"}).data("kendoDropDownList");n.bind("select",function(i){t.eventChangeTokenSelected(n,i)})},n.prototype.insertTemplate=function(){var n=this.currentTemplate+"&nbsp;";n||alert("Please select a token first"),this.getEditor().paste(n)},n.prototype.setupInsertButton=function(){var n=this,t=$(".k-insert-token-button").on("click",function(t){t.preventDefault(),n.insertTemplate()})},n.prototype.manageSelection=function(){var n=this.getEditor()},n.prototype.setupEditor=function(){var n=this,t=$(this.element),i=t.kendoEditor(this.options.editorOptions).data("kendoEditor");i.bind("select",function(t){n.manageSelection(t)})},n.prototype.init=function(){this.checkIntegrity(),this.setupEditor(),this.setupFieldsTemplate(),this.setupInsertButton()},n.prototype.getEditor=function(){return $(this.element).data("kendoEditor")},n.prototype.selected=function(){return this.getEditor().selectedHtml()},n.prototype.selectedRange=function(){return this.getEditor().getRange()},n}();n.emailEditorService=t})(n.EditorTools||(n.EditorTools={}));var t=n.EditorTools})(n.KendoExtensions||(n.KendoExtensions={}));var t=n.KendoExtensions})(MyAdromedia||(MyAdromedia={}))