<!DOCTYPE html>
<html>
<head>
<!--
    Copyright Â© 2014 Andromeda Trading Limited.  All rights reserved.  
    THIS FILE AND ITS CONTENTS ARE PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW. 
    ANY USE OF THE CONTENTS OF THIS FILE OR ANY PART OF THIS FILE WITHOUT EXPLICIT PERMISSION FROM ANDROMEDA TRADING LIMITED IS PROHIBITED. 
-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title id="title"></title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <!--<link rel="stylesheet" type="text/css" href="/Source/StyleSheets/WebOrdering.css" />
    <link rel="stylesheet" type="text/css" href="/Source/StyleSheets/WebOrderingMobile.css" media="screen and (max-width: 600px)" />
    <link rel="stylesheet" type="text/css" href="/Source/StyleSheets/WebOrderingPCandTablet.css" media="screen and (min-width: 601px)" />
    <link rel="stylesheet" type="text/css" href="/Source/StyleSheets/WebOrderingPC.css" media="screen and (min-width: 601px)" />-->
    
    <link rel="stylesheet" type="text/css" href="Content/Styles.css" />
    <link rel="stylesheet" type="text/css" href="Content/Skin.css" />
    <link rel="stylesheet" type="text/css" href="Custom/Custom.css" />

    <script type="text/javascript">

        // Translation strings
        var textStrings = undefined;

        // Settings
        var settings = undefined;

        // CSS Class/Id names
        var css_menu = 'sectionsWrapper';
        var css_sections = 'sections';
        var css_section = 'section';

    </script>

    <script src="Content/Scripts.js" type="text/javascript"></script>
    
    <!--
    <script src="Source/ResourceStrings/en-GB.js" type="text/javascript"></script>
    <script src="Source/ResourceStrings/fr-FR.js" type="text/javascript"></script>

    <script src="Source/Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="Source/Scripts/amplify.min.js" type="text/javascript"></script>
    <script src="Source/Scripts/jquery.history.js" type="text/javascript"></script>
    <script src="Source/Scripts/knockout-2.2.1.js" type="text/javascript"></script>
    <script src="Source/Scripts/modernizr.min.js" type="text/javascript"></script>
    <script src="Source/Scripts/OpenLayers.js" type="text/javascript"></script>

    <script src="Source/Scripts/Settings.js" type="text/javascript"></script>
    <script src="Source/Scripts/ACSAPI.js" type="text/javascript"></script>

    <script src="Source/ViewModels/viewModel.js"</script>
    <script src="Source/ViewModels/accountHelper.js"</script>
    <script src="Source/ViewModels/cacheHelper.js"</script>
    <script src="Source/ViewModels/cartHelper.js"</script>
    <script src="Source/ViewModels/checkoutHelper.js"</script>
    <script src="Source/ViewModels/checkoutMenuHelper.js"</script>
    <script src="Source/ViewModels/cookieHelper.js"</script>
    <script src="Source/ViewModels/dealHelper.js"</script>
    <script src="Source/ViewModels/dealPopupHelper.js"</script>
    <script src="Source/ViewModels/deliveryZoneHelper.js"</script>
    <script src="Source/ViewModels/guiHelper.js"</script>
    <script src="Source/ViewModels/helper.js"</script>
    <script src="Source/ViewModels/imageHelper.js"</script>
    <script src="Source/ViewModels/mapHelper.js"</script>
    <script src="Source/ViewModels/menuHelper.js"</script>
    <script src="Source/ViewModels/mobileMenuHelper.js"</script>
    <script src="Source/ViewModels/openingTimesHelper.js"</script>
    <script src="Source/ViewModels/popupHelper.js"</script>
    <script src="Source/ViewModels/postcodeCheckHelper.js"</script>
    <script src="Source/ViewModels/queryStringHelper.js"</script>
    <script src="Source/ViewModels/siteSelectorHelper.js"</script>
    <script src="Source/ViewModels/tandcHelper.js"</script>
    -->
        
    <script src="Custom/Custom.js" type="text/javascript"></script>

    <script type="text/javascript">

        $(document).ready(viewModel.initialise);

    </script>

    <!-- Place holder for dynamically loaded resource strings -->
    <script type="text/javascript" id="resourceStrings"></script>
</head>
<body>

    <!-- PAGE HEADER -->

    <!-- ko if: mobileMenuHelper.isMobileMenuVisible()-->
    <header data-bind="attr: { class: (popupHelper.isBackgroundVisible() || dealPopupHelper.isBackgroundVisible()) ? 'headFootPopup' : 'headFootNoPopup' }">
        <!-- ko if: !guiHelper.isMobileMode() -->
        <div id="pageHeader">
            <div id="pageHeaderInner">
                
                <a id="logo" data-bind="attr: { href: settings.logoClickUrl }"></a>

                <div id="headerRight">

                    <div id="socialMedia">
                        <!-- ko if: settings.useAddThis -->
                        <!--<div style="float:left;" class="addthis_toolbox addthis_32x32_style addthis_default_style">
                            <a class="addthis_button_facebook_follow" addthis:userid="Charcoal-Grill/543548275681398"></a>-->
                            <!--<a class="addthis_button_twitter_follow" addthis:userid="@Demo72980636"></a>
                            <a class="addthis_button_instagram_follow" addthis:userid="demoandromeda"></a>-->
                        <!--</div>
                        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=xa-51cd4bb34df56997"></script>-->

                        <div id="socialMediaAddThis" class="addthis_toolbox addthis_default_style addthis_32x32_style">
                            <!--<a class="addthis_button_compact"></a>
                            <a class="addthis_button_pinterest_share"></a>
                            <a class="addthis_button_google_plusone_share"></a>
                            <a class="addthis_button_twitter"></a>-->
                            <a class="addthis_button_facebook"></a>
                        </div>
                        <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=xa-51c026007093142e"></script>
                        <!-- /ko -->

                        <div id="twitter">
                            <a href="#" target="_blank" data-bind="attr: { href: settings.twitter, title: settings.twitter }, html: textStrings.hTwitter"></a>
                        </div>
                        <div id="facebook">
                            <a href="#" target="_blank" data-bind="attr: { href: settings.facebook, title: settings.facebook }, html: textStrings.hFacebook"></a>
                        </div>
                    </div>

                    <!-- ko ifnot: siteSelectorHelper.isPostcodeTextboxVisible -->
                    <!-- ko if: $root.siteDetails() != undefined -->
                    <div id="phone"><span data-bind="text: textStrings.hPhone"></span><span data-bind="text: siteDetails().phone"></span></div>
                    <!-- /ko -->

                    <div id="storeDetailsAddressWrapper">
                        <!-- ko if: $root.selectedSite() != undefined -->
                        <div id="storeDetailsAddress" data-bind="html: displayAddress"></div>
                        <!-- /ko -->
                    </div>

                    <!-- ko if: guiHelper.isMainMenuVisible -->
                    <div id="mainMenu">

                        <!-- Return to parent website -->
                        <!-- ko if: settings.showReturnToParentWebsite -->
                        <div id="menuReturnToParentWebsite" class="mainMenuButton">
                            <a data-bind="text: textStrings.hReturnToParentWebsiteButton, click: $root.returnToHostWebsite" href="#" ></a>   
                        </div> 
                        <!-- /ko -->

                        <!-- Delivery area check -->
                        <!-- ko if: settings.showDeliveryCheckButton && deliveryZoneHelper.deliveryZones() != undefined -->
                        <div id="menuDeliveryAreaCheck" class="mainMenuButton">
                            <a data-bind="text: textStrings.hDeliveryAreaButton, click: postcodeCheckHelper.showPopup" href="#" ></a>   
                        </div> 
                        <!-- /ko -->
                        
                        <!-- Select store -->
                        <!-- ko if: settings.showSelectStoresButton && viewModel.sites().length > 1 -->
                        <div id="menuSelectStore" class="mainMenuButton">
                            <a data-bind="text: textStrings.hChangeStoreButton, click: chooseStore" href="#"></a>
                        </div>
                        <!-- /ko -->

                        <!-- Menu -->
                        <!-- ko if: settings.showOrderNowButton -->
                        <div id="menuOrderNow" data-bind="attr: { class: guiHelper.isMenuVisible() ? 'mainMenuButtonSelected' : 'mainMenuButtonHighlighted' }">
                            <a data-bind="text: textStrings.hOrderNowButton, click: guiHelper.showMenu" href="#"></a> 
                        </div>
                        <!-- /ko -->   

                        <!-- Home -->
                        <!-- ko if: !settings.isHomePageDisabled -->
                        <div id="menuHome" data-bind="attr: { class: (!guiHelper.isMenuVisible() && $root.viewName() == 'homeView') ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                            <a data-bind="text: textStrings.hHomeButon, click: guiHelper.showHome" href="#"></a>
                        </div>  
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- /ko -->
                </div>
                
                <!-- xxko if: settings.storeSelectorMode && siteSelectorHelper.isPostcodeTextboxVisible -->
                <div id="siteSelectorPostcode" style="display:none;" data-bind="visible: settings.storeSelectorMode && siteSelectorHelper.isPostcodeTextboxVisible">
                    <div id="siteSelectorPostcodeTextbox">
                        <input id="siteSelectorPostcodeInput" autofocus data-bind="value: siteSelectorHelper.postcode, event: { 'keypress': siteSelectorHelper.siteSelectorPostcodeKeypress }" type="text" />
                    </div>

                    <!-- Check postcode button -->
                    <div id="siteSelectorPostcodeGoButton">
                        <a href="#" data-bind="click: siteSelectorHelper.checkPostcode"></a>
                    </div>

                    <!-- Postcode example -->
                    <div id="siteSelectorPostcodeExample" data-bind="text: textStrings.hSiteSelectorPostcodeExample">
                        <a href="#" data-bind="click: siteSelectorHelper.checkPostcode"></a>
                    </div>
                    
                    <!-- Show all sites button -->
                    <div id="siteSelectorShowSitesButton" class="mainMenuButton">
                        <a href="#" data-bind="text: textStrings.hShowAllRestaurants, click: siteSelectorHelper.showAllSites"></a>
                    </div>

                    <div id="badDeliveryZonePopup" class="deliveryZoneOk" data-bind="click: siteSelectorHelper.hideBadPostcode, attr: { class: siteSelectorHelper.isBadPostcode() ? 'badDeliveryZone' : 'deliveryZoneOk' }">
                    </div>

                </div>
                <!-- /xxko -->
            </div>    
        </div>
        <!-- /ko -->
        <!-- ko if: guiHelper.isMobileMode() -->
        <div id="mobileHeader">
            <div class="menuButton" data-bind="click: mobileMenuHelper.showPopup, visible: guiHelper.isMobileMenuVisible">
                <a href="#" data-bind="text: textStrings.mmOptions"></a>
            </div>
            <div style="float: left; padding-left: 40px;" data-bind="text: mobileMenuHelper.title, attr: { class: mobileMenuHelper.titleClass() }"></div>
            <!--<div class="addthis_toolbox addthis_default_style addthis_32x32_style" style="float:right; margin: 4px 2px 0 0; width: 32px;">-->
                <!--<a class="addthis_button_compact"></a>
                <a class="addthis_button_pinterest_share"></a>
                <a class="addthis_button_google_plusone_share"></a>
                <a class="addthis_button_twitter"></a>-->
                <!--<a class="addthis_button_facebook"></a>
            </div>
            <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=xa-51c026007093142e"></script>-->
        </div>
        <!-- /ko -->
    </header>
    <!-- /ko -->

    <!-- PAGE CONTENT (VIEW)-->
    <!-- ko if: guiHelper.isViewVisible -->
    <section id="viewContainer" data-bind="template: { name: viewName() }"></section>
    <!-- /ko -->

    <script type="text/html" id="dealsView">

        <!-- Deal header -->
        <div class="popupBoxHeaderContainer">

            <!-- Deal name & description -->
            <div class="popupItemDetails">
                <h2>
                    <span class="popupName" data-bind="html: dealHelper.selectedDeal.name"></span>
                </h2>
                <div class="popupDescription" data-bind="html: dealHelper.selectedDeal.description"></div>
            </div>

            <!-- Deal options -->
            <div id="popupDealOptions">
                        
                <!-- Accept changes button -->
                <!-- ko if: dealHelper.mode() == 'editDeal' -->
                <div id="dealPopupUpdateCartButton" class="highlightedButton">
                    <a data-bind="click: dealHelper.acceptChanges, text: textStrings.dptOk"></a>
                </div>
                <!-- /ko -->

                <!-- Remove from cart button -->
                <!-- ko if: dealHelper.mode() == 'editDeal' -->
                <div id="dealPopupRemoveFromCartButton" class="button">
                    <a data-bind="click: dealHelper.removeFromCart, text: textStrings.dptRemove"></a>
                </div>
                <!-- /ko -->

                <!-- Add to cart button -->
                <!-- ko if: dealHelper.mode() == 'addDeal' -->
                <div id="dealPopupAddToCartButton" class="highlightedButton">
                    <a data-bind="click: dealHelper.commitToCart, text: textStrings.dptAdd"></a>
                </div>
                <!-- /ko -->

                <!-- Cancel button -->
                <!-- ko if: dealHelper.mode() == 'addDeal' -->
                <div id="dealPopupCancelButton" class="button">
                    <a href="#" data-bind="click: dealHelper.dealPopupCancel, text: textStrings.dptCancel"></a>
                </div>
                <!-- /ko -->
 
            </div>

        </div>

        <!-- Deal body -->
        <div id="popupDealBoxBodyContainer">

            <!-- ko if: dealHelper.mode() == 'addDeal' -->
            <h1 data-bind="text: textStrings.dpPrompt"></h1>
            <div style="overflow-y:auto;">
                <!-- ko foreach: dealHelper.selectedDeal.bindableDealLines -->
                    <!-- ko template: { name: dealHelper.getDealLineTemplateName } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: dealHelper.hasError -->
            <div class="checkoutError" data-bind="text: textStrings.dpMissing"></div>
            <!-- /ko -->

        </div>

    </script>

    <!-- Popup deal line -->
    <script type="text/html" id="popupDealLine-template">
        <div class="popupDealLine">
            <span class="popupDealLineItem">
                <span data-bind="text: textStrings.pdtItem"></span>
                <span data-bind="text: dealLineWrapper.itemNo"></span>
            </span> 
        </div>
    </script>

    <!-- Popup deal line fixed -->
    <script type="text/html" id="popupDealLineFixed-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine, text: textStrings.pdlCustomize"></a>
                </div>
            </div>

            <div class="popupDealLineDetails">
                <!-- Item number -->
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">
                        <span data-bind="text: textStrings.pdlItem"></span>
                        <span data-bind="text: dealLineWrapper.itemNo"></span>
                    </span> 
                </div>

                <!-- Item name -->
                <div class="popupDealItemPicker" data-bind="text: selectedItemWrapper().name"></div>
            
                <!-- ko if: selectedMenuItem.FreeTops > 0 -->
                <div class="popupDealFreeTopsReminder" data-bind="text: textStrings.pdlCustomizeFree"></div>
                <!-- /ko -->
            </div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine">Customize</a>
                </div>
            </div>
        </div>
    </script>

    <!-- Popup deal line picker -->
    <script type="text/html" id="popupDealLinePicker-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedItemWrapper() == undefined || selectedItemWrapper().name != textStrings.pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine, text: textStrings.pdlpCustomize"></a>
                </div>
                <!-- /ko -->
            </div>

            <div class="popupDealLineDetails">
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">
                        <span data-bind="text: textStrings.pdtItem"></span>
                        <span data-bind="text: dealLineWrapper.itemNo"></span>
                    </span>
                </div> 

                <div class="popupDealItemPicker">
                    <select data-bind="options: itemWrappers, optionsText: 'name', value: selectedItemWrapper, attr: { class: hasError() ? 'checkoutDataError' : '', id: dealLineWrapper.id }"></select>
                </div>
            </div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedItemWrapper() == undefined || selectedItemWrapper().name != textStrings.pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine, text: textStrings.pdlpCustomize"></a>
                </div>
                <!-- /ko -->
            </div>

        </div>
    </script>    <!-- Cart sidebar -->
    <script type="text/html" id="cartView">
        <div id="yourOrderContainer">

            <div id="cartTitle">
                <h1 data-bind="text: textStrings.sMyOrder"></h1>
            </div>

            <!-- Delivery or collection -->
            <!-- ko if: guiHelper.canChangeOrderType() -->
            <div id="deliveryOrCollection">
                <label id="forDelivery" for="delivery" data-bind="attr: { class: viewModel.orderType() == 'delivery' ? 'ticked' : 'unticked' }, text: textStrings.sDeliverToDoor"></label>
                <input id="delivery" name="orderTypeGroup" type="radio" value="delivery" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
                <label id="forCollection" for="collection" data-bind="attr: { class: viewModel.orderType() == 'collection' ? 'ticked' : 'unticked' }, text: textStrings.sCollectFromStore"></label>
                <input id="collection" name="orderTypeGroup" type="radio" value="collection" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
            </div>
            <!-- /ko -->
            <!-- ko if: !guiHelper.canChangeOrderType() -->
            <div id="deliveryOrCollectionText">
                <label class="ticked" data-bind="text: ($root.orderType() == 'collection' ? textStrings.sCollectFromStore : textStrings.sDeliverToDoor)" ></label>                        
            </div>
            <!-- /ko -->

            <!-- Action buttons -->
            <!-- ko if: $root.isTakingOrders() -->

            <!-- Checkout actions -->
            <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsCheckout -->
            <div id="checkoutSidebarActions">
                <div class="button" style="width:150px;">
                    <a data-bind="click: checkoutHelper.modifyOrder, text: textStrings.sModifyOrder" href="#"></a>
                </div>
            </div>
            <!-- /ko -->

            <!-- Payment actions -->
            <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsPayment -->
            <div id="paymentSidebarActions">
                <div class="button" style="width:200px;">
                    <a data-bind="click: cartHelper.checkout, text: textStrings.sReturnToCheckout" href="#"></a>
                </div>
            </div>
            <!-- /ko -->

            <!-- /ko -->

            <div id="cartItems">
                <!-- Store offline -->
                <!-- ko if: !$root.isTakingOrders() -->
                <div>
                    <h2 data-bind="text: textStrings.sOffline"></h2>
                </div>
                <!-- /ko -->

                <!-- Store online -->
                <!-- ko if: $root.isTakingOrders() -->
                <div>

                    <!-- Cart empty -->
                    <!-- ko if: cartHelper.cart().cartItems().length == 0 && cartHelper.cart().deals().length == 0 -->
                    <div id="emptyBasket">
                        <h2 data-bind="text: textStrings.sEmpty1"></h2>
                        <p data-bind="text: textStrings.sEmpty2"></p>
                    </div>
                    <!-- /ko -->

                    <!-- Cart -->
                    <!-- ko if: cartHelper.cart().cartItems().length != 0 || cartHelper.cart().deals().length != 0 -->
                    <div id="cartWrapper">

                        <div id="orderItemsHeader">
                            <h2>
                                <span data-bind="text: textStrings.sItemCount1"></span>
                                <span data-bind="text: cartHelper.cart().deals().length + cartHelper.cart().cartItems().length"></span>
                                <span data-bind="text: textStrings.sItemCount2"></span>
                            </h2>
                        </div>
                        <div id="cartLineItems">
                            <!-- Deals -->
                            <!-- ko foreach: cartHelper.cart().deals -->
                                <!-- ko template: { name: cartHelper.getDealTemplate } -->
                                <!-- /ko -->
                            <!-- /ko -->

                            <!-- List items -->
                            <!-- ko foreach: cartHelper.cart().cartItems -->
                                <!-- ko template: { name: cartHelper.getItemTemplate } -->
                                <!-- /ko -->
                            <!-- /ko -->
                        </div>

                        <!-- Order sub total -->
                        <!-- ko if: cartHelper.cart().discountName != undefined -->
                        <div id="cartSubTotalWrapper">
                            <span class="cartTotal">Sub Total</span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displaySubTotalPrice"></span>
                        </div>

                        <!-- Order discount -->
                        <div id="cartDiscountWrapper">
                            <span class="cartTotal" data-bind="html: cartHelper.cart().discountName"></span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayDiscountAmount"></span>
                        </div>
                        <!-- /ko -->

                        <!-- Order totals -->
                        <div id="cartTotalWrapper">
                            <span class="cartTotal" data-bind="text: textStrings.sOrderTotal"></span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayTotalPrice"></span>
                        </div>

                        <!-- ko if: cartHelper.cart().totalPrice() < settings.minimumDeliveryOrder && $root.orderType() == 'delivery' -->
                        <div class="cartAutoRemove">
                            <span data-bind="text: textStrings.sMinimumDelivOrder"></span>
                            <span data-bind="html: helper.formatPrice(settings.minimumDeliveryOrder)"></span>
                        </div>
                        <!-- /ko -->

                        <!-- ko if: cartHelper.cart().areDisabledItems -->
                        <div class="cartAutoRemove" data-bind="text: textStrings.sInvalid"></div>
                        <!-- /ko -->

                        <!-- Menu actions -->
                        <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsMenu -->
                        <div id="cartSidebarActions" style="clear:both;">
                            <!-- ko if: cartHelper.cart().hasItems() -->
                            <div id="clearOrderButton" class="button">
                                <a data-bind="click: cartHelper.clearCart, text: textStrings.sClear" href="#"></a>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: cartHelper.cart().checkoutEnabled() -->
                            <div id="checkoutButton" class="highlightedButton">
                                <a data-bind="click: cartHelper.checkout, text: textStrings.sCheckout" href="#"></a>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: guiHelper.isMobileMode() -->
                            <div id="backToMenuButton" class="highlightedButton">
                                <a data-bind="click: guiHelper.showMenu, text: textStrings.sBackToMenu" href="#"></a>
                            </div>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->

                <!-- ko if: cartHelper.cart().cartItems().length != 0 && $root.menuViewName() == 'menuSectionsView' -->
                <div id="cartHelp" data-bind="text: textStrings.sRemove"></div>
                <!-- /ko -->
            </div>                      

        </div>
    </script>

    <!-- Cart item -->
    <script type="text/html" id="cartItem-template">
        <div data-bind="attr: { class: isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <a data-bind="click: cartHelper.editCartItem" href="#">
                <div class="cartRow">  
                    <span class="cartName" data-bind="html: displayName"></span>
                    <span data-bind="attr: { class: isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
                </div>
                <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
                <div class="notAvailable" data-bind="text: textStrings.ciCollectOnly"></div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
                <div class="notAvailable" data-bind="text: textStrings.ciDeliverOnly"></div>
                <!-- /ko -->
                <!-- ko foreach: displayToppings -->
                    <!-- ko template: { name: 'cartTopping-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </a>
        </div>
    </script>

    <!-- Disabled cart item -->
    <script type="text/html" id="disabledCartItem-template">
        <div class="cartItem">
            <div class="cartRow"> 
                <span class="cartName" data-bind="html: displayName"></span>
                <span data-bind="attr: { class: isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
            </div>
            <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
            <div class="notAvailable" data-bind="text: textStrings.dciCollectOnly"></div>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
            <div class="notAvailable" data-bind="text: textStrings.dciDeliverOnly"></div>
            <!-- /ko -->
            <!-- ko foreach: displayToppings -->
                <!-- ko template: { name: 'cartTopping-template' } -->
                <!-- /ko -->
            <!-- /ko -->
        </div>
    </script>

    <!-- Cart topping -->
    <script type="text/html" id="cartTopping-template">
        <div class="cartRowItemTopping">
            <span class="cartIndent1" data-bind="html: cartName"></span>
            <span data-bind="attr: { class: $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: cartPrice"></span>
        </div>
    </script>

    <!-- Cart deal -->
    <script type="text/html" id="cartDeal-template">
        <div data-bind="attr: { class: isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <a data-bind="click: cartHelper.editCartDeal" href="#">
                <div class="cartRow">  
                    <span class="cartName" data-bind="html: name"></span>
                    <span data-bind="attr: { class: isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
                </div>
                <!-- ko foreach: dealLines -->
                    <!-- ko template: { name: 'cartDealLine-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
                <!-- ko if: minimumOrderValueNotMet() -->
                <div class="cartRow cartError">
                    <span data-bind="text: textStrings.cdMinSpend"></span>
                    <span data-bind="html: minimumOrderValue"></span>
                </div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'delivery' && !deal.deal.ForDelivery -->
                <div class="notAvailable">This deal cannot be delivered to door</div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'collection' && !deal.deal.ForCollection -->
                <div class="notAvailable">This deal cannot be collected from store</div>
                <!-- /ko -->
            </a>
        </div>
    </script>

    <!-- Disabled cart deal -->
    <script type="text/html" id="disabledCartDeal-template">
        <div data-bind="attr: { class: isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <div class="cartRow">  
                <span class="cartName" data-bind="text: name"></span>
                <span data-bind="attr: { class: isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
            </div>
            <!-- ko foreach: dealLines -->
                <!-- ko template: { name: 'cartDealLine-template' } -->
                <!-- /ko -->
            <!-- /ko -->

            <!-- ko if: minimumOrderValueNotMet() -->
            <div class="cartRow cartError">
                <span data-bind="text: textStrings.cddMinSpend"></span>
                <span data-bind="html: minimumOrderValue"></span></div>
            <!-- /ko -->
        </div>
    </script>

    <!-- Cart deal line -->
    <script type="text/html" id="cartDealLine-template">
        <div class="cartRowDealLine">
            <span class="cartIndent1" data-bind="text: name"></span>
            <span data-bind="attr: { class: $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()">-</span>
        </div>
        <!-- ko if: categoryPremium() != undefined -->
        <div class="cartRowDealLineTopping">
            <span class="cartIndent1" data-bind="text: categoryPremiumName" style="margin-left:10px;"></span>
            <span data-bind="attr: { class: $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: categoryPremium"></span>
        </div>
        <!-- /ko -->
        <!-- ko if: itemPremium() != undefined -->
        <div class="cartRowDealLineTopping">
            <span class="cartIndent1" data-bind="text: itemPremiumName" style="margin-left:10px;"></span>
            <span data-bind="attr: { class: $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: itemPremium"></span>
        </div>
        <!-- /ko -->
        <!-- ko foreach: displayToppings -->
            <!-- ko template: { name: 'cartDealLineTopping-template' } -->
            <!-- /ko -->
        <!-- /ko -->
    </script>

    <!-- Cart deal line topping -->
    <script type="text/html" id="cartDealLineTopping-template">
        <div class="cartRowDealLineTopping">
            <span class="cartIndent2" data-bind="text: cartName" style="margin-left:10px;"></span>
            <span data-bind="attr: { class: $parents[1].isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: cartPrice"></span>
        </div>
    </script>    <!-- Deals section -->
    <script type="text/html" id="dealsSection-template">
        <div class="section" data-bind="attr: { 'id': 'section' + Index }">
            <div class="sectionItems">
                <!-- ko foreach: deals -->
                    <!-- ko template: { name: 'deal-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- Deal -->
    <script type="text/html" id="deal-template">
        <div class="dealItem">
            <!-- Add to cart button -->
            <!-- ko if: isEnabled() && $root.isTakingOrders && isAvailableToday -->
            <div class="dealOptions">
                <!-- ko if: $root.isTakingOrders() -->
                <div class="highlightedButton addItemButton">
                    <a href="#" data-bind="click: dealHelper.addToCart, text: textStrings.dAdd"></a>
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- Deal name -->
            <p class="dealName" data-bind="html: deal.DealName"></p>

            <!-- Deal description -->
            <p data-bind="html: deal.Description"></p>

            <!-- Not available messages -->
            <!-- ko if: minimumOrderValue.length > 0 -->
            <p class="notAvailable">
                <span data-bind="text: textStrings.dMinSpend"></span>
                <span data-bind="html: minimumOrderValue"></span>
            </p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'delivery' && !deal.ForDelivery -->
            <p class="notAvailable" data-bind="text: textStrings.dCollectOnly"></p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && !deal.ForCollection -->
            <p class="notAvailable" data-bind="text: textStrings.dDeliverOnly"></p>
            <!-- /ko -->
            <!-- ko if: isAvailableToday == false -->
            <p class="notAvailable" data-bind="text: textStrings.dNotToday"></p>
            <!-- /ko -->
        </div>
    </script>    <!-- ERROR VIEW -->
    <script type="text/html" id="errorView">
        <div class="content">
            <div class="sitesBox">
                <!-- Error -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>

                <h2 class="errorMessage" data-bind="text: $root.error.message()"></h2>
                <div class="errorOptions">
                    <div class="button" style="width:150px;" data-bind="visible: $root.error.showReturn">
                        <a href="#" data-bind="click: guiHelper.errorReturn">OK</a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- HOME PAGE -->
    <script type="text/html" id="homeView">
        <div class="content">
            <div class="homeBox">
                <div class="homeBoxInner">
                    <h1 class="welcomeHeader" data-bind="text: $root.selectedSite().name"></h1>
                
                    <h2 id="homeFullOrderDeal" data-bind="html: menuHelper.fullOrderDiscountDeal == undefined ? '' : menuHelper.fullOrderDiscountDeal.Description"></h2>

                    <div id="deliveryTimesAddressWrapper">
                        <div id="homeDeliveryTimes">
                            <h1 data-bind="text: textStrings.homeDeliveryTimes"></h1>
                    
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeMonday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.monday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeTuesday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.tuesday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeWednesday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.wednesday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeThursday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.thursday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeFriday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.friday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeSaturday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.saturday.displayText()"></div>
                            </div>
                            <div class="homeDeliveryTimesDay">
                                <div class="homeDeliveryTimesDayColumn1" data-bind="text: textStrings.homeSunday"></div>
                                <div class="homeDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.sunday.displayText()"></div>
                            </div>

                            <h2>Delivery time is currently <span data-bind="text: viewModel.etd()"></span> min</h2>
                            <div id="homeDeliveryMinimumOrder">Minimum delivery order <span data-bind="html: helper.formatPrice(settings.minimumDeliveryOrder)"></span></div>
                        </div>

                        <div id="homeAddressWrapper">
                            <div id="homeAddressWrapperInner">
                                <div id="homeAddressWrapperInner2">
                                    <div id="homeAddress">
                                        <h1>Where to find us</h1>
                                        <div id="homeAddressLines" data-bind="html: displayAddressMultiLine"></div>
                                        <div id="homeAddressLinesMobile">
                                            <div data-bind="html: displayAddress"></div>
                                            <div id="homeAddressLinesMobileTel">Tel. <span data-bind="text: siteDetails().phone"></span></div>
                                        </div>
                                    </div>
                                    <div id="homeAddressMap">
                                        <div id="mapContainer">
                                            <div id="map"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="homeMenuSections">
                        <h1>Order food online</h1>
                        <p>Click/tap on the buttons below to browse our menu and order food online.</p>
                        <div id="homeMenuButtonsWrapper">
                            <div id="homeMenuButtons">
                                <!-- ko foreach: sections -->
                                    <!-- ko template: { name: 'homeSectionButton-template' } -->
                                    <!-- /ko -->
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>    <script type="text/html" id="loginRegisterView">
        <div id="loginRegisterInner">
            <!-- Header -->
            
            <div>

                <!-- Sign in -->
                <h1>Sign in</h1>

                <div id="signIn">

                    <div id="loginUsingFacebook">

                        <!-- Login using facebook -->
                        <p>If you're a facebook user you don't need to sign up for an account with our website</p>
                        <div id="facebookLoginButtonOuter">
                            <div class="button" id="facebookLoginButton">
                                <a href="#" title="Login using facebook" data-bind="click: accountHelper.facebookLogin">Sign in using facebook</a>
                            </div>
                        </div>
                    
                    </div>
                    
                    <!-- Divider -->
                    <div id="facebookLoginDivider">
                        <div id="facebookLoginDividerTop">
                            &nbsp;
                        </div>
                        <div>OR</div>
                        <div id="facebookLoginDividerBottom">
                            &nbsp;
                        </div>
                    </div>

                    <div id="loginSection">
                        <!-- Login -->

                        <div id="loginSectionInner">
                            <p>Sign in using the email address and password you used when you created your account</p>
                            <div class="loginFormPrompt">
                                <label>Email address</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="email" data-bind="value: accountHelper.loginDetails.emailAddress" />
                            </div>

                            <div class="loginFormPrompt">
                                <label>Password</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="password" data-bind="value: accountHelper.loginDetails.password" />
                            </div>
                        </div>

                        <div id="loginButtonContainer">
                            <div class="button" id="loginButton">
                                <a href="#" title="Login" data-bind="click: accountHelper.normalLogin">Login</a>
                            </div>

                            <div id="loginError" data-bind="text: accountHelper.loginDetails.errorMessage"></div>
                        </div>
                    </div>
                </div>

                <!-- Register -->
                <div id="registerContainer">
                    <h1 id="createAnAccount">Create an account</h1>
                    <div id="registerContainerInner">
                        <div class="registerSection">

                            <div class="loginFormPrompt">
                                <label>First name</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="text" data-bind="value: accountHelper.newAccount.firstName, attr: { class: accountHelper.newAccount.firstNameHasError() ? 'checkoutDataError' : '' }" />
                            </div>

                            <div class="loginFormPrompt">
                                <label>Surname</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="text" data-bind="value: accountHelper.newAccount.surname, attr: { class: accountHelper.newAccount.surnameHasError() ? 'checkoutDataError' : '' }" />
                            </div>

                            <div class="loginFormPrompt">
                                <label>Email address</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="email" data-bind="value: accountHelper.newAccount.emailAddress, attr: { class: accountHelper.newAccount.emailAddressHasError() ? 'checkoutDataError' : '' }" />
                            </div>

                        </div>
                        <div class="registerSection">

                            <div class="loginFormPrompt">
                                <label>Phone number</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="tel" data-bind="value: accountHelper.newAccount.phoneNumber, attr: { class: accountHelper.newAccount.phoneNumberHasError() ? 'checkoutDataError' : '' }" />
                            </div>

                            <div class="loginFormPrompt">
                                <label>Password</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="password" data-bind="value: accountHelper.newAccount.password, attr: { class: accountHelper.newAccount.passwordHasError() ? 'checkoutDataError' : '' }" />
                            </div>

                            <div class="loginFormPrompt">
                                <label>Re-enter password</label>
                            </div>
                            <div class="loginFormInput">
                                <input type="password" data-bind="value: accountHelper.newAccount.reenterPassword" />
                            </div>

                        </div>

                        <div id="registerMarketing">
                            <input type="checkbox" data-bind="checked: accountHelper.newAccount.marketing" />
                            <label>Let me know about new products and special offers</label>
                        </div>

                        <div id="registerErrorMessage" data-bind="text: accountHelper.newAccount.errorMessage"></div>
                    </div>
                </div>
            </div>

            <!-- Buttons -->
            <div id="loginRegisterButtons">
                <div class="highlightedButton" id="signUpButton">
                    <a href="#"  title="Sign up now" data-bind="click: accountHelper.showRegister">Sign up</a>
                </div>
                <div class="highlightedButton" id="closeLoginRegisterPopupButton">
                    <a href="#"  title="Close the popup" data-bind="click: accountHelper.cancel">Cancel</a>
                </div>
            </div>
        </div>
    </script>    <!-- Menu section -->
    <script type="text/html" id="menuSection-template">
        <div class="section" data-bind="attr: { 'id': 'section' + Index }">            
            <div class="sectionItems">
                <!-- ko foreach: items -->
                <div class="itemRow">
                    <div class="itemImage" data-bind="attr: { style: 'height: ' + thumbnailHeight + 'px, width: ' + thumbnailWidth + 'px' }">
                        <!-- ko if: thumbnail != undefined -->
                        <img src="#" data-bind="click: imageHelper.showPopup, attr: { src: menuHelper.menuDataThumbnails.Server.Endpoint + thumbnail.Src, height: thumbnailHeight + 'px', width: thumbnailWidth + 'px' }"  />
                        <!-- /ko -->
                        <!-- ko if: overlayImage -->
                            <div class="itemImageOverlay" data-bind="click: imageHelper.showPopup"></div>
                        <!-- /ko -->
                    </div>
                    <div data-bind="attr: { class: thumbnail == undefined ? 'itemDetails' : 'itemDetailsWithImage' }">
                        <div data-bind="html: name" class="itemName"></div>
                        <!-- ko if: !guiHelper.isMobileMode() -->
                        <div data-bind="html: description" class="itemDescription"></div>
                        <!-- /ko -->
                        <div class="priceCategoryContainer">
                    
                            <div class="categoryQuantityContainer" data-bind="visible: isEnabled && $root.isTakingOrders">

                                <div class="quantity">
                                    <select data-bind="value: quantity, event: { change: $root.selectedItemChanged }">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                    </select>
                                    <label data-bind="text: textStrings.miQuantity"></label>
                                </div>
                                <div class="category2">
                                    <!-- ko if: category2s().length > 1 -->
                                    <select data-bind="enable: isEnabled, options: category2s, optionsText: 'Name', value: selectedCategory2, event: { change: $root.selectedItemChanged }"></select>
                                    <!-- /ko -->
                                </div>
                                <div class="category1">
                                    <!-- ko if: category1s().length > 1 -->
                                    <select data-bind="enable: isEnabled, options: category1s, optionsText: 'Name', value: selectedCategory1, event: { change: $root.category1Changed }"></select>
                                    <!-- /ko -->
                                </div>
                                    
                            </div>
                            <div class="priceAddContainer">
                                <div class="itemPrice"><span data-bind="html: price"></span></div>
                                <!-- ko if: $root.isTakingOrders() -->
                                <div class="highlightedButton addItemButton">
                                    <a href="#" data-bind="click: $root.addItemToCart, text: textStrings.miAdd"></a>
                                </div>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                    <!-- ko if: guiHelper.isMobileMode() -->
                    <div data-bind="html: description" class="itemDescription"></div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
        </div>
    </script>    <!-- PLEASE WAIT VIEW -->
    <script type="text/html" id="pleaseWaitView">
        <div class="content">
            <div class="sitesBox">
                <!-- Please wait -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>
                <h2 class="waitPrompt" data-bind="text: textStrings.pwOneMomentPlease"></h2>
                <div style="width:35px; margin: 0 auto;">
                    <div style="margin: 0 auto;"><img src="Content/Images/loader.gif" /></div>
                </div>
                <p style="text-align:center;">
                    <span data-bind="text: $root.pleaseWaitMessage()"></span>
                    <span data-bind="text: $root.pleaseWaitProgress()"></span>
                </p>
            </div>
        </div>
    </script>    <script type="text/html" id="postcodeCheckView">
        <div id="postcodeCheckInner">
            <!-- Header -->
            <h1>Enter your postcode below to check if you are in our delivery area</h1>
            
            <div id="postcodeCheckTop">
                <div id="postcodeCheckInput">
                    <input type="text" id="postcodeCheckTextbox" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, event: { 'keypress': postcodeCheckHelper.checkPostcodeKeypress }" />
                </div>
                <div id="postcodeCheckButton" class="button">
                    <a href="#" title="Check my postcode" data-bind="click: postcodeCheckHelper.checkPostcode">Check my postcode</a>
                </div>
            </div>
            <!-- ko if: postcodeCheckHelper.isInDeliveryZone() != undefined -->
            <div id="postcodeCheckResult">
                <!-- ko if: !postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckFail">Sorry, you're not in our delivery area but you are welcome to collect your order from our store</p>
                <!-- /ko -->
                <!-- ko if: postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckOk">You are in our delivery area</p>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: viewModel.sites().length > 1 -->
            <div id="postcodeCheckChangeStoreButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.changeStore">Change store</a>
            </div>
            <!-- /ko -->

            <div id="postcodeCheckShowMenuButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.showMenu">Return to the menu</a>
            </div>
        </div>
    </script>    <!-- SELECTOR VIEW -->
    <script type="text/html" id="siteSelectorView">
        <div class="content">
            <div class="siteSelectorBox">
                
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>
                
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.sselStoreSelector"></h2>

            </div>
        </div>
    </script>    <!-- SITES VIEW -->
    <script type="text/html" id="sitesView">
        <div class="content">
            <div class="sitesBox">
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.slChooseRestaurant"></h2>
                <!-- ko foreach: sites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->

                <!--<div id="chooseStoreSelectContainer">
                    <div id="chooseStoreSelectOuter">
                        <div id="chooseStoreSelectInner">
                            <select data-bind="options: sites, optionsText: 'displayText', value: selectedSite"></select>
                        </div>
                    </div>
                </div>-->
                <!--<div class="chooseStoreOptions" style="clear:both;">
                    <div class="button" style="width:250px;">
                        <a href="#" data-bind="click: $root.storeSelected">Order food now</a>
                    </div>
                </div>-->

            </div>
        </div>
    </script>    <!-- STORE SELECTOR VIEW -->
    <script type="text/html" id="storeSelectorSitesView">
        <div class="content">
            <div class="sitesBox">
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>
               
                <!-- ko if: settings.storeSelectorMode -->
                <!-- ko if: deliverySites().length > 0 -->
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.ssStoreSelector">The following restaurants deliver to your postcode</h2>
                <!-- ko foreach: deliverySites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->
                <div style="clear:both; padding-top:10px; text-align:center;">
                    <a href="#" data-bind="text: textStrings.ssShowMeAllTheRestaurants"></a>
                </div>
                <!-- /ko -->

                <!-- ko if: deliverySites().length == 0 -->
                <!-- ko if: collectionOnlySites().length > 0 -->
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.ssCollect"></h2>
                <!-- ko foreach: collectionOnlySites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->
                <!-- /ko -->
                <!-- /ko -->
                <!-- /ko -->

                <!-- ko ifnot: settings.storeSelectorMode -->
                <!-- ko foreach: sites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->
                <!-- /ko -->

            </div>
        </div>
    </script>    <script type="text/html" id="toppingsView">

        <!-- Header -->
        <div class="popupBoxHeaderContainer">

            <!-- Item name & description -->
            <div class="popupItemDetails">
                <h2>
                    <span id="popupName" data-bind="html: $root.selectedItem.name"></span>
                </h2>
                <div id="popupDescription" data-bind="html: $root.selectedItem.description"></div>
            </div>

            <!-- Options -->
            <div id="popupOptions">

                <div id="popupOptionsRight">
                    <!-- Accept item changes button -->
                    <!-- ko if: popupHelper.mode() == 'editItem' -->
                    <div id="popupUpdateItemButton" class="highlightedButton">
                        <a href="#"  title="Update item" data-bind="click: popupHelper.acceptChanges">OK</a>
                    </div>
                    <!-- /ko -->

                    <!-- Add item to cart button -->
                    <!-- ko if: popupHelper.mode() == 'addItem' -->
                    <div id="popupAddToCartButton" class="highlightedButton">
                        <a href="#" title="Add item to your order" data-bind="click: popupHelper.commitToCart, text: textStrings.tpAdd"></a>
                    </div>
                    <!-- /ko -->

                    <!-- Add/Edit deal item button -->
                    <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                    <div id="popupAddToDealButton" class="highlightedButton">
                        <a href="#" title="Add item to your order" data-bind="click: popupHelper.commitToDeal, text: textStrings.tpOk"></a>
                    </div>
                    <!-- /ko -->

                    <!-- Remove item from cart button -->
                    <!-- ko if: popupHelper.mode() == 'editItem' -->
                    <div id="popupRemoveFromCartButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.removeFromCart, text: textStrings.tpRemove"></a>
                    </div>
                    <!-- /ko -->

                    <!-- Cancel button -->
                    <!-- ko if: popupHelper.mode() == 'addItem' -->
                    <div id="popupCancelButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.cancel, text: textStrings.tpCancel"></a>
                    </div>
                    <!-- /ko -->

                    <!-- Cancel deal button -->
                    <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                    <div id="popupCancelDealButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.cancelDeal, text: textStrings.tpCancelDeal"></a>
                    </div>
                    <!-- /ko -->
                </div>

                <div id="popupOptionsLeft">
                    <div id="popupOptionsTopPrice">

                        <!-- Price header-->
                        <div id="popupPriceHeader">
                        <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                        <span data-bind="text: textStrings.tpAddedCharges"></span>
                        <!-- /ko -->
                        <!-- ko if: popupHelper.mode() == 'addItem' || popupHelper.mode() == 'editItem' -->
                        <span data-bind="html: textStrings.tpItemPrice"></span>
                        <!-- /ko -->
                        </div>

                        <!-- Price -->
                        <div id="popupPrice" data-bind="html: $root.selectedItem.price"></div>
                    </div>

                    <div id="popupOptionsTopQuantity">
                        <!-- Quantity -->
                        <!-- ko if: popupHelper.mode() != 'addDealItem' && popupHelper.mode() != 'editDealItem' -->
                        <div id="popupQuantity">
                            <div id="popupQuantityHeader">
                                <label for="popupQuantityDropDownList" data-bind="text: textStrings.tpQuantity"></label>
                            </div>
                            <div>
                                <span>
                                    <select data-bind="value: $root.selectedItem.quantity, click: popupHelper.quantityChanged">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                    </select>
                                </span>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>

                    <div id="popupCatContainer">

                        <!-- ko if: $root.selectedItem.category1s().length > 0 || $root.selectedItem.category2s().length > 0 -->
                        <div id="popupCatHeader" data-bind="text: textStrings.tpItemType"></div>
                        <!-- /ko -->

                        <!-- Cat 1 -->
                        <!-- ko if: $root.selectedItem.category1s().length > 0 -->
                        <div id="popupCategory1">
                            <!-- ko if: $root.selectedItem.category1s().length > 1 -->
                            <select data-bind="options: $root.selectedItem.category1s, optionsText: 'Name', value: $root.selectedItem.selectedCategory1, event: { change: popupHelper.popupCategory1Changed }"></select>
                            <!-- /ko -->
                            <!-- ko if: $root.selectedItem.category1s().length == 1 -->
                            <span data-bind="text: $root.selectedItem.category1s().length == 1 ? $root.selectedItem.category1s()[0].Name : ''"></span>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                        <!-- Cat 2 -->
                        <!-- ko if: $root.selectedItem.category2s().length > 0 -->
                        <div id="popupCategory2">
                            <!-- ko if: $root.selectedItem.category2s().length > 1 -->
                            <select data-bind="options: $root.selectedItem.category2s, optionsText: 'Name', value: $root.selectedItem.selectedCategory2, event: { change: popupHelper.popupSelectedItemChanged }"></select>
                            <!-- /ko -->
                            <!-- ko if: $root.selectedItem.category2s().length == 1 -->
                            <span data-bind="text: $root.selectedItem.category2s().length == 1 ? $root.selectedItem.category2s()[0].Name : ''"></span>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    
                </div>
            </div>

        </div>

        <!-- Popup body -->
        <div id="popupBody">
            <div id="popupToppingsContainer" data-bind="visible: $root.selectedItem.toppings().length > 0">
                <h1 data-bind="text: textStrings.tpCustomize"></h1>

                <!-- ko if: $root.selectedItem.menuItem() != undefined && $root.selectedItem.menuItem().DefTopIds.length > 0 -->
                <span id="popupToppingsHelp" data-bind="text: textStrings.tpTickPrompt"></span>
                <!-- /ko -->

                <!-- ko if: $root.selectedItem.freeToppings() > 0 -->
                <div id="popupFreeToppings">
                    <span data-bind="text: textStrings.tpFreeItems1"></span>
                    <span data-bind="text: $root.selectedItem.freeToppingsRemaining()"></span>
                    <span data-bind="text: textStrings.tpFreeItems2"></span>
                </div>
                <!-- /ko -->

                <div class="popupToppingsHeaders">
                    <div class="popupToppingsSingle" data-bind="visible: $root.selectedItem.toppings().length > 0">
                        <span data-bind="text: textStrings.tpSingle"></span>
                    </div>
                    <div class="popupToppingsDouble" data-bind="visible: $root.selectedItem.toppings().length > 0">
                        <span data-bind="text: textStrings.tpDouble"></span>
                    </div>

                    <div class="popupToppingsSingle2" data-bind="visible: $root.selectedItem.toppings().length > 1">
                        <span data-bind="text: textStrings.tpSingle"></span>
                    </div>
                    <div class="popupToppingsDouble2" data-bind="visible: $root.selectedItem.toppings().length > 1">
                        <span data-bind="text: textStrings.tpDouble"></span>
                    </div>

                    <div class="popupToppingsSingle2" data-bind="visible: $root.selectedItem.toppings().length > 2">
                        <span data-bind="text: textStrings.tpSingle"></span>
                    </div>
                    <div class="popupToppingsDouble2" data-bind="visible: $root.selectedItem.toppings().length > 2">
                        <span data-bind="text: textStrings.tpDouble"></span>
                    </div>
                </div>

                <div class="popupToppings">
                    <!-- ko foreach: $root.selectedItem.toppings -->
                        <!-- ko template: { name: 'popupTopping-template' } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>
            </div>

            <div class="popupExtraBits">
                <div class="popupChefComments">
                    <h1 data-bind="text: textStrings.tpCommentsForChef"></h1>
                    <div id="popupChefCommentsInner">
                        <p data-bind="text: textStrings.tpExtraBits"></p>
                        <textarea data-bind="value: $root.selectedItem.instructions"></textarea>
                    </div>
                </div>

                <div class="popupPerson">
                    <h1 data-bind="text: textStrings.tpForPeson"></h1>
                    <div id="popupPersonInner">
                        <p data-bind="text: textStrings.tpPerson"></p>
                        <input type="text" data-bind="value: $root.selectedItem.person" />
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Popup topping -->
    <script type="text/html" id="popupTopping-template">
        <div class="popupTopping">
            <div data-bind="attr: { class: type == 'removable' ? 'popupRemovableTopping' : 'popupAdditionalTopping' }">
                <span class="popupToppingName" data-bind="text: topping.Name == undefined ? topping.ToppingName : topping.Name"></span>
                <span class="popupToppingPrice" data-bind="html: price"></span>
                <input type="checkbox" data-bind="checked: selectedSingle, click: popupHelper.singleChanged" />
            </div>
            <span class="popupToppingPrice" data-bind="html: doublePrice"></span>
            <input type="checkbox" data-bind="checked: selectedDouble, click: popupHelper.doubleChanged" />
        </div>
    </script><!-- French address template-->
    <script type="text/html" id="frenchAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1FR" data-bind="text: textStrings.org1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg1FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org1_eg_FR"></div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2FR" data-bind="text: textStrings.org2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg2FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org2_eg_FR"></div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1FR" data-bind="text: textStrings.prem1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem1FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem1_eg_FR"></div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2FR" data-bind="text: textStrings.prem2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem2FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem2_eg_FR"></div>
        </div>

        <!-- Prem3 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem3FR" data-bind="text: textStrings.prem3_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem3FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem3, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem3_eg_FR"></div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumberFR" data-bind="text: textStrings.roadNumber_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNumberFR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadNumber, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadNumber_eg_FR"></div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadNameFR" data-bind="text: textStrings.roadName_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNameFR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, attr: { class: checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadName_eg_FR"></div>
        </div>

        <!-- User Locality 1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality1FR" data-bind="text: textStrings.userLocality1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality1FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality1_eg_FR"></div>
        </div>

        <!-- User Locality 2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality2FR" data-bind="text: textStrings.userLocality2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality2FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality2_eg_FR"></div>
        </div>

        <!-- User Locality 3 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality3FR" data-bind="text: textStrings.userLocality3_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality3FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality3, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality3_eg_FR"></div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTownFR" data-bind="text: textStrings.town_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutTownFR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, attr: { class: checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.town_eg_FR"></div>
        </div>

        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPostcodeFR" data-bind="text: textStrings.zipCode_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPostcodeFR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, attr: { class: checkoutHelper.errors.zipCodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3"  data-bind="text: textStrings.zipCode_eg_FR"></div>
        </div>

        <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError" data-bind="text: textStrings.checkMissingInfoError"></div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.zipCode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError" data-bind="text: textStrings.checkBadPostcode"></div>
        <!-- /ko -->

    </script>    <!-- Generic address template-->
    <script type="text/html" id="genericAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Department: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text2" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Sales Department
            </div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2">Organisation name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text8" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Andromeda Trading Ltd.
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">House name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text10" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Flat 1 or 'Sandy Cottage'
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text11" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                 E.g. Nelson Mandela House
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">House number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text12" type="text" pattern="[0-9]*" data-bind="value: checkoutHelper.checkoutDetails.address.roadNumber, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Road name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text13" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, attr: { class: checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "Park Road"
            </div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">Town: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text14" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, attr: { class: checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                The town name. E.g. "Ely"
            </div>
        </div>

        <!-- Locality -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutLocality">Locality: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text15" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.locality, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Town âLondonâ, Locality âWestminsterâ
            </div>
        </div>
        	
        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutPostcode">Postcode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text16" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, attr: { class: checkoutHelper.errors.zipCodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "SM6 0DZ"
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.zipCode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>    <!-- UK address template-->
    <script type="text/html" id="ukAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Department: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg1" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Sales Department
            </div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2">Organisation name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg2" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Andromeda Trading Ltd.
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">House name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem1" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Flat 1 or 'Sandy Cottage'
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem2" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                 E.g. Nelson Mandela House
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">House number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNumber" type="text" pattern="[0-9]*" data-bind="value: checkoutHelper.checkoutDetails.address.roadNumber, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Road name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadName" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, attr: { class: checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "Park Road"
            </div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">Town: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutTown" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, attr: { class: checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                The town name. E.g. "Ely"
            </div>
        </div>

        <!-- Locality -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutLocality">Locality: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutLocality" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.locality, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Town âLondonâ, Locality âWestminsterâ
            </div>
        </div>
        	
        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutPostcode">Postcode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPostcode" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, attr: { class: checkoutHelper.errors.zipCodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "SM6 0DZ"
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.zipCode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>    <!-- US address template-->
    <script type="text/html" id="usAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Company name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text1" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org1" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">Unit name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text3" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building/Condo name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text4" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">Street number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text5" type="text" pattern="[0-9]*" data-bind="value: checkoutHelper.checkoutDetails.address.roadNumber" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Street name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text6" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, attr: { class: checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "10th STREET WEST"
            </div>
        </div>

        <!-- City -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">City: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text7" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, attr: { class: checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                The city name. E.g. "BILLINGS"
            </div>
        </div>
        	
        <!-- Zipcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutPostcode">ZipCode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text9" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, attr: { class: checkoutHelper.errors.zipCodeHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "86400"
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.zipCode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>    <!-- CHECKOUT DETAILS VIEW -->
    <script type="text/html" id="checkoutView">
        <div class="checkoutPage">
            <section id="checkoutPageInner">
                <h1 data-bind="text: textStrings.checkCheckout"></h1>
                <!-- Checkout section headers -->
                <div id="checkoutSectionContainer" class="checkoutSectionHeaders">
                    <!-- ko foreach: checkoutHelper.checkoutSections -->
                        <!-- ko template: { name: 'checkoutSectionHeader-template' } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>

                <!-- Checkout sections -->
                <div id="checkoutSectionsContainer" class="sectionsContainer">
                    <!-- ko foreach: checkoutHelper.checkoutSections -->
                        <!-- ko template: { name: checkoutHelper.getTemplateName } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>
            </section>
         </div>
    </script>

    <!-- Checkout section header -->
    <script type="text/html" id="checkoutSectionHeader-template">
        <div class="checkoutSectionHeader" data-bind="attr: { class: checkoutHelper.visibleCheckoutSection() == index ? 'selectedCheckoutSectionHeader' : 'checkoutSectionHeader' }">
            <h2 data-bind="click: $parent.showCheckoutSection, text: displayName"></h2>
        </div>
    </script>    <!-- Contact details -->
    <script type="text/html" id="checkoutContactDetails-template">
        <div class="checkoutSection" data-bind="attr: { 'id': id }">
            <div id="checkoutContactDetailsContainer">
                <h3 data-bind="text: textStrings.checkWhoAreYou"></h3>

                <!-- First name -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutFirstName" data-bind="text: textStrings.checkFirstName"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutFirstName" type="text" data-bind="value: checkoutHelper.checkoutDetails.firstName, attr: { class: checkoutHelper.errors.firstNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage" />
                    </div>
                    
                </div>

                <!-- Surname -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutLastName" data-bind="text: textStrings.checkSurname"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutLastName" type="text" data-bind="value: checkoutHelper.checkoutDetails.surname, attr: { class: checkoutHelper.errors.surnameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage" />
                    </div>
                </div>

                <!-- Phone -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutTelNo" data-bind="text: textStrings.checkTel"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutTelNo" type="tel" data-bind="value: checkoutHelper.checkoutDetails.telephoneNumber, attr: { class: checkoutHelper.errors.telephoneHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage" />
                    </div>
                </div>

                <!-- Email -->
                <div class="checkoutContactLine">
                    <div class="required">&nbsp;</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutEmail" data-bind="text: textStrings.checkEmail"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <span id="checkoutEmail" data-bind="text: checkoutHelper.checkoutDetails.emailAddress" />
                    </div>
                </div>
                <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

                <!-- Marketing -->
                <div class="checkoutContactLine" style="margin-top:10px;">
                    <div style="clear: left; float:left; width: 20px; text-align: right; margin-top:5px;">
                        <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.marketing" id="marketing" />
                    </div>
                    <div style="float:left; margin-top:5px;">
                        <label for="marketing" data-bind="text: textStrings.checkMarketing"></label>
                    </div>
                </div>

                <div class="checkoutContactLine">
                    <div style="clear: left; float:left; width: 20px; text-align: right; margin-top:5px;">
                        <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.rememberContactDetails" id="Checkbox1" />
                    </div>
                    <div style="float:left; margin-top:5px;">
                        <label for="rememberContactDetails" data-bind="text: textStrings.checkRememberContact"></label> 
                    </div>
                </div>

                <!-- ko if: checkoutHelper.errors.contactDetailsHasError() -->
                <div class="checkoutError" data-bind="text: textStrings.checkMissing"></div>
                <!-- /ko -->

                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Delivery address -->
    <script type="text/html" id="checkoutDeliveryAddress-template">
        <div class="checkoutSection" data-bind="attr: { 'id': id }">
            <div id="checkoutDeliveryAddressContainer">
                <h3 data-bind="text: textStrings.checkDeliveryAddress"></h3>
                <div data-bind="template: { name: $root.addressType() }"></div>
                <div id="rememberAddressWrapper">
                    <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.rememberAddress" id="rememberAddress" />
                    <label for="rememberAddress" data-bind="text: textStrings.checkRememberAddress"></label> 
                </div>

                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Collection/Delivery time -->
    <script type="text/html" id="checkoutDeliveryTime-template">
        <div class="checkoutSection" data-bind="attr: { 'id': id }">
            <div id="checkoutDeliveryTimeContainer">
                <div id="checkoutDeliveryTimePrompt">
                    <h3>
                        <span data-bind="visible: $root.orderType() == 'collection', text: textStrings.checkCollectTime"></span>
                        <span data-bind="visible: $root.orderType() == 'delivery', text: textStrings.checkDeliverTime"></span>
                    </h3>
                </div>
                <div id="checkoutDeliveryTime">
                    <div id="deliveryTimeRequired">*<select id="deliveryTime" data-bind="options: checkoutHelper.times, optionsText: 'text', value: checkoutHelper.checkoutDetails.wantedTime, attr: { class: checkoutHelper.errors.deliveryTimeError() ? 'checkoutDataError' : '' }, event: { change: checkoutHelper.deliveryTimeChanged }"></select>
                    </div>
                    <div>
                        <p data-bind="text: textStrings.checkSlotWarning"></p>
                    </div>
                </div>
                <div class="requiredLine">
                    * Required
                </div>
                <div class="checkoutError" data-bind="visible: checkoutHelper.errors.deliveryTimeHasError(), text: textStrings.checkMissing">
                </div>

                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- ORDER ACCEPTED VIEW -->
    <script type="text/html" id="orderAcceptedView">
        <div class="content">
            <div class="sitesBox">
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>

                <div id="orderAccepted">
                    <h3 data-bind="text: textStrings.oavOrderAcepted"></h3>
                    <h3 data-bind="text: textStrings.oavThanks"></h3>

                    <div id="orderAcceptedOptions">
                        <div class="button">
                            <a href="#" data-bind="click: helper.newOrder, text: textStrings.oavReturnToMenu"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Order notes -->
    <script type="text/html" id="checkoutOrderNotes-template">
        <div class="checkoutSection" data-bind="attr: { 'id': id }"> 
            <div id="checkoutOrderNotesContainer">
                <h3 data-bind="text: textStrings.checkExtraInfo"></h3>

                <!-- Directions -->
                <div class="checkoutAddressLine">
                    <div class="orderNotesColumn1">
                        <label for="checkoutDirections" data-bind="text: textStrings.checkDirections"></label>
                        <br />
                        <span data-bind="text: textStrings.checkDirectionsEx"></span>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea id="checkoutDirections" data-bind="value: checkoutHelper.checkoutDetails.address.directions"></textarea>
                    </div>
                </div>

                <!-- One off delivery notes -->
                <div data-bind="visible: $root.orderType() == 'delivery'" class="checkoutAddressLine">
                    <div class="orderNotesColumn1">
                        <label for="orderNotes" data-bind="text: textStrings.checkDelivNotes"></label>
                        <br />
                        <span data-bind="text: textStrings.checkDelivNotesEx"></span>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea id="orderNotes" data-bind="value: checkoutHelper.checkoutDetails.orderNotes"></textarea>
                    </div>
                </div>

                <!-- Chef notes -->
                <div class="checkoutAddressLine">
                    <div class="orderNotesColumn1">
                        <label for="chefNotes" data-bind="text: textStrings.checkChefNotes"></label>
                        <br />
                        <span data-bind="text: textStrings.checkChefNotesEx"></span>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea id="chefNotes" data-bind="value: checkoutHelper.checkoutDetails.chefNotes"></textarea>
                    </div>
                </div>

                <!-- Next & back buttons -->
                <div class="checkoutButtons" data-bind="visible: !guiHelper.isMobileMode()">
                    <!-- Back -->
                    <div class="button backButton">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
             </div>
        </div>
    </script>    <!-- PAYMENT VIEW -->
    <script type="text/html" id="paymentView">
        <div class="checkoutPage">
            <section>
                <h1 data-bind="text: textStrings.payTitle"></h1>
                    <div id="checkoutPaymentContainer">
                    <h2 data-bind="text: textStrings.payPrompt"></h2>
                    <div id="paymentPayLine">
                        <!-- Pay at door / on collection -->
                        <div class="button" id="payAtDoorButton">
                            <a data-bind="click: checkoutHelper.payAtDoor, text: $root.orderType() == 'delivery' ? textStrings.payAtDoor : textStrings.payOnCollection" href="#"></a>
                        </div>

                        <!-- Pay now -->
                        <!-- ko if: viewModel.siteDetails() != null && viewModel.siteDetails().paymentProvider != undefined && viewModel.siteDetails().paymentProvider.length > 0 -->
                        <div class="button" id="payNowButton">
                            <a data-bind="click: checkoutHelper.payNow, text: textStrings.payNow" href="#"></a>
                        </div>
                        <!-- /ko -->
                    </div>
                    <div id="paymentTandCContainer">
                        <div id="paymentTandCCheckbox">
                            <input data-bind="checked: tandcHelper.agree" type="checkbox" />
                            <span data-bind="text: textStrings.payTNC1"></span>
                            <a href="#" data-bind="click: tandcHelper.showPopup, text: textStrings.payTNC2"></a>
                        </div>
                        <!-- ko if: tandcHelper.agree() == false -->
                        <div id="paymentTandCError" data-bind="text: textStrings.payTNCWarn"></div>
                        <!-- /ko -->
                    </div>
                </div>
            </section>
        </div>
    </script>

    <!-- MERCURY PAYMENT VIEW-->
    <script type="text/html" id="mercuryPaymentView">
        <div class="checkoutPage">
            <section>
                <h1>Payment</h1>
                <div>
                    <div id="mercuryPaymentContainer">
                        <iFrame id='mercuryPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </section>
        </div>
    </script>

    <!-- DATACASH PAYMENT VIEW-->
    <script type="text/html" id="dataCashPaymentView">
        <div class="checkoutPage">
            <section>
                <h1>Payment</h1>
                <div>
                    <div id="dataCashPaymentContainer">
                        <iFrame id='dataCashPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </section>
        </div>
    </script>

    <!-- MERCANET PAYMENT VIEW-->
    <script type="text/html" id="mercanetPaymentView">
        <div class="checkoutPage">
            <section>
                <h1 data-bind="text: textStrings.mercanetTitle"></h1>
                <p data-bind="text: textStrings.mercanetIntro"></p>
                <div>
                    <div id="mercanetPaymentContainer">
                        <iFrame id='mercanetPaymentIFrame' data-bind="html: textStrings.mercanetiFrameWarn">
                            
                        </iFrame>
                    </div>
                </div>
            </section>
        </div>
    </script>    <!-- SUBMIT ORDER VIEW -->
    <script type="text/html" id="submitOrderView">
        <div class="checkoutPage">
            <section>
                <div class="sitesBox">
                    <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>

                    <!-- Please wait -->
                    <div class="chooseStore">
                        <h2 class="waitPrompt" data-bind="text: textStrings.sovOneMoment"></h2>
                        <div style="width:35px; margin: 0 auto;">
                            <div style="margin: 0 auto;"><img src="Content/Images/loader.gif" /></div>
                        </div>
                        <p style="text-align:center;">
                            <span data-bind="text: $root.pleaseWaitMessage()"></span>
                            <span data-bind="text: $root.pleaseWaitProgress()"></span>
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </script>

    <!-- MENU -->
    <section id="menuSection" data-bind="visible: guiHelper.isMenuVisible, attr: { class: guiHelper.isInnerMenuVisible() ? 'menuSectionHasFocus' : 'menuSectionDoesntHaveFocus' }">
        <div class="menuPage">

            <!-- Cart -->
            <div id="rightColumn">
                <section data-bind="template: { name: 'cartView' }"></section>
            </div>

            <!-- The menu view -->
            <div data-bind="template: { name: menuViewName() }, visible: !guiHelper.isInnerMenuVisible()"></div>

            <!-- The menu -->
            <!-- Section headers -->
            <div id="sectionHeaders" data-bind="visible: guiHelper.isInnerMenuVisible()">

                <section>
                    <div id="sectionHeadersContainer">
                        <div id="sectionHeadersTop">
                            <h1 data-bind="text: textStrings.mMenuSections"></h1>
                        </div>

                        <!-- Item section headers -->
                        <div id="sectionHeadersContent">
                            <!-- ko foreach: sections -->
                            <div class="sectionHeader" data-bind="attr: { class: display.Name == $root.visibleSection() ? 'selectedSectionHeader' : 'sectionHeader' }">
                                <a data-bind="text: display.Name, click: $root.changeSection" href="#"></a>
                            </div>
                            <!-- /ko -->
                        </div>
                    </div>
                </section>
            </div>

            <!-- Sections -->
            <div id="sectionsWrapper" style="display: none;" data-bind="visible: guiHelper.isInnerMenuVisible()">
                <div class="sectionTitle">
                    <h1 data-bind="text: $root.selectedSection() != undefined ? $root.selectedSection().display.Name : ''"></h1>
                </div>
                <section id="sections">

                    <!-- Only visible on mobile devices (css) -->
                    <!-- ko if: guiHelper.isInnerMenuVisible -->
                    <div id="mobileMenuSections">
                        <select id="mobileMenuSectionsSelect" data-bind="options: sections, value: $root.selectedSection, optionsText: function (item) { return item.display.Name; }, event: { change: $root.changeSection }"></select>
                    </div>
                    <!-- /ko -->

                    <!-- Sections -->
                    <div id="sectionsContainer" data-bind="style: { height: $root.maxSectionHeight }">
                        <!-- ko foreach: sections -->
                            <!-- ko template: { name: menuHelper.getTemplateName } -->
                            <!-- /ko -->
                        <!-- /ko -->
                    </div>

                </section>
            </div>

        </div>
    </section>    

    <!-- Home menu section button -->
    <script type="text/html" id="homeSectionButton-template">
        <div class="homeMenuSection" data-bind="click: guiHelper.showMenuSection">
            <a data-bind="text: display.Name" href="#"></a>
        </div>
    </script>

    <!-- Postcode check popup -->
    <div id="postcodeCheck" style="display:none;" data-bind="template: { name: 'postcodeCheckView' }, visible: postcodeCheckHelper.isPopupVisible">
    </div>

    <!-- Image popup -->
    <div id="imagePopup" style="display:none;" data-bind="style: { height: imageHelper.image().Height + 25 + 'px', width: imageHelper.image().Width + 'px', marginTop: imageHelper.topOffset(), marginLeft: imageHelper.leftOffset() }, template: { name: 'imageView' }, visible: imageHelper.isPopupVisible">
    </div>

    <script type="text/html" id="imageView">
        <div id="imageInner" data-bind="click: imageHelper.hidePopup">
            <!-- ko if: menuHelper.menuDataThumbnails != undefined -->
            <img src="#" data-bind="attr: { src: menuHelper.menuDataThumbnails.Server.Endpoint + imageHelper.image().Src, height: imageHelper.image().Height + 'px', width: imageHelper.image().Width + 'px' }"  />
            <!-- /ko -->
            <p data-bind="text: textStrings.ivClose"></p>
        </div>
    </script>

    <!-- Login/register popup -->
    <div id="loginRegister" style="display:none;" data-bind="template: { name: 'loginRegisterView' }, visible: accountHelper.isPopupVisible">
    </div>

    <!-- Toppings popup background -->
    <div id="popupBoxBackground" data-bind="attr: { class: popupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

    <!-- Toppings popup -->
    <div id="popupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'toppingsView' }, visible: popupHelper.isPopupVisible">
    </div>

    <!-- Deal popup background -->
    <div id="dealPopupBoxBackground" data-bind="attr: { class: dealPopupHelper.isBackgroundVisible() ? 'dealPopupBoxBackgroundVisible' : 'dealPopupBoxBackgroundHidden' }"></div>

    <!-- Deal popup -->
    <div id="dealPopupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'dealsView' }, visible: dealPopupHelper.isPopupVisible">
    </div>

    <!-- T&C popup -->
    <div id="tandcPopupBox" class="tandcPopupHidden" style="display:none;" data-bind="visible: tandcHelper.isPopupVisible, template: { name: 'tandcInternal' }">
    </div>

    <!-- T&C internal -->
    <script type="text/html" id="tandcInternal">
        <div id="tandcInner">
            <!-- Header -->
            <h1 data-bind="text: textStrings.tncTitle"></h1>
            <!--<div id="tandcText" data-bind="text: textStrings.tncNoTNC"></div>-->
            <div id="tandcText">
                <iframe src="Terms.html"></iframe>
            </div>
        </div>

        <div id="tandcButtons">
            <div id="tandcOkButton" class="button">
                <a href="#" data-bind="click: tandcHelper.hidePopup">OK</a>
            </div>
        </div>
    </script>

    <!-- T&C VIEW -->
    <script type="text/html" id="tandcView" >
        <div class="checkoutPage">
            <section>
                <!-- ko template: { name: 'tandcInternal' } --> <!-- /ko -->
            </section>
        </div>
    </script>

    <!-- Popup mobile menu -->
    <div id="popupMobileMenu" style="display:none;" data-bind="visible: mobileMenuHelper.isPopupVisible">
        <div id="popupMobileMenuOuter">
            <div id="popupMobileMenuInner">

                <h1 data-bind="text: textStrings.pmmOptions"></h1>

                <!-- HOME -->
                <!-- ko if: !settings.isHomePageDisabled -->
                <div class="popupMobileMenuButton popupMobileMenuHomeButton" data-bind="event: { click: mobileMenuHelper.showHome }">
                    <a href="#" data-bind="text: textStrings.pmmHome"></a>
                </div>
                <!-- /ko -->

                <!-- ORDER NOW -->
                <div class="popupMobileMenuButton popupMobileMenuOrderNowButton" data-bind="event: { click: mobileMenuHelper.showMenu }">
                    <a href="#" data-bind="text: textStrings.pmmOrderNow"></a>
                </div>

                <!-- CART -->
                <div class="popupMobileMenuButton popupMobileMenuCartButton" data-bind="event: { click: mobileMenuHelper.showCart }">
                    <a href="#" data-bind="text: textStrings.pmmMyOrder"></a>
                </div>

                <!-- POSTCODE CHECK -->
                <!-- ko if: settings.showDeliveryCheckButton && deliveryZoneHelper.deliveryZones() != undefined -->
                <div class="popupMobileMenuButton popupMobileMenuPostcodeCheckButton" data-bind="event: { click: mobileMenuHelper.showPostcodeCheck }">
                    <a href="#" data-bind="text: textStrings.pmmPostcode"></a>
                </div>
                <!-- /ko -->

                <!-- RETURN TO PARENT WEBSITE -->
                <!-- ko if: settings.showReturnToParentWebsite -->
                <div class="popupMobileMenuButton popupMobileMenuReturnToHostButton" data-bind="event: { click: $root.returnToHostWebsite }">
                    <a href="#" data-bind="text: textStrings.pmmReturnToParentWebsite"></a>
                </div>
                <!-- /ko -->

            </div>
        </div>
    </div>

    <!-- Mobile checkout menu -->
    <div id="mobileCheckoutMenu" style="display:none;" data-bind="visible: checkoutMenuHelper.isVisible">
        <!-- BACK BUTTON -->
        <div class="mobileCheckoutMenuButton">
            <!-- ko if: checkoutMenuHelper.backTo() == 'menu' -->
            <div class="mobileMenuButtonInner" data-bind="click: checkoutHelper.modifyOrder">
                <a href="#">BACK TO MENU</a>  
            </div>
            <!-- /ko -->
            <!-- ko if: checkoutMenuHelper.backTo() == 'checkout' -->
            <div class="mobileMenuButtonInner" data-bind="click: cartHelper.checkout">
                <a href="#">BACK TO CHECKOUT</a>  
            </div>
            <!-- /ko -->
            <!-- ko if: checkoutMenuHelper.backTo() == 'pay' -->
            <div class="mobileMenuButtonInner" data-bind="click: checkoutHelper.showPaymentPicker">
                <a href="#">BACK TO PAY</a>  
            </div>
            <!-- /ko -->
        </div>
        <!-- PLACE ORDER -->
        <!-- ko if: checkoutMenuHelper.isPlaceOrderEnabled -->
        <div class="mobileCheckoutMenuButton">
            <div class="mobileMenuButtonInner" data-bind="click: checkoutHelper.placeOrder">
                <a href="#">PLACE ORDER</a> 
            </div>
        </div>
        <!-- /ko -->
    </div>

    <div id="footer">
        <span data-bind="text: textStrings.footPoweredBy1"></span>
        <a href="http://andromedapos.com" target="_blank"  data-bind="text: textStrings.footPoweredBy2"></a>
    </div>
    
    <script type="text/javascript">
        // Additional JS functions here
        window.fbAsyncInit = function ()
        {
            FB.init
            (
                {
                    appId: settings.facebookAppId, // App ID
                    channelUrl: settings.facebookAppChannel, // Channel File
                    status: true, // check login status
                    cookie: true, // enable cookies to allow the server to access the session
                    xfbml: true  // parse XFBML
                }
            );

            // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
            // for any authentication related change, such as login, logout or session refresh. This means that
            // whenever someone who was previously logged out tries to log in again, the correct case below 
            // will be handled. 
            FB.Event.subscribe
            (
                'auth.authResponseChange',
                function (response)
                {
                }
            );
        };

        // Load the SDK asynchronously
        (function (d)
        {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
        }(document));

    </script>

</body>
</html>
