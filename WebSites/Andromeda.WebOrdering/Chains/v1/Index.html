
<!DOCTYPE html>
<html>
<head>
<!--
    Copyright © 2014 Andromeda Trading Limited.  All rights reserved.  
    THIS FILE AND ITS CONTENTS ARE PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW. 
    ANY USE OF THE CONTENTS OF THIS FILE OR ANY PART OF THIS FILE WITHOUT EXPLICIT PERMISSION FROM ANDROMEDA TRADING LIMITED IS PROHIBITED. 
-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Online ordering</title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link rel="stylesheet" type="text/css" href="Content/WebOrdering.css" />
    <link rel="stylesheet" type="text/css" href="Content/WebOrderingMobile.css" media="screen and (max-width: 600px)" />
    <link rel="stylesheet" type="text/css" href="Content/WebOrderingPCandTablet.css" media="screen and (min-width: 601px)" />
    <link rel="stylesheet" type="text/css" href="Content/WebOrderingPC.css" media="screen and (min-width: 601px)" />

    <script type="text/javascript">

        var template_menuSectionWidth = 620;

        // Template text
        var template_logoAlt = 'Online ordering';
        var template_welcomeHeader = 'Online ordering';
        var template_chainName = 'Online ordering';
        var template_mapMarker = 'Content/Images/store.png';
        var template_minimumDeliveryOrder = 900;
        var template_customerAddressCountryCode = 'UK';
        var template_mobileWidth = 600;
        var template_tabletWidth = 1024;

        // CSS Class/Id names
        var css_menu = 'sectionsWrapper';
        var css_sectionsContainer = 'sectionsContainer';
        var css_sections = 'sections';
        var css_section = 'section';
        var css_postcodeCheck = 'postcodeCheck';
        var css_tandcPopupBox = 'tandcPopupBox';
        var css_storeDetailsPopupBox = 'storeDetailsPopupBox';

        // Text strings used in webordering.js
        var text_pleaseSelectAnItem = '-- Please select an item --';
        var text_gettingStoreDetails = 'Getting store details';
        var text_problemGettingSiteDetails = 'There was a problem getting the site details';
        var text_loadingMenu = 'Loading menu';
        var text_downloadingStoreMenu = 'Downloading store menu';
        var text_savingMenuToDevice = 'Saving menu to your device';
        var text_renderingMenu = 'Rendering menu';
        // Prefixed to additional topping names in "Your Order" sidebar (cart/basket)
        var text_prefixAddTopping = 'Add ';
        // Prefixed to additional topping names in "Your Order" sidebar (cart/basket)
        var text_prefixAddDoubleTopping = 'Add double ';
        // Prefixed to remove topping names in "Your Order" sidebar (cart/basket)
        var text_prefixRemove = 'Remove ';
        var text_defaultWebErrorMessage = 'Sorry, there was a technical glitch!  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website';
        var text_defaultInternalErrorMessage = 'Sorry, there was a technical glitch!  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website. (internal)';
        var text_defaultPaymentErrorMessage = 'Sorry, there was a payment problem!  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website';
        var text_commsProblem = 'Sorry, there was a communications problem!  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website. (comms error)';
        var text_whoAreYou = 'Who are you?';
        var text_collectionTime = 'Collection time';
        var text_deliveryTime = 'Delivery time';
        var text_deliveryAddress = 'Delivery address';
        var text_orderNotes = 'Order notes';
        var text_placeOrder = 'Place order';
        var text_next = 'Next';
        var text_back = 'Back';
        var text_pleaseSelectATime = '--- Please select a time ---';
        var text_asSoonAsPossibleNoETD = 'As soon as possible (30-40 mins)';
        var text_asSoonAsPossible = 'As soon as possible';
        var text_preparingForPayment = 'Preparing for payment';
        var text_sendingOrderToStore = 'Sending your order to the store';
        var text_problemInitialisingPayment = 'There was a problem initialising the payment';
        // Appended to some error messages
        var text_appendErrorCode = '. Error code ';
        // Appended to some error messages
        var text_appendUnknownErrorCode = '. Error code unknown';
        var text_orderRejected = 'Sorry, the store automatically rejected your order due to a technical problem.  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website.  Error code ';
        var text_cantDeliverOrder = 'Sorry, there may have been a problem sending your order to the store.  Please contact the store to check that they have received it.  Error code ';
        var text_apiProblem = 'Sorry, there was a problem sending your order to the store.  Please try again.  If the problem persists please contact the store directly to place your order and let them know there is a problem with the website.  Error code ';
        // Do NOT translate or remove the text "{ErrorMessage}"
        var text_cardProcessingError = 'Sorry, there was a payment problem!  The card payment provider returned the following message {ErrorMessage}.  If the problem persists please contact the store directly to place your order.';
        // Appended after the store name if it's not taking orders
        var text_appendOffline = ' - Sorry, not taking online orders right now';
        var text_openAllDay = 'Open all day';
        var text_closed = 'Closed';
        // Do NOT translate, modify or remove the text "{from}" and "{to}".  It will be automatically replaced with times e.g. '11:00am to 2:30pm'
        var text_fromTo = '{from} to {to}';
        // Only displayed when a deals minimum order value is not met.  Do NOT translate, modify or remove the text "{price}".
        var text_minimumOrderValue = 'Deal not allowed - order price must be at least {price}';
        // Do NOT translate, modify or remove the text "{item}".  It will be automatically replaced with a category name or item name e.g. 'stuffed crust'
        var text_premiumChargeFor = 'Premium charge for {item}';

    </script>

    <script src="Scripts/Scripts.js" type="text/javascript"></script>
<!--    <script src="OriginalScripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="OriginalScripts/amplify.min.js" type="text/javascript"></script>
    <script src="OriginalScripts/knockout-2.2.1.js" type="text/javascript"></script>
    <script src="OriginalScripts/modernizr.min.js" type="text/javascript"></script>
    <script src="OriginalScripts/google.fastbutton.js" type="text/javascript"></script>
    <script src="OriginalScripts/OpenLayers.js" type="text/javascript"></script>
    <script src="OriginalScripts/jreject.js" type="text/javascript"></script>
    <script src="OriginalScripts/WebOrdering.js" type="text/javascript"></script>-->

    <script type="text/javascript">

        $(document).ready
        (
            function ()
            {
                // Check if the browser is supported
                $.reject
                (
                    {
                        reject:
                        {
                            all: false, // Covers Everything (Nothing blocked)  
                            msie5: true, msie6: true, msie7: true, msie8: true
                        }
                    }
                );

                viewModel.initialise();

                // Data bind the HTML to the view model
                ko.applyBindings(viewModel);

                // Get a list of sites
                viewModel.chooseStore();
            }
        );

    </script>

    <style>
        /*
         * jReject (jQuery Browser Rejection Plugin)
         * Version 1.0.0
         * URL: http://jreject.turnwheel.com/
         * Description: jReject is a easy method of rejecting specific browsers on your site
         * Author: Steven Bower (TurnWheel Designs) http://turnwheel.com/
         * Copyright: Copyright (c) 2009-2011 Steven Bower under dual MIT/GPL license.
         */

        #jr_overlay {
            top: 0;
            left: 0;
            padding: 0;
            margin: 0;
            z-index: 1000;
            position: absolute;
        }

        #jr_wrap {
            position: absolute;
            text-align: center;
            width: 100%;
            z-index: 2000;
            padding: 0;
            margin: 0;
        }

        #jr_inner {
            font-family: "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif;
            font-size: 12px;
            background: #FFF;
            border: 1px solid #CCC;
            color: #4F4F4F;
            margin: 0 auto;
            height: auto;
            padding: 20px;
            position: relative;
        }

        #jr_header {
            display: block;
            color: #333;
            padding: 5px;
            padding-bottom: 0;
            margin: 0;
            font-family: Helvetica,Arial,sans-serif;
            font-weight: bold;
            text-align: left;
            font-size: 1.3em;
            margin-bottom: 0.5em;
        }

        #jr_inner p {
            text-align: left;
            padding: 5px;
            margin: 0;
        }

        #jr_inner ul {
            list-style-image: none;
            list-style-position: outside;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

        #jr_inner ul li {
            cursor: pointer;
            float: left;
            width: 120px;
            height: 122px;
            margin: 0 10px 10px 10px;
            padding: 0;
            text-align: center;
        }

        #jr_inner li a {
            color: #333;
            font-size: 0.8em;
            text-decoration: none;
            padding: 0;
            margin: 0;
        }

        #jr_inner li a:hover {
            text-decoration: underline;
        }

        #jr_inner .jr_icon {
            width: 100px;
            height: 100px;
            margin: 1px auto;
            padding: 0;
            background: transparent no-repeat scroll left top;
            cursor: pointer;
        }

        #jr_close {
            margin: 0 0 0 50px;
            clear: both;
            text-align: left;
            padding: 0;
            margin: 0;
        }

        #jr_close a {
            color: #000;
            display: block;
            width: auto;
            margin: 0;
            padding: 0;
            text-decoration: underline;
        }

        #jr_close p {
            padding: 10px 0 0 0;
            margin: 0;
        }
    </style>

</head>
<body>
    <!-- PAGE HEADER -->
    <header data-bind="'attr': { 'class': (popupHelper.isBackgroundVisible() || dealPopupHelper.isBackgroundVisible()) ? 'headFootPopup' : 'headFootNoPopup' }">
        <div id="pageHeader">

            <div id="headerRight">

                <div id="socialMedia">
                    <p>Let's be Friends</p>

                    <!--<div style="float:left;" class="addthis_toolbox addthis_32x32_style addthis_default_style">
                        <a class="addthis_button_facebook_follow" addthis:userid="Charcoal-Grill/543548275681398"></a>-->
                        <!--<a class="addthis_button_twitter_follow" addthis:userid="@Demo72980636"></a>
                        <a class="addthis_button_instagram_follow" addthis:userid="demoandromeda"></a>-->
                    <!--</div>

                    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=xa-51cd4bb34df56997"></script>-->


                    <div class="addthis_toolbox addthis_default_style addthis_32x32_style" style="float:left;">
                        <!--<a class="addthis_button_compact"></a>
                        <a class="addthis_button_pinterest_share"></a>
                        <a class="addthis_button_google_plusone_share"></a>
                        <a class="addthis_button_twitter"></a>-->
                        <a class="addthis_button_facebook"></a>
                    </div>
                    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=xa-51c026007093142e"></script>
                </div>

                <!-- ko if: $root.siteDetails() != undefined -->
                <div id="phone">Tel. <span data-bind="text: siteDetails().phone"></span></div>
                <!-- /ko -->

                <div id="storeDetailsAddressWrapper">
                    <!-- ko if: $root.viewName() == 'homeView' || ($root.viewName() == 'menuView' && $root.menuViewName() == 'menuSectionsView') -->
                    <div id="storeDetailsAddress" data-bind="html: displayAddress"></div>
                    <!-- /ko -->
                </div>

                <!-- ko if: 
                    $root.viewName() == 'homeView' || 
                    ($root.viewName() == 'menuView' && ( $root.menuViewName() == 'menuSectionsView' || $root.menuViewName() == 'checkoutView'  ) ) -->
                <div id="mainMenu" >
                        
                    <!-- Delivery area check -->
                    <!-- ko if: deliveryZoneHelper.deliveryZones() != undefined -->
                    <div data-bind="'attr': { 'class': $root.viewName() == 'homeView' ? 'mainMenuButton' : 'mainMenuButton' }">
                        <a data-bind="click: postcodeCheckHelper.showPopup" href="#">Check if you're in our delivery area</a>   
                    </div> 
                    <!-- /ko -->
                        
                    <!-- Select store -->
                    <!-- ko if: viewModel.sites().length > 1 -->
                    <div data-bind="'attr': { 'class': $root.viewName() == 'homeView' ? 'mainMenuButton' : 'mainMenuButton' }">
                        <a data-bind="click: chooseStore" href="#">Select a different store</a>
                    </div>
                    <!-- /ko -->

                    <!-- Menu -->
                    <div data-bind="'attr': { 'class': guiHelper.isMenuVisible() ? 'mainMenuButtonSelected' : 'mainMenuButtonHighlighted' }">
                        <a data-bind="click: guiHelper.showMenu" href="#">Order now</a> 
                    </div>   

                    <!-- Home -->
                    <div data-bind="'attr': { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'homeView') ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                        <a data-bind="click: guiHelper.showHome" href="#">Home</a>  
                    </div>  
                </div>
                <!-- /ko -->
            </div>
                
        </div>
    </header>

    <!-- PAGE CONTENT (VIEW)-->
    <!-- ko if: guiHelper.isViewVisible -->
    <section id="viewContainer" data-bind="template: { name: viewName() }"></section>
    <!-- /ko -->

    <!-- MENU -->
    <section id="menuSection" data-bind="visible: guiHelper.isMenuVisible, 'attr': { 'class': guiHelper.isInnerMenuVisible() ? 'menuSectionHasFocus' : 'menuSectionDoesntHaveFocus' }">
        <div class="menuPage">

            <!-- Cart -->
            <div id="rightColumn">
                <section data-bind="template: { name: 'cartView' }"></section>
            </div>

            <!-- The menu view -->
            <div data-bind="template: { name: menuViewName() }, visible: !guiHelper.isInnerMenuVisible()"></div>

            <!-- The menu -->
            <!-- Section headers -->
            <div id="sectionHeaders" data-bind="visible: guiHelper.isInnerMenuVisible()">

                <div>
                    <div id="sectionHeadersContainer">
                        <div id="sectionHeadersTop">
                            <h1>Menu Sections</h1>
                        </div>

                        <!-- Item section headers -->
                        <div id="sectionHeadersContent">
                            <!-- ko foreach: sections -->
                            <div class="sectionHeader" data-bind="'attr': { 'class': display.Name == $root.visibleSection() ? 'selectedSectionHeader' : 'sectionHeader' }">
                                <a data-bind="text: display.Name, click: $root.changeSection" href="#"></a>
                            </div>
                            <!-- /ko -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sections -->
            <div id="sectionsWrapper" data-bind="visible: guiHelper.isInnerMenuVisible()">
                <section id="sections">

                    <!-- Only visible on mobile devices (css) -->
                    <!-- ko if: guiHelper.isInnerMenuVisible -->
                    <div id="mobileMenuSections">
                        <select id="mobileMenuSectionsSelect" data-bind="options: sections, value: $root.selectedSection, optionsText: function (item) { return item.display.Name; }, event: { change: $root.changeSection }"></select>
                    </div>
                    <!-- /ko -->

                    <!-- Sections -->
                    <div id="sectionsContainer" data-bind="style: { height: $root.maxSectionHeight }">
                        <!-- ko foreach: sections -->
                            <!-- ko template: { name: menuHelper.getTemplateName } -->
                            <!-- /ko -->
                        <!-- /ko -->
                    </div>

                </section>
            </div>

        </div>
    </section>

    <!-- Cart sidebar -->
    <script type="text/html" id="cartView">
        <div id="yourOrderContainer">
            <div id="cartTitle">
                <h1>My order</h1>
            </div>

            <!-- Delivery or collection -->
            <!-- ko if: guiHelper.canChangeOrderType() -->
            <div id="deliveryOrCollection">
                <label id="forDelivery" for="delivery" data-bind="'attr': { 'class': viewModel.orderType() == 'delivery' ? 'ticked' : 'unticked' }">Deliver to door</label>
                <input id="delivery" name="orderTypeGroup" type="radio" value="delivery" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
                <label id="forCollection" for="collection" data-bind="'attr': { 'class': viewModel.orderType() == 'collection' ? 'ticked' : 'unticked' }">Collect from store</label>
                <input id="collection" name="orderTypeGroup" type="radio" value="collection" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
            </div>
            <!-- /ko -->
            <!-- ko if: !guiHelper.canChangeOrderType() -->
            <div id="deliveryOrCollectionText">
                <label class="ticked" data-bind="text: ($root.orderType() == 'collection' ? 'Collect from store' : 'Deliver to door')" ></label>                        
            </div>
            <!-- /ko -->

            <!-- Action buttons -->
            <!-- ko if: $root.isTakingOrders() -->

            <!-- Checkout actions -->
            <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsCheckout -->
            <div id="checkoutSidebarActions">
                <div class="button" style="width:150px;">
                    <a data-bind="click: checkoutHelper.modifyOrder" href="#">Modify Order</a>
                </div>
            </div>
            <!-- /ko -->

            <!-- Payment actions -->
            <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsPayment -->
            <div id="paymentSidebarActions">
                <div class="button" style="width:200px;">
                    <a data-bind="click: cartHelper.checkout" href="#">Return to checkout</a>
                </div>
            </div>
            <!-- /ko -->

            <!-- /ko -->

            <div id="cartItems">
                <!-- Store offline -->
                <!-- ko if: !$root.isTakingOrders() -->
                <div>
                    <h2>This store is not currently taking online orders.  Please check back later or order directly from the store.</h2>
                </div>
                <!-- /ko -->

                <!-- Store online -->
                <!-- ko if: $root.isTakingOrders() -->
                <div>

                    <!-- Cart empty -->
                    <!-- ko if: cartHelper.cart().cartItems().length == 0 && cartHelper.cart().deals().length == 0 -->
                    <div id="emptyBasket">
                        <h2>There are no items in your order</h2>
                        <p>Use the "Add to order" buttons to add items to your order</p>
                    </div>
                    <!-- /ko -->

                    <!-- Cart -->
                    <!-- ko if: cartHelper.cart().cartItems().length != 0 || cartHelper.cart().deals().length != 0 -->
                    <div id="cartWrapper">

                        <div id="orderItemsHeader">
                            <h2>
                                There are <span data-bind="text: cartHelper.cart().deals().length + cartHelper.cart().cartItems().length"></span> item/s in your order
                            </h2>
                        </div>
                        <div id="cartLineItems">
                            <!-- Deals -->
                            <!-- ko foreach: cartHelper.cart().deals -->
                                <!-- ko template: { name: cartHelper.getDealTemplate } -->
                                <!-- /ko -->
                            <!-- /ko -->

                            <!-- List items -->
                            <!-- ko foreach: cartHelper.cart().cartItems -->
                                <!-- ko template: { name: cartHelper.getItemTemplate } -->
                                <!-- /ko -->
                            <!-- /ko -->
                        </div>

                        <!-- Order sub total -->
                        <!-- ko if: cartHelper.cart().discountName != undefined && cartHelper.cart().discountName() != undefined && cartHelper.cart().discountName().length > 0 -->
                        <div id="cartSubTotalWrapper">
                            <span class="cartTotal">Sub Total</span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displaySubTotalPrice"></span>
                        </div>

                        <!-- Order discount -->
                        <div id="cartDiscountWrapper">
                            <span class="cartTotal" data-bind="html: cartHelper.cart().discountName"></span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayDiscountAmount"></span>
                        </div>
                        <!-- /ko -->

                        <!-- Order totals -->
                        <div id="cartTotalWrapper">
                            <span class="cartTotal">Order Total</span>
                            <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayTotalPrice"></span>
                        </div>

                        <!-- ko if: cartHelper.cart().totalPrice() < template_minimumDeliveryOrder && $root.orderType() == 'delivery' -->
                        <div class="cartAutoRemove">Minimum delivery order <span data-bind="html: helper.formatPrice(template_minimumDeliveryOrder)"></span></div>
                        <!-- /ko -->

                        <!-- ko if: cartHelper.cart().areDisabledItems -->
                        <div class="cartAutoRemove">One or more item in your order is not valid and will be automatically removed on checkout</div>
                        <!-- /ko -->

                        <!-- Menu actions -->
                        <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsMenu -->
                        <div id="cartSidebarActions" style="clear:both;">
                            <!-- ko if: cartHelper.cart().hasItems() -->
                            <div id="clearOrderButton" class="button">
                                <a data-bind="click: cartHelper.clearCart" href="#">Clear</a>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: cartHelper.cart().checkoutEnabled() -->
                            <div id="checkoutButton" class="highlightedButton">
                                <a data-bind="click: cartHelper.checkout" href="#">Checkout</a>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: guiHelper.isMobileMode() -->
                            <div id="backToMenuButton" class="highlightedButton">
                                <a data-bind="click: guiHelper.showMenu" href="#">Back to Menu</a>
                            </div>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->

                <!-- ko if: cartHelper.cart().cartItems().length != 0 && $root.menuViewName() == 'menuSectionsView' -->
                <div id="cartHelp">Click an item to modify or remove it</div>
                <!-- /ko -->
            </div>                      

        </div>
    </script>

    <!-- PLEASE WAIT VIEW -->
    <script type="text/html" id="pleaseWaitView">
        <div class="content">
            <div class="sitesBox">
                <!-- Please wait -->
                <h1 class="welcomeHeader" data-bind="text: template_welcomeHeader"></h1>
                <h2 class="waitPrompt">One moment please</h2>
                <div style="width:35px; margin: 0 auto;">
                    <div style="margin: 0 auto;"><img src="Content/Images/loader.gif" /></div>
                </div>
                <p style="text-align:center;">
                    <span data-bind="text: $root.pleaseWaitMessage()"></span>
                    <span data-bind="text: $root.pleaseWaitProgress()"></span>
                </p>
            </div>
        </div>
    </script>

    <!-- SITES VIEW -->
    <script type="text/html" id="sitesView">
        <div class="content">
            <div class="sitesBox">
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="text: template_welcomeHeader"></h1>
                <h2 class="chooseStorePrompt">Please choose your local restaurant</h2>
                <!-- ko foreach: sites -->
                    <div class="button siteButton" data-bind="fastClick: $root.storeSelected">
                        <a href="#" data-bind="text: displayText">Order food now</a>
                    </div>
                <!-- /ko -->

                <!--<div id="chooseStoreSelectContainer">
                    <div id="chooseStoreSelectOuter">
                        <div id="chooseStoreSelectInner">
                            <select data-bind="options: sites, optionsText: 'displayText', value: selectedSite"></select>
                        </div>
                    </div>
                </div>-->
                <!--<div class="chooseStoreOptions" style="clear:both;">
                    <div class="button" style="width:250px;">
                        <a href="#" data-bind="click: $root.storeSelected">Order food now</a>
                    </div>
                </div>-->

            </div>
        </div>
    </script>

    <!-- ERROR VIEW -->
    <script type="text/html" id="errorView">
        <div class="content">
            <div class="sitesBox">
                <!-- Error -->
                <h1 class="welcomeHeader" data-bind="text: template_welcomeHeader"></h1>

                <h2 class="errorMessage" data-bind="text: $root.error.message()"></h2>
                <div class="errorOptions">
                    <div class="button" style="width:150px;" data-bind="visible: $root.error.showReturn">
                        <a href="#" data-bind="click: guiHelper.errorReturn">OK</a>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- HOME PAGE -->
    <script type="text/html" id="homeView">
        <div class="content">
            <div class="homeBox">
                <h1 class="welcomeHeader" data-bind="text: template_chainName"></h1>

                <h2 id="homeFullOrderDeal" data-bind="html: menuHelper.fullOrderDiscountDeal == undefined ? '' : menuHelper.fullOrderDiscountDeal.Description"></h2>

                <h1 id="postcodeCheckHeader">Postcode check</h1>

                <div id="homeCheckPostcode">
                    <div id="homeCheckPostcodeButton" class="button">    
                        <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.showPopup">Check if you're in our delivery area</a>
                    </div>
                </div>

                <div id="homeDeliveryTimes">
                    
                    <h1>We deliver at the following times</h1>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Monday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.monday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Tuesday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.tuesday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Wednesday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.wednesday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Thursday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.thursday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Friday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.friday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Saturday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.saturday.displayText()"></div>
                    </div>
                    <div class="homeDeliveryTimesDay">
                        <div class="homeDeliveryTimesDayColumn1">Sunday:</div>
                        <div class="homeDeliveryTimesDayColumn2" data-bind="text: openingTimesHelper.openingTimes.sunday.displayText()"></div>
                    </div>

                    <div id="homeDeliveryMinimumOrder">Minimum delivery order <span data-bind="html: helper.formatPrice(template_minimumDeliveryOrder)"></span></div>
                </div>

                <div id="homeAddressWrapper">
                    <div id="homeAddress">
                        <h1>Where to find us</h1>
                        <div id="homeAddressLines" data-bind="html: displayAddressMultiLine"></div>
                        <div id="homeAddressLinesMobile">
                            <div data-bind="html: displayAddress"></div>
                            <div id="homeAddressLinesMobileTel">Tel. <span data-bind="text: siteDetails().phone"></span></div>
                        </div>
                    </div>
                    <div id="homeAddressMap">
                        <div id="mapContainer">
                            <div id="map"></div>
                        </div>
                    </div>
                </div>

                <div id="homeMenuSections">
                    <h1>Order food online</h1>
                    <p>Click on the buttons below to browse our menu and order food online.</p>
                    <div id="homeMenuButtons">
                        <!-- ko foreach: sections -->
                            <!-- ko template: { name: 'homeSectionButton-template' } -->
                            <!-- /ko -->
                        <!-- /ko -->
                    </div>
                </div>

            </div>
        </div>
    </script>

    <!-- Home menu section button -->
    <script type="text/html" id="homeSectionButton-template">
        <div class="homeMenuSection" data-bind="click: guiHelper.showMenuSection">
            <a data-bind="text: display.Name" href="#"></a>
        </div>
    </script>

    <!-- Postcode check popup -->
    <div id="postcodeCheck" class="postcodeCheckHidden" style="display:none;" data-bind="template: { name: 'postcodeCheckView' }, visible: postcodeCheckHelper.isPopupVisible">
    </div>

    <script type="text/html" id="postcodeCheckView">
        <div id="postcodeCheckInner">
            <!-- Header -->
            <h1>Enter your postcode below to check if you are in our delivery area</h1>
            
            <div id="postcodeCheckTop">
                <div id="postcodeCheckInput">
                    <input type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode" />
                </div>
                <div id="postcodeCheckButton" class="button">
                    <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.checkPostcode">Check my postcode</a>
                </div>
            </div>
            <!-- ko if: postcodeCheckHelper.isInDeliveryZone() != undefined -->
            <div id="postcodeCheckResult">
                <!-- ko if: !postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckFail">Sorry, you're not in our delivery area but you are welcome to collect your order from our store</p>
                <!-- /ko -->
                <!-- ko if: postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckOk">You are in our delivery area</p>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: viewModel.sites().length > 1 -->
            <div id="postcodeCheckChangeStoreButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.changeStore">Change store</a>
            </div>
            <!-- /ko -->

            <div id="postcodeCheckShowMenuButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.showMenu">Return to the menu</a>
            </div>
        </div>
    </script>

    <!-- Menu section -->
    <script type="text/html" id="menuSection-template">
        <div class="section" data-bind="'attr': { 'id': 'section' + Index }, style: { left: Left() }">
            <div class="sectionTitle">
                <h1 data-bind="text: display.Name"></h1>
            </div>
            
            <div class="sectionItems">
                <!-- ko foreach: items -->
                <div class="itemRow">
                    <div class="itemDetails">
                        <div class="nameDescriptionContainer">
                            <div data-bind="text: name" class="itemName"></div>
                            <div data-bind="text: description" class="itemDescription"></div>
                            <!-- ko if: menuItem.isAvailableForDelivery -->
                            <div class="notAvailable">Sorry, this item is not available for delivery</div>
                            <!-- /ko -->
                            <!-- ko if: menuItem.isAvailableForCollection -->
                            <div class="notAvailable">Sorry, this item is not available for collection</div>
                            <!-- /ko -->
                            <!-- ko if: menuItem.isNotAvailableToday -->
                            <div class="notAvailable">This item is not available today</div>
                            <!-- /ko -->
                        </div>
                        <div class="priceCategoryContainer">
                    
                            <div class="menuOptions" data-bind="visible: isEnabled && $root.isTakingOrders">

                                <div class="category2">
                                    <!-- ko if: category2s().length > 1 -->
                                    <select data-bind="enable: isEnabled, options: category2s, optionsText: 'Name', value: selectedCategory2, event: { change: $root.selectedItemChanged }"></select>
                                    <!-- /ko -->
                                </div>
                                <div class="category1">
                                    <!-- ko if: category1s().length > 1 -->
                                    <select data-bind="enable: isEnabled, options: category1s, optionsText: 'Name', value: selectedCategory1, event: { change: $root.category1Changed }"></select>
                                    <!-- /ko -->
                                </div>
                                <div class="quantity">
                                    <select data-bind="value: quantity, event: { change: $root.selectedItemChanged }">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                    </select>
                                    <label>Quantity</label>
                                </div>
                        
                            </div>
                            <div class="categoryContainer">
                                <div class="price"><span data-bind="html: price"></span></div>
                                <!-- ko if: $root.isTakingOrders() -->
                                <div class="highlightedButton addItemButton">
                                    <a href="#" data-bind="click: $root.addItemToCart">Add to order</a>
                                </div>
                                <!-- /ko -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- Menu item -->
    <script type="text/html" id="item-template">
        <div class="itemRow">
            <div class="itemDetails">
                <div class="nameDescriptionContainer">
                    <div data-bind="text: name" class="itemName"></div>
                    <div data-bind="text: description" class="itemDescription"></div>
                    <div data-bind="visible: $root.orderType() == 'delivery' && menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined" class="notAvailable">Sorry, this item is not available for delivery</div>
                    <div data-bind="visible: $root.orderType() == 'collection' && menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined" class="notAvailable">Sorry, this item is not available for collection</div>
                    <div data-bind="visible: menuItem.isNotAvailableToday" class="notAvailable">This item is not available today</div>
                </div>
                <div class="priceCategoryContainer">
                    
                    <div class="menuOptions" data-bind="visible: isEnabled && $root.isTakingOrders">

                        <div class="category2">
                            <select data-bind="enable: isEnabled, visible: category2s().length > 1, options: category2s, optionsText: 'Name', value: selectedCategory2, event: { change: $root.selectedItemChanged }"></select>
                        </div>
                        <div class="category1">
                            <select data-bind="enable: isEnabled, visible: category1s().length > 1, options: category1s, optionsText: 'Name', value: selectedCategory1, event: { change: $root.category1Changed }"></select>
                        </div>
                        
                    </div>
                    <div class="categoryContainer">
                        <div class="price"><span data-bind="html: price"></span></div>
                        <!-- ko if: $root.isTakingOrders() -->
                        <div class="highlightedButton addItemButton">
                            <a href="#" data-bind="click: $root.addItemToCart">Add to order</a>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Deals section -->
    <script type="text/html" id="dealsSection-template">
        <div class="section" data-bind="'attr': { 'id': 'section' + Index }, style: { left: Left() }">
            <div class="sectionTitle">
                <h1 data-bind="text: display.Name"></h1>
            </div>
            <div class="sectionItems">
                <!-- ko foreach: deals -->
                    <!-- ko template: { name: 'deal-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- Deal -->
    <script type="text/html" id="deal-template">
        <div class="dealItem">
            <!-- Add to cart button -->
            <!-- ko if: isEnabled() && $root.isTakingOrders && isAvailableToday -->
            <div class="dealOptions">
                <!-- ko if: $root.isTakingOrders() -->
                <div class="highlightedButton addItemButton">
                    <a href="#" data-bind="click: dealHelper.addToCart">Add to order</a>
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- Deal name -->
            <p class="dealName" data-bind="text: deal.DealName"></p>

            <!-- Deal description -->
            <p data-bind="text: deal.Description"></p>

            <!-- Not available messages -->
            <!-- ko if: minimumOrderValue.length > 0 -->
            <p class="notAvailable">Minimum spend <span data-bind="html: minimumOrderValue"></span></p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'delivery' && !deal.ForDelivery -->
            <p class="notAvailable">Collect from store only</p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && !deal.ForCollection -->
            <p class="notAvailable">Deliver to door only</p>
            <!-- /ko -->
            <!-- ko if: isAvailableToday == false -->
            <p class="notAvailable">This deal is not available today</p>
            <!-- /ko -->
        </div>
    </script>

    <!-- Cart item -->
    <script type="text/html" id="cartItem-template">
        <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <a data-bind="click: cartHelper.editCartItem" href="#">
                <div class="cartRow">  
                    <span class="cartName" data-bind="text: displayName"></span>
                    <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
                </div>
                <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
                <div class="notAvailable">Collect from store only</div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
                <div class="notAvailable">Deliver to door only</div>
                <!-- /ko -->
                <!-- ko foreach: displayToppings -->
                    <!-- ko template: { name: 'cartTopping-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </a>
        </div>
    </script>

    <!-- Disabled cart item -->
    <script type="text/html" id="disabledCartItem-template">
        <div class="cartItem">
            <div class="cartRow"> 
                <span class="cartName" data-bind="text: displayName"></span>
                <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
            </div>
            <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
            <div class="notAvailable">Collect from store only</div>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
            <div class="notAvailable">>Deliver to door only</div>
            <!-- /ko -->
            <!-- ko foreach: displayToppings -->
                <!-- ko template: { name: 'cartTopping-template' } -->
                <!-- /ko -->
            <!-- /ko -->
        </div>
    </script>

    <!-- Cart topping -->
    <script type="text/html" id="cartTopping-template">
        <div class="cartRowItemTopping">
            <span class="cartIndent1" data-bind="text: cartName"></span>
            <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: cartPrice"></span>
        </div>
    </script>

    <!-- Cart deal -->
    <script type="text/html" id="cartDeal-template">
        <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <a data-bind="click: cartHelper.editCartDeal" href="#">
                <div class="cartRow">  
                    <span class="cartName" data-bind="text: name"></span>
                    <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
                </div>
                <!-- ko foreach: dealLines -->
                    <!-- ko template: { name: 'cartDealLine-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
                <!-- ko if: minimumOrderValueNotMet() -->
                <div class="cartRow cartError">Not eligable for deal.  Minimum spend <span data-bind="html: minimumOrderValue"></span></div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'delivery' && !deal.deal.ForDelivery -->
                <div class="notAvailable">This deal cannot be delivered to door</div>
                <!-- /ko -->
                <!-- ko if: $root.orderType() == 'collection' && !deal.deal.ForCollection -->
                <div class="notAvailable">This deal cannot be collected from store</div>
                <!-- /ko -->
            </a>
        </div>
    </script>

    <!-- Disabled cart deal -->
    <script type="text/html" id="disabledCartDeal-template">
        <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
            <div class="cartRow">  
                <span class="cartName" data-bind="text: name"></span>
                <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
            </div>
            <!-- ko foreach: dealLines -->
                <!-- ko template: { name: 'cartDealLine-template' } -->
                <!-- /ko -->
            <!-- /ko -->

            <!-- ko if: minimumOrderValueNotMet() -->
            <div class="cartRow cartError">Not eligable for deal.  Minimum spend <span data-bind="html: minimumOrderValue"></span></div>
            <!-- /ko -->
        </div>
    </script>

    <!-- Cart deal line -->
    <script type="text/html" id="cartDealLine-template">
        <div class="cartRowDealLine">
            <span class="cartIndent1" data-bind="text: name"></span>
            <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()">-</span>
        </div>
        <!-- ko if: categoryPremium() != undefined -->
        <div class="cartRowDealLineTopping">
            <span class="cartIndent1" data-bind="text: categoryPremiumName" style="margin-left:10px;"></span>
            <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: categoryPremium"></span>
        </div>
        <!-- /ko -->
        <!-- ko if: itemPremium() != undefined -->
        <div class="cartRowDealLineTopping">
            <span class="cartIndent1" data-bind="text: itemPremiumName" style="margin-left:10px;"></span>
            <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: itemPremium"></span>
        </div>
        <!-- /ko -->
        <!-- ko foreach: displayToppings -->
            <!-- ko template: { name: 'cartDealLineTopping-template' } -->
            <!-- /ko -->
        <!-- /ko -->
    </script>

    <!-- Cart deal line topping -->
    <script type="text/html" id="cartDealLineTopping-template">
        <div class="cartRowDealLineTopping">
            <span class="cartIndent2" data-bind="text: cartName" style="margin-left:10px;"></span>
            <span data-bind="'attr': { 'class': $parents[1].isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: cartPrice"></span>
        </div>
    </script>

    <!-- Toppings popup background -->
    <div id="popupBoxBackground" data-bind="'attr': { 'class': popupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

    <!-- Toppings popup -->
    <div id="popupBox" class="popupBoxVisible" style="display:none;" data-bind="visible: popupHelper.isPopupVisible">

        <!-- Header -->
        <div class="popupBoxHeaderContainer">

            <!-- Item name & description -->
            <div class="popupItemDetails">
                <h2>
                    <span id="popupName" data-bind="text: $root.selectedItem.name"></span>
                </h2>
                <div id="popupDescription" data-bind="text: $root.selectedItem.description"></div>
            </div>

            <!-- Options -->
            <div id="popupOptions">

                <div id="popupOptionsRight">
                    <!-- Accept item changes button -->
                    <!-- ko if: popupHelper.mode() == 'editItem' -->
                    <div id="popupUpdateItemButton" class="highlightedButton">
                        <a href="#"  title="Update item" data-bind="click: popupHelper.acceptChanges">OK</a>
                    </div>
                    <!-- /ko -->

                    <!-- Add item to cart button -->
                    <!-- ko if: popupHelper.mode() == 'addItem' -->
                    <div id="popupAddToCartButton" class="highlightedButton">
                        <a href="#" title="Add item to your order" data-bind="click: popupHelper.commitToCart">Add to order</a>
                    </div>
                    <!-- /ko -->

                    <!-- Add/Edit deal item button -->
                    <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                    <div id="popupAddToDealButton" class="highlightedButton">
                        <a href="#" title="Add item to your order" data-bind="click: popupHelper.commitToDeal">OK</a>
                    </div>
                    <!-- /ko -->

                    <!-- Remove item from cart button -->
                    <!-- ko if: popupHelper.mode() == 'editItem' -->
                    <div id="popupRemoveFromCartButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.removeFromCart">Remove from order</a>
                    </div>
                    <!-- /ko -->

                    <!-- Cancel button -->
                    <!-- ko if: popupHelper.mode() == 'addItem' -->
                    <div id="popupCancelButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.cancel">Cancel</a>
                    </div>
                    <!-- /ko -->

                    <!-- Cancel deal button -->
                    <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                    <div id="popupCancelDealButton" class="button">
                        <a href="#" title="Cancel" data-bind="click: popupHelper.cancelDeal">Cancel</a>
                    </div>
                    <!-- /ko -->
                </div>

                <div id="popupOptionsLeft">
                    <div id="popupOptionsTopPrice">

                        <!-- Price header-->
                        <div id="popupPriceHeader">
                        <!-- ko if: popupHelper.mode() == 'addDealItem' || popupHelper.mode() == 'editDealItem' -->
                        Additional charges
                        <!-- /ko -->
                        <!-- ko if: popupHelper.mode() == 'addItem' || popupHelper.mode() == 'editItem' -->
                        Item price
                        <!-- /ko -->
                        </div>

                        <!-- Price -->
                        <div id="popupPrice" data-bind="html: $root.selectedItem.price"></div>
                    </div>

                    <div id="popupOptionsTopQuantity">
                        <!-- Quantity -->
                        <!-- ko if: popupHelper.mode() != 'addDealItem' && popupHelper.mode() != 'editDealItem' -->
                        <div id="popupQuantity">
                            <div id="popupQuantityHeader">
                                <label for="popupQuantityDropDownList">Quantity</label>
                            </div>
                            <div>
                                <span>
                                    <select data-bind="value: $root.selectedItem.quantity, click: popupHelper.quantityChanged">
                                        <option>1</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5</option>
                                        <option>6</option>
                                        <option>7</option>
                                        <option>8</option>
                                        <option>9</option>
                                    </select>
                                </span>
                            </div>
                        </div>
                        <!-- /ko -->
                    </div>

                    <div id="popupCatContainer">

                        <!-- ko if: $root.selectedItem.category1s().length > 0 || $root.selectedItem.category2s().length > 0 -->
                        <div id="popupCatHeader">Item type</div>
                        <!-- /ko -->

                        <!-- Cat 1 -->
                        <!-- ko if: $root.selectedItem.category1s().length > 0 -->
                        <div id="popupCategory1">
                            <!-- ko if: $root.selectedItem.category1s().length > 1 -->
                            <select data-bind="options: $root.selectedItem.category1s, optionsText: 'Name', value: $root.selectedItem.selectedCategory1, event: { change: popupHelper.popupCategory1Changed }"></select>
                            <!-- /ko -->
                            <!-- ko if: $root.selectedItem.category1s().length == 1 -->
                            <span data-bind="text: $root.selectedItem.category1s().length == 1 ? $root.selectedItem.category1s()[0].Name : ''"></span>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                        <!-- Cat 2 -->
                        <!-- ko if: $root.selectedItem.category2s().length > 0 -->
                        <div id="popupCategory2">
                            <!-- ko if: $root.selectedItem.category2s().length > 1 -->
                            <select data-bind="options: $root.selectedItem.category2s, optionsText: 'Name', value: $root.selectedItem.selectedCategory2, event: { change: popupHelper.popupSelectedItemChanged }"></select>
                            <!-- /ko -->
                            <!-- ko if: $root.selectedItem.category2s().length == 1 -->
                            <span data-bind="text: $root.selectedItem.category2s().length == 1 ? $root.selectedItem.category2s()[0].Name : ''"></span>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    
                </div>
            </div>

        </div>

        <!-- Popup body -->
        <div id="popupBody">
            <div id="popupToppingsContainer" data-bind="visible: $root.selectedItem.toppings().length > 0">
                <h1>Customize your item</h1>
                <span id="popupToppingsHelp">Highlighted options are included free with this item.  Untick the options if you want to remove them.</span>
                    
                <!-- ko if: $root.selectedItem.freeToppings() > 0 -->
                <div id="popupFreeToppings">
                    You have <span data-bind="text: $root.selectedItem.freeToppingsRemaining()"></span> free option/s remaining
                </div>
                <!-- /ko -->

                <div class="popupToppingsHeaders">
                    <div class="popupToppingsSingle" data-bind="visible: $root.selectedItem.toppings().length > 0">
                        single
                    </div>
                    <div class="popupToppingsDouble" data-bind="visible: $root.selectedItem.toppings().length > 0">
                        double
                    </div>

                    <div class="popupToppingsSingle2" data-bind="visible: $root.selectedItem.toppings().length > 1">
                        single
                    </div>
                    <div class="popupToppingsDouble2" data-bind="visible: $root.selectedItem.toppings().length > 1">
                        double
                    </div>

                    <div class="popupToppingsSingle2" data-bind="visible: $root.selectedItem.toppings().length > 2">
                        single
                    </div>
                    <div class="popupToppingsDouble2" data-bind="visible: $root.selectedItem.toppings().length > 2">
                        double
                    </div>
                </div>

                <div class="popupToppings">
                    <!-- ko foreach: $root.selectedItem.toppings -->
                        <!-- ko template: { name: 'popupTopping-template' } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>
            </div>

            <div class="popupExtraBits">
                <div class="popupChefComments">
                    <h1>Comments for the Chef</h1>
                    <div id="popupChefCommentsInner">
                        <p>Let us know if there are any special cooking requirements for this item:</p>
                        <textarea data-bind="value: $root.selectedItem.instructions"></textarea>
                    </div>
                </div>

                <div class="popupPerson">
                    <h1>Who's this item for?</h1>
                    <div id="popupPersonInner">
                        <p>If you're ordering for multiple people let us know who this item is for:</p>
                        <input type="text" data-bind="value: $root.selectedItem.person" />
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Popup topping -->
    <script type="text/html" id="popupTopping-template">
        <div class="popupTopping">
            <div data-bind="'attr': { 'class': type == 'removable' ? 'popupRemovableTopping' : 'popupAdditionalTopping' }">
                <span class="popupToppingName" data-bind="text: topping.Name == undefined ? topping.ToppingName : topping.Name"></span>
                <span class="popupToppingPrice" data-bind="html: price"></span>
                <input type="checkbox" data-bind="checked: selectedSingle, click: popupHelper.singleChanged" />
            </div>
            <span class="popupToppingPrice" data-bind="html: doublePrice"></span>
            <input type="checkbox" data-bind="checked: selectedDouble, click: popupHelper.doubleChanged" />
        </div>
    </script>

    <!-- Deal popup background -->
    <div id="dealPopupBoxBackground" data-bind="'attr': { 'class': dealPopupHelper.isBackgroundVisible() ? 'dealPopupBoxBackgroundVisible' : 'dealPopupBoxBackgroundHidden' }"></div>

    <!-- Deal popup -->
    <div id="dealPopupBox" class="popupBoxVisible" style="display:none;" data-bind="visible: dealPopupHelper.isPopupVisible">

        <!-- Deal header -->
        <div class="popupBoxHeaderContainer">

            <!-- Deal name & description -->
            <div class="popupItemDetails">
                <h2>
                    <span class="popupName" data-bind="text: dealHelper.selectedDeal.name"></span>
                </h2>
                <div class="popupDescription" data-bind="text: dealHelper.selectedDeal.description"></div>
            </div>

            <!-- Deal options -->
            <div id="popupDealOptions">
                        
                <!-- Accept changes button -->
                <!-- ko if: dealHelper.mode() == 'editDeal' -->
                <div id="dealPopupUpdateCartButton" class="highlightedButton">
                    <a data-bind="click: dealHelper.acceptChanges">Ok</a>
                </div>
                <!-- /ko -->

                <!-- Remove from cart button -->
                <!-- ko if: dealHelper.mode() == 'editDeal' -->
                <div id="dealPopupRemoveFromCartButton" class="button">
                    <a data-bind="click: dealHelper.removeFromCart">Remove from order</a>
                </div>
                <!-- /ko -->

                <!-- Add to cart button -->
                <!-- ko if: dealHelper.mode() == 'addDeal' -->
                <div id="dealPopupAddToCartButton" class="highlightedButton">
                    <a data-bind="click: dealHelper.commitToCart">Add to order</a>
                </div>
                <!-- /ko -->

                <!-- Cancel button -->
                <!-- ko if: dealHelper.mode() == 'addDeal' -->
                <div id="dealPopupCancelButton" class="button">
                    <a href="#" data-bind="click: dealHelper.dealPopupCancel">Cancel</a>
                </div>
                <!-- /ko -->
 
            </div>

        </div>

        <!-- Deal body -->
        <div id="Div1">

            <!-- ko if: dealHelper.mode() == 'addDeal' -->
            <h1>Please choose your deal items</h1>
            <div style="overflow-y:auto;">
                <!-- ko foreach: dealHelper.selectedDeal.bindableDealLines -->
                    <!-- ko template: { name: dealHelper.getDealLineTemplateName } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: dealHelper.hasError -->
            <div class="checkoutError">
                Missing information!  Please select items highlighted in red.
            </div>
            <!-- /ko -->

        </div>

    </div>

    <!-- Popup deal line -->
    <script type="text/html" id="popupDealLine-template">
        <div class="popupDealLine">
            <span class="popupDealLineItem">Item <span data-bind="text: dealLineWrapper.itemNo"></span></span> 
        </div>
    </script>

    <!-- Popup deal line fixed -->
    <script type="text/html" id="popupDealLineFixed-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine">Customize</a>
                </div>
            </div>

            <div class="popupDealLineDetails">
                <!-- Item number -->
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">Item <span data-bind="text: dealLineWrapper.itemNo"></span></span> 
                </div>

                <!-- Item name -->
                <div class="popupDealItemPicker" data-bind="text: selectedItemWrapper().name"></div>
            
                <!-- ko if: selectedMenuItem.FreeTops > 0 -->
                <div class="popupDealFreeTopsReminder">Press customize to choose your free options</div>
                <!-- /ko -->
            </div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine">Customize</a>
                </div>
            </div>
        </div>
    </script>

    <!-- Popup deal line picker -->
    <script type="text/html" id="popupDealLinePicker-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedItemWrapper() == undefined || selectedItemWrapper().name != text_pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine">Customize</a>
                </div>
                <!-- /ko -->
            </div>

            <div class="popupDealLineDetails">
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">Item <span data-bind="text: dealLineWrapper.itemNo"></span></span>
                </div> 

                <div class="popupDealItemPicker">
                    <select data-bind="options: itemWrappers, optionsText: 'name', value: selectedItemWrapper, 'attr': { 'class': hasError() ? 'checkoutDataError' : '', id: dealLineWrapper.id }"></select>
                </div>
            </div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedItemWrapper() == undefined || selectedItemWrapper().name != text_pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: dealHelper.customizeDealLine">Customize</a>
                </div>
                <!-- /ko -->
            </div>

        </div>
    </script>

    <!-- CHECKOUT DETAILS VIEW -->
    <script type="text/html" id="checkoutView">
        <div class="checkoutPage">
            <section id="checkoutPageInner">
                <h1>Checkout</h1>
                <!-- Checkout section headers -->
                <div id="checkoutSectionContainer" class="checkoutSectionHeaders">
                    <!-- ko foreach: checkoutHelper.checkoutSections -->
                        <!-- ko template: { name: 'checkoutSectionHeader-template' } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>

                <!-- Checkout sections -->
                <div id="checkoutSectionsContainer" class="sectionsContainer">
                    <!-- ko foreach: checkoutHelper.checkoutSections -->
                        <!-- ko template: { name: checkoutHelper.getTemplateName } -->
                        <!-- /ko -->
                    <!-- /ko -->
                </div>
            </section>
         </div>
    </script>

    <!-- Checkout section header -->
    <script type="text/html" id="checkoutSectionHeader-template">
        <div class="checkoutSectionHeader" data-bind="'attr': { 'class': checkoutHelper.visibleCheckoutSection() == index ? 'selectedCheckoutSectionHeader' : 'checkoutSectionHeader' }">
            <h2 data-bind="click: $parent.showCheckoutSection, text: displayName"></h2>
        </div>
    </script>

    <!-- Contact details -->
    <script type="text/html" id="checkoutContactDetails-template">
        <div class="checkoutSection" data-bind="style: { left: left() }">
            <div id="checkoutContactDetailsContainer">
                <h3>Who are you?</h3>

                <!-- First name -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutFirstName">First name: </label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutFirstName" type="text" data-bind="value: checkoutHelper.checkoutDetails.firstName, 'attr': { 'class': checkoutHelper.errors.firstNameHasError() ? 'checkoutDataError' : '' }" />
                    </div>
                    
                </div>

                <!-- Surname -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutLastName">Surname / family name: </label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutLastName" type="text" data-bind="value: checkoutHelper.checkoutDetails.surname, 'attr': { 'class': checkoutHelper.errors.surnameHasError() ? 'checkoutDataError' : '' }" />
                    </div>
                </div>

                <!-- Phone -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutTelNo">Telephone number: </label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutTelNo" type="tel" data-bind="value: checkoutHelper.checkoutDetails.telephoneNumber, 'attr': { 'class': checkoutHelper.errors.telephoneHasError() ? 'checkoutDataError' : '' }" />
                    </div>
                </div>

                <!-- Email -->
                <div class="checkoutContactLine">
                    <div class="required">&nbsp;</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutEmail">Email address: </label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutEmail" type="email" data-bind="value: checkoutHelper.checkoutDetails.emailAddress, 'attr': { 'class': checkoutHelper.errors.emailHasError() ? 'checkoutDataError' : '' }" />
                    </div>
                </div>
                <div id="marketingLine">
                    Don't worry, we won't give your email address to anyone else!
                    <!--<input type="checkbox" id="marketing" data-bind="checked: checkoutHelper.checkoutDetails.marketing" /><label for="marketing">Keep me up to date on new products and special offers (don't worry, we won't give your email address to anyone else)</label>-->
                </div>
                <div class="requiredLine">
                    * Required
                </div>

                <!-- ko if: checkoutHelper.errors.contactDetailsHasError() && !checkoutHelper.errors.emailHasError() -->
                <div class="checkoutError">
                    Missing information!  Please enter details in the boxes highlighted in red.
                </div>
                <!-- /ko -->

                <!-- ko if: checkoutHelper.errors.emailHasError() -->
                <div class="checkoutError">
                    Please enter a valid email address
                </div>
                <!-- /ko -->

                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button" style="width:100px; float:left;">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button" style="width:150px; float:right;">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Delivery time -->
    <script type="text/html" id="checkoutDeliveryTime-template">
        <div class="checkoutSection" data-bind="style: { left: left() }">
            <div id="checkoutDeliveryTimeContainer">
                <div id="checkoutDeliveryTimePrompt">
                    <h3>
                        <span data-bind="visible: $root.orderType() == 'collection'">When do you want to collect your order?</span>
                        <span data-bind="visible: $root.orderType() == 'delivery'">When do you want your order delivered?</span>
                    </h3>
                </div>
                <div id="checkoutDeliveryTime">
                    <div id="deliveryTimeRequired">*<select id="deliveryTime" data-bind="options: checkoutHelper.times, optionsText: 'text', value: checkoutHelper.checkoutDetails.wantedTime, 'attr': { 'class': checkoutHelper.errors.deliveryTimeError() ? 'checkoutDataError' : '' }, event: { change: checkoutHelper.deliveryTimeChanged }"></select>
                    </div>
                    <div>
                        <p>Please note that your delivery may be moved into the next delivery slot if you take longer than 15 minutes to complete your order.</p>
                    </div>
                </div>
                <div class="requiredLine">
                    * Required
                </div>
                <div class="checkoutError" data-bind="visible: checkoutHelper.errors.deliveryTimeHasError()">
                    Missing information!  Please enter details in the boxes highlighted in red.
                </div>

                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button" style="width:100px; float:left;">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button" style="width:150px; float:right;">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Delivery address -->
    <script type="text/html" id="checkoutDeliveryAddress-template">
        <div class="checkoutSection" data-bind="style: { left: left() }">
            <div id="checkoutDeliveryAddressContainer">
                <h3>Where do you want your order delivered to?</h3>
                <div data-bind="template: { name: $root.addressType() }"></div>
                <!-- Next & back buttons -->
                <div data-bind="visible: !guiHelper.isMobileMode()" class="checkoutButtons">
                    <!-- Back -->
                    <div class="button" style="width:100px; float:left;">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button" style="width:150px; float:right;">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Order notes -->
    <script type="text/html" id="checkoutOrderNotes-template">
        <div class="checkoutSection" data-bind="style: { left: left }"> 
            <div id="checkoutOrderNotesContainer">
                <h3>Is there anything you need to tell us about this order?</h3>
                <!-- Order notes -->
                <div class="checkoutAddressLine">
                    <div class="checkoutAddressColumn1">
                        <label for="checkoutFirstName">Order notes: </label>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea data-bind="value: checkoutHelper.checkoutDetails.orderNotes"></textarea>
                    </div>
                </div>

                <!-- Chef notes -->
                <div class="checkoutAddressLine">
                    <div class="checkoutAddressColumn1">
                        <label for="checkoutFirstName">Chef notes: </label>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea data-bind="value: checkoutHelper.checkoutDetails.chefNotes"></textarea>
                    </div>
                </div>

                <!-- Next & back buttons -->
                <div class="checkoutButtons" data-bind="visible: !guiHelper.isMobileMode()">
                    <!-- Back -->
                    <div class="button" style="width:100px; float:left;">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText, visible: checkoutHelper.backButton.visible" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button" style="width:150px; float:right;">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
             </div>
        </div>
    </script>

    <!-- Generic address template-->
    <script type="text/html" id="genericAddress-template">
        Generic address template
    </script>

    <!-- UK address template-->
    <script type="text/html" id="ukAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Department: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg1" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org1" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Sales Department
            </div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2">Organisation name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg2" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org2" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Andromeda Trading Ltd.
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">House name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem1" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Flat 1 or 'Sandy Cottage'
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem2" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2" />
            </div>
            <div class="checkoutAddressColumn3">
                 E.g. Nelson Mandela House
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">House number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNumber" type="number" data-bind="value: checkoutHelper.checkoutDetails.address.roadNumber" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Road name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadName" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, 'attr': { 'class': checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "Park Road"
            </div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">Town: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutTown" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, 'attr': { 'class': checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                The town name. E.g. "Ely"
            </div>
        </div>

        <!-- Locality -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutLocality">Locality: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutLocality" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.locality" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Town = “London” Locality = “Westminster”
            </div>
        </div>
        	

        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutPostcode">Postcode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPostcode" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.zipCode, 'attr': { 'class': checkoutHelper.errors.zipCodeHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "SM6 0DZ"
            </div>
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutDirections">Directions: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <textarea id="checkoutDirections" data-bind="value: checkoutHelper.checkoutDetails.address.directions"></textarea>
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.zipCode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>

    <!-- T&C popup -->
    <div id="tandcPopupBox" class="tandcPopupHidden" style="display:none;" data-bind="visible: tandcHelper.isPopupVisible, template: { name: 'tandcInternal' }">
    </div>

    <!-- T&C internal -->
    <script type="text/html" id="tandcInternal">
        <div id="tandcInner">
            <!-- Header -->
            <h1>Terms and conditions</h1>
            <div id="tandcText">There are currently no terms and conditions</div>



        </div>

        <div id="tandcButtons">
            <div id="tandcOkButton" class="button">
                <a href="#" data-bind="click: tandcHelper.hidePopup">OK</a>
            </div>
        </div>
    </script>

    <!-- T&C VIEW -->
    <script type="text/html" id="tandcView" >
        <div class="checkoutPage">
            <div>
                <!-- ko template: { name: 'tandcInternal' } --> <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- PAYMENT VIEW -->
    <script type="text/html" id="paymentView">
        <div class="checkoutPage">
            <div>
                <h1>Payment</h1>
                    <div id="checkoutPaymentContainer">
                    <h2>When would you like to pay for this order?</h2>
                    <div id="paymentPayLine">
                        <!-- Pay at door / on collection -->
                        <div class="button" id="payAtDoorButton">
                            <a data-bind="click: checkoutHelper.payAtDoor, text: $root.orderType() == 'delivery' ? 'Pay at door' : 'Pay on collection'" href="#"></a>
                        </div>

                        <!-- Pay now -->
                        <!-- ko if: viewModel.siteDetails().paymentProvider != undefined && viewModel.siteDetails().paymentProvider.length > 0 -->
                        <div class="button" id="payNowButton">
                            <a data-bind="click: checkoutHelper.payNow" href="#">Pay now</a>
                        </div>
                        <!-- /ko -->
                    </div>
                    <div id="paymentTandCContainer">
                        <div id="paymentTandCCheckbox">
                            <input data-bind="checked: tandcHelper.agree" type="checkbox" />
                            I have read and agree to the <a href="#" data-bind="click: tandcHelper.showPopup">terms and conditions</a>
                        </div>
                        <!-- ko if: tandcHelper.agree() == false -->
                        <div id="paymentTandCError">You must agree to the terms and conditions before proceeding</div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- MERCURY PAYMENT VIEW-->
    <script type="text/html" id="mercuryPaymentView">
        <div class="checkoutPage">
            <div>
                <h1>Payment</h1>
                <div>
                    <div id="mercuryPaymentContainer">
                        <iFrame id='mercuryPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- DATACASH PAYMENT VIEW-->
    <script type="text/html" id="dataCashPaymentView">
        <div class="checkoutPage">
            <div>
                <h1>Payment</h1>
                <div>
                    <div id="dataCashPaymentContainer">
                        <iFrame id='dataCashPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- SUBMIT ORDER VIEW -->
    <script type="text/html" id="submitOrderView">
        <div class="checkoutPage">
            <div>
                <div class="sitesBox">
                    <h1 class="welcomeHeader" data-bind="text: template_welcomeHeader"></h1>

                    <!-- Please wait -->
                    <div class="chooseStore">
                        <h2 class="waitPrompt">One moment please</h2>
                        <div style="width:35px; margin: 0 auto;">
                            <div style="margin: 0 auto;"><img src="Content/Images/loader.gif" /></div>
                        </div>
                        <p style="text-align:center;">
                            <span data-bind="text: $root.pleaseWaitMessage()"></span>
                            <span data-bind="text: $root.pleaseWaitProgress()"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- ORDER ACCEPTED VIEW -->
    <script type="text/html" id="orderAcceptedView">
        <div class="content">
            <div class="sitesBox">
                <h1 class="welcomeHeader" data-bind="text: template_welcomeHeader"></h1>

                <div id="orderAccepted">
                    <h3>Your order has been accepted by the store.</h3>
                    <h3>Thanks for your order!</h3>

                    <div id="orderAcceptedOptions" style="clear:both;">
                        <div class="button">
                            <a href="#" data-bind="click: helper.newOrder">Return to the menu</a>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- Mobile menu -->
    <div id="mobileMenu" data-bind="visible: guiHelper.isMobileMenuVisible, 'attr': { 'class': (popupHelper.isBackgroundVisible() || dealPopupHelper.isBackgroundVisible()) ? 'headFootPopup' : 'headFootNoPopup' }">
        <!-- HOME -->
        <div class="mobileMenuButton">
            <div data-bind="'attr': { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'homeView') ? 'mobileMenuButtonSelectedInner' : 'mobileMenuButtonInner' }, event: { click: guiHelper.showHome }"><!-- fastClick: guiHelper.showHome -->
                <a href="#">HOME</a>  
            </div>
        </div>
        <!-- ORDER NOW -->
        <div class="mobileMenuButton">
            <div data-bind="'attr': { 'class': guiHelper.isMenuVisible() ? 'mobileMenuButtonSelectedInner' : 'mobileMenuButtonInner' }, fastClick: guiHelper.showMenu">
                <a href="#">ORDER NOW</a> 
            </div>
        </div>
        <!-- CART -->
        <div class="mobileMenuButton">
            <div data-bind="'attr': { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'cartView') ? 'mobileMenuButtonSelectedInner' : 'mobileMenuButtonInner' }, fastClick: guiHelper.showCart">
                <a href="#yourOrderContainer">MY ORDER</a>
            </div>
        </div>
    </div>

    <!-- Mobile checkout menu -->
    <div id="mobileCheckoutMenu" data-bind="visible: checkoutMenuHelper.isVisible">
        <!-- BACK BUTTON -->
        <div class="mobileCheckoutMenuButton">
            <!-- ko if: checkoutMenuHelper.backTo() == 'menu' -->
            <div class="mobileMenuButtonInner" data-bind="fastClick: checkoutHelper.modifyOrder">
                <a href="#">BACK TO MENU</a>  
            </div>
            <!-- /ko -->
            <!-- ko if: checkoutMenuHelper.backTo() == 'checkout' -->
            <div class="mobileMenuButtonInner" data-bind="fastClick: cartHelper.checkout">
                <a href="#">BACK TO CHECKOUT</a>  
            </div>
            <!-- /ko -->
            <!-- ko if: checkoutMenuHelper.backTo() == 'pay' -->
            <div class="mobileMenuButtonInner" data-bind="fastClick: checkoutHelper.showPaymentPicker">
                <a href="#">BACK TO PAY</a>  
            </div>
            <!-- /ko -->
        </div>
        <!-- PLACE ORDER -->
        <!-- ko if: checkoutMenuHelper.isPlaceOrderEnabled -->
        <div class="mobileCheckoutMenuButton">
            <div class="mobileMenuButtonInner" data-bind="fastClick: checkoutHelper.placeOrder">
                <a href="#">PLACE ORDER</a> 
            </div>
        </div>
        <!-- /ko -->
    </div>

    <div id="footer">Powered by <a href="http://andromedapos.com" target="_blank">Andromeda POS</a><span data-bind="text: testMode.debugText"></span></div>
    
</body>
</html>
