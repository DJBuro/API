<!DOCTYPE html>
<html>
<head>
    <!--
        Copyright Â© 2014 Andromeda Trading Limited.  All rights reserved.
        THIS FILE AND ITS CONTENTS ARE PROTECTED BY COPYRIGHT AND/OR OTHER APPLICABLE LAW.
        ANY USE OF THE CONTENTS OF THIS FILE OR ANY PART OF THIS FILE WITHOUT EXPLICIT PERMISSION FROM ANDROMEDA TRADING LIMITED IS PROHIBITED.
    -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title id="title"></title>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="../Content/Styles.css" />
    <link rel="stylesheet" type="text/css" href="../Custom/Skin.css" />
    <link rel="stylesheet" type="text/css" href="../Custom/Custom.css" />

    <script src="../Source/ResourceStrings/en-GB.js" type="text/javascript"></script>
    <script src="../Source/ResourceStrings/fr-FR.js" type="text/javascript"></script>

    <!-- 3RD PARTY SCRIPTS GO HERE -->
    <script src="../Source/Scripts/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jreject.js" type="text/javascript"></script>
    <script src="../Source/Scripts/amplify.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/knockout-3.0.0.js" type="text/javascript"></script>
    <script src="../Source/Scripts/knockout.validation.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/modernizr.min.js" type="text/javascript"></script>
    <script src="../Source/Scripts/OpenLayers.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.core.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.utils.js" type="text/javascript"></script>
    <script src="../Source/Scripts/jssor.slider.js" type="text/javascript"></script>
    <script src="../Source/Scripts/Animation.js" type="text/javascript"></script>

    <script src="../Source/Helpers/Settings.js" type="text/javascript"></script>
    <script src="../Source/Helpers/ACSAPI.js" type="text/javascript"></script>

    <!-- MODELS GO HERE -->
    <script src="../Source/Models/Address.js" type="text/javascript"></script>
    <script src="../Source/Models/CartDeal.js" type="text/javascript"></script>
    <script src="../Source/Models/CartDealLine.js" type="text/javascript"></script>
    <script src="../Source/Models/CartItem.js" type="text/javascript"></script>
    <script src="../Source/Models/CartItemTopping.js" type="text/javascript"></script>
    <script src="../Source/Models/Customer.js" type="text/javascript"></script>
    <script src="../Source/Models/MenuItemWrapper.js" type="text/javascript"></script>

    <!-- HELPERS GO HERE -->
    <script src="../Source/Helpers/customerHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/addressHelper.js" type="text/javascript"></script>

    <script src="../Source/Helpers/accountHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cacheHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cartHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/checkoutHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/checkoutMenuHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/cookieHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/dealHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/dealPopupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/deliveryZoneHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/guiHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/helper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/imageHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/informationHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/LoyaltyHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/Logger.js" type="text/javascript"></script>
    <script src="../Source/Helpers/mapHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/menuHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/myOrdersHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/openingTimesHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/pageManager.js" type="text/javascript"></script>
    <script src="../Source/Helpers/popupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/telemetryHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/toppingsPopupHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/postcodeCheckHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/queryStringHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/siteSelectorHelper.js" type="text/javascript"></script>
    <script src="../Source/Helpers/viewHelper.js" type="text/javascript"></script>

    <!-- CHECKOUT VIEW MODELS GO HERE -->
    <script src="../Source/ViewModels/Checkout/CheckoutViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/DataCashPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/MercanetPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/MercuryPaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/OrderAcceptedViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/PaymentViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/Checkout/PayPalPaymentViewModel.js" type="text/javascript"></script>

    <!-- VIEW MODELS GO HERE -->
    <script src="../Source/ViewModels/AddressViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/BaseViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/CartViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/DealViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/DefaultViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ErrorViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/FeedbackViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/HeaderViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/HomeViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/InformationViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/LoginViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MenuViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MobileMenuViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MyProfileViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/MyOrdersViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PleaseWaitViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PasswordResetRequestViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PasswordResetViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PostcodeStoreLocatorViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/PopupViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/RepeatOrderViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/SitesViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/StoreDetailsViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ToppingsWrapperViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/ToppingsViewModel.js" type="text/javascript"></script>
    <script src="../Source/ViewModels/viewModel.js" type="text/javascript"></script>

    <script src="../Source/Helpers/LoyaltyHelper.js" type="text/javascript"></script>
    <script src="../source/Helpers/homePageHelper.js" type="text/javascript"></script>
    <script src="../Custom/Custom.js" type="text/javascript"></script>
    <script type="text/javascript">

        // Google analytics
        (function (i, s, o, g, r, a, m)
        {
            i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function ()
            {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date(); a = s.createElement(o),
            m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        // >> INJECT SCRIPTS HERE <<

        ga('create', settings.googleAnalyticsId, 'auto');
        ga('send', 'pageview');
        ga('require', 'ec');

        $(function ()
        {
            $("form").submit(function () { return false; });
        });

        $(document).ready
        (
            function ()
            {
                // Check if the browser is supported
                $.reject
                (
                    {
                        reject:
                        {
                            all: false, // Covers Everything (Nothing blocked)
                            msie5: true, msie6: true, msie7: true, msie8: true
                        }
                    }
                );

                // Start!
                viewModel.initialise();
            }
        );

    </script>

    <style>
        /*
         * jReject (jQuery Browser Rejection Plugin)
         * Version 1.0.0
         * URL: http://jreject.turnwheel.com/
         * Description: jReject is a easy method of rejecting specific browsers on your site
         * Author: Steven Bower (TurnWheel Designs) http://turnwheel.com/
         * Copyright: Copyright (c) 2009-2011 Steven Bower under dual MIT/GPL license.
         */

        #jr_overlay {
            top: 0;
            left: 0;
            padding: 0;
            margin: 0;
            z-index: 1000;
            position: absolute;
        }

        #jr_wrap {
            position: absolute;
            text-align: center;
            width: 100%;
            z-index: 2000;
            padding: 0;
            margin: 0;
        }

        #jr_inner {
            font-family: "Lucida Grande","Lucida Sans Unicode",Arial,Verdana,sans-serif;
            font-size: 12px;
            background: #FFF;
            border: 1px solid #CCC;
            color: #4F4F4F;
            margin: 0 auto;
            height: auto;
            padding: 20px;
            position: relative;
        }

        #jr_header {
            display: block;
            color: #333;
            padding: 5px;
            padding-bottom: 0;
            margin: 0;
            font-family: Helvetica,Arial,sans-serif;
            font-weight: bold;
            text-align: left;
            font-size: 1.3em;
            margin-bottom: 0.5em;
        }

        #jr_inner p {
            text-align: left;
            padding: 5px;
            margin: 0;
        }

        #jr_inner ul {
            list-style-image: none;
            list-style-position: outside;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }

            #jr_inner ul li {
                cursor: pointer;
                float: left;
                width: 120px;
                height: 122px;
                margin: 0 10px 10px 10px;
                padding: 0;
                text-align: center;
            }

        #jr_inner li a {
            color: #333;
            font-size: 0.8em;
            text-decoration: none;
            padding: 0;
            margin: 0;
        }

            #jr_inner li a:hover {
                text-decoration: underline;
            }

        #jr_inner .jr_icon {
            width: 100px;
            height: 100px;
            margin: 1px auto;
            padding: 0;
            background: transparent no-repeat scroll left top;
            cursor: pointer;
        }

        #jr_close {
            margin: 0 0 0 50px;
            clear: both;
            text-align: left;
            padding: 0;
            margin: 0;
        }

            #jr_close a {
                color: #000;
                display: block;
                width: auto;
                margin: 0;
                padding: 0;
                text-decoration: underline;
            }

            #jr_close p {
                padding: 10px 0 0 0;
                margin: 0;
            }
    </style>

    <!-- Place holder for dynamically loaded resource strings -->
    <script type="text/javascript" id="resourceStrings"></script>
</head>
<body>

    <!-- PAGE HEADER -->
    <header data-bind="attr: { 'class': (toppingsPopupHelper.isBackgroundVisible() || dealPopupHelper.isBackgroundVisible()) ? 'headFootPopup' : 'headFootNoPopup'}, template: { name: $root.isMobileMode() ? 'mobileHeaderView' : 'headerView' }">
    </header>

    <div id="bindToElements">

        <!-- PAGE CONTENT (VIEW)-->
        <!-- ko if: guiHelper.isViewVisible -->
        <div id="viewContainerOuter">
            <div id="viewContainer" data-bind="template: { name: viewName() }"></div>
        </div>
        <!-- /ko -->
        <!-- MENU -->
        <div id="menuSectionWrapper">
            <div id="menuSection" data-bind="template: { name: 'menuView' }"></div>
        </div>

        <!-- Please wait overlay -->
        <div id="pleaseWaitOverlay" style="display:none;">
        </div>

        <!-- Postcode check popup -->
        <div id="postcodeCheck" style="display:none;" data-bind="template: { name: 'postcodeCheckView' }, visible: postcodeCheckHelper.isPopupVisible">
        </div>

        <!-- Image popup -->
        <div id="imagePopup" style="display:none;" data-bind="style: { height: imageHelper.image().Height + 25 + 'px', width: imageHelper.image().Width + 'px', marginTop: imageHelper.topOffset(), marginLeft: imageHelper.leftOffset() }, template: { name: 'imageView' }, visible: imageHelper.isPopupVisible">
        </div>

        <!-- Toppings popup background -->
        <div id="popupBoxBackground" data-bind="attr: { 'class': toppingsPopupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

        <!-- Toppings popup -->
        <div id="popupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'toppingsView' }, visible: toppingsPopupHelper.isPopupVisible, event: { keypress: toppingsPopupHelper.keyPress }" tabindex="1">
        </div>

        <!-- Deal popup background -->
        <div id="dealPopupBoxBackground" data-bind="attr: { 'class': dealPopupHelper.isBackgroundVisible() ? 'dealPopupBoxBackgroundVisible' : 'dealPopupBoxBackgroundHidden' }"></div>

        <!-- Deal popup -->
        <div id="dealPopupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: 'dealsView' }, visible: dealPopupHelper.isPopupVisible">
        </div>

        <!-- Generic popup background -->
        <div id="popupBoxBackground" data-bind="attr: { 'class': popupHelper.isBackgroundVisible() ? 'popupBoxBackgroundVisible' : 'popupBoxBackgroundHidden' }"></div>

        <!-- Generic popup -->
        <div id="genericPopupBox" class="popupBoxVisible" style="display:none;" data-bind="template: { name: popupHelper.viewName }, visible: popupHelper.isPopupVisible, event: { keypress: popupHelper.keyPress }" tabindex="1">
        </div>

        <!-- PAGE FOOTER -->
        <div id="footerWrapper">
            <div id="footer">
                <div id="footerTop">
                    <div id="footerLinks">
                        <a id="termsOfUse" data-bind="text: textStrings.termsOfUse, click: informationHelper.termsOfUse"></a>
                        <span id="footerSplitter1">|</span>
                        <a id="privacyPolicy" data-bind="text: textStrings.privacyPolicy, click: informationHelper.privacyPolicy"></a>
                        <span id="footerSplitter2">|</span>
                        <a id="cookiePolicy" data-bind="text: textStrings.cookiePolicy, click: informationHelper.cookiePolicy"></a>
                        <span id="poweredByAndro">
                            <span data-bind="text: textStrings.footPoweredBy1"></span>
                            <a href="http://andromedapos.com" target="_blank" data-bind="text: textStrings.footPoweredBy2"></a>
                            <span>&nbsp;&nbsp;&nbsp;v2.9.0.9</span>
                        </span>
                    </div>
                    <div id="footerSocialButtons" data-bind="visible: guiHelper.isMobileMode()">

                        <!-- ko if: settings.tripAdvisorIsEnabled -->
                        <div id="tripAdvisor" data-bind="html: settings.tripAdvisorScript">
                            <!-- INJECTTRIPADVISORHERE -->
                        </div>
                        <!-- /ko -->

                        <!--<div id="footerNewsletter">
                            <div class="createsend-button" style="height: 22px; display: none;" data-listid="t/1B/00F/33B/13D263F25FA9BBFB">
                            </div>
                            <script type="text/javascript">(function () { var e = document.createElement('script'); e.type = 'text/javascript'; e.async = true; e.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://btn.createsend1.com/js/sb.min.js?v=2'; e.className = 'createsend-script'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(e, s); })();</script>
                        </div>-->
                        <a id="footerInstagram" style="display:none;" href="#" target="_blank" data-bind="visible: settings.instagram.length > 0, attr: { href: settings.instagram, title: settings.instagram }, html: textStrings.hInstagram"></a>
                        <a id="footerTwitter" style="display:none;" href="#" target="_blank" data-bind="visible: settings.twitter.length > 0, attr: { href: settings.twitter, title: settings.twitter }, html: textStrings.hTwitter"></a>
                        <a id="footerFacebook" style="display:none;" href="#" target="_blank" data-bind="visible: settings.facebook.length > 0, attr: { href: settings.facebook, title: settings.facebook }, html: textStrings.hFacebook"></a>
                        <a id="footerPInterest" style="display:none;" href="#" target="_blank" data-bind="visible: settings.pinterest.length > 0, attr: { href: settings.pinterest, title: settings.pinterest }, html: textStrings.hPinterest"></a>
                    </div>

                </div>
                <div id="footerBottom" data-bind="html: textStrings.copyright"></div>
            </div>

        </div>
    </div>

    <script type="text/template" id="accountDetailTemplate">
    
    <div class="lrLoginFormInput">
        <input name="Name" autofocus type="text" maxlength="48" class="checkoutDataError"
            data-bind="value: customerHelper.bindableCustomer().firstName, valueUpdate: 'afterkeydown', attr: { 'class': customerHelper.bindableCustomer().firstName.isValid() ? '' : 'checkoutDataError', placeholder: textStrings.lrFullName }" />
    </div>

    <!-- ko if: $root.contentViewModel().canModifyEmailAddress -->
    <!-- ko if: $root.contentViewModel().isEmailAddressVisible -->
    <div class="lrLoginFormInput">
        <input type="email"
            name="Email" 
            maxlength="64"
            data-bind="value: customerHelper.bindableCustomer().emailAddress, valueUpdate: 'afterkeydown change', attr: { 'class': customerHelper.bindableCustomer().emailAddress.isValid() ? '' : 'checkoutDataError', placeholder: textStrings.lrEmail }" />
    </div>
    <!-- /ko -->
    <!-- /ko -->
    
    <!-- ko if: $root.contentViewModel().canModifyEmailAddress === false -->
    <!-- ko if: $root.contentViewModel().isEmailAddressVisible -->
    <div class="lrLoginFormInput">
        <span data-bind="text: customerHelper.bindableCustomer().emailAddress" />
    </div>
    <!-- /ko -->
    <!-- /ko -->

    <!-- ko ifnot: accountHelper.isFacebookLogin -->

    <!-- ko if: $root.contentViewModel().isCurrentPasswordVisible -->
    <div class="lrLoginFormInput">
        <input name="CurrentPassword" type="password"
               data-bind="value: customerHelper.bindableCustomer().currentPassword, valueUpdate: 'afterkeydown', attr: { placeholder: textStrings.mpCurrentPassword }" />
    </div>
    <!-- /ko -->

    <div class="lrLoginFormInput">
        <input name="Password" type="password" class="checkoutDataError"
            data-bind="value: customerHelper.bindableCustomer().password, valueUpdate: 'afterkeydown', attr: { 'class': customerHelper.bindableCustomer().password.isValid() ? '' : 'checkoutDataError', placeholder: textStrings.mpNewPassword }" />
    </div>

    <div class="lrLoginFormInput">
        <input name="ReEnterPassword" type="password"
            data-bind="value: customerHelper.bindableCustomer().reenterPassword, valueUpdate: 'afterkeydown', attr: { placeholder: textStrings.mpConfirmNewPassword }" />
    </div>

    <!-- /ko -->

    <div class="lrLoginFormInput">
        <input type="text" 
            name="Phone"
            maxlength="15"
            data-bind="value: customerHelper.bindableCustomer().phoneNumber, valueUpdate: 'afterkeydown', event: { keypress: helper.numbersOnly }, attr: { 'class': customerHelper.bindableCustomer().phoneNumber.isValid() ? '' : 'checkoutDataError', placeholder: textStrings.lrPhoneNumber }" />
    </div>

    <!-- ko if: $root.contentViewModel().showMarketingOptions === undefined || $root.contentViewModel().showMarketingOptions -->
    <div class="lrLoginFormInput">
        <p data-bind="text: textStrings.lrRegisterMarketingInterests"></p>
        <div>
            <label>
                <input id="lrEmailRegisterMarketingCheckbox" name="SpamEmail" type="checkbox" data-bind="checked: customerHelper.bindableCustomer().marketing" />
                <span data-bind="text: textStrings.lrEmail"></span>
            </label>
        </div>
        <div>
            <label>
                <input id="lrSMSRegisterMarketingCheckbox" name="SpamSms" type="checkbox" data-bind="checked: customerHelper.bindableCustomer().smsMarketing" />
                <span data-bind="text: textStrings.lrSms"></span>
            </label>
        </div>
    </div>
    <!-- /ko -->

</script>
    <script type="text/template" id="dealsView">

        <!-- ko if: viewModel.contentViewModel() != undefined && viewModel.contentViewModel().dealPopupViewModel != undefined && viewModel.contentViewModel().dealPopupViewModel() != undefined-->
        <!-- ko with: viewModel.contentViewModel().dealPopupViewModel() -->

        <!-- Deal header -->
        <div class="popupBoxHeaderContainer">

            <h1 data-bind="html: textStrings.dpAddDeal"></h1>

            <!-- Deal name & description -->
            <div class="popupItemDetails">
                <h2>
                    <span class="popupName" data-bind="html: cartDeal().name"></span>
                </h2>
                <div class="popupDescription" data-bind="html: cartDeal().description"></div>
            </div>

            <!-- Deal options -->
            <div id="popupDealOptions">
                        
                <!-- Accept changes button -->
                <!-- ko if: mode() == 'editDeal' -->
                <div id="dealPopupUpdateCartButton" class="highlightedButton">
                    <a data-bind="click: acceptChanges, text: textStrings.dptOk"></a>
                </div>
                <!-- /ko -->

                <!-- Remove from cart button -->
                <!-- ko if: mode() == 'editDeal' -->
                <div id="dealPopupRemoveFromCartButton" class="button">
                    <a data-bind="click: removeFromCart, text: textStrings.dptRemove"></a>
                </div>
                <!-- /ko -->

                <!-- Add to cart button -->
                <!-- ko if: mode() == 'addDeal' -->
                <div id="dealPopupAddToCartButton" class="highlightedButton">
                    <a data-bind="click: commitToCart, text: textStrings.dptAdd"></a>
                </div>
                <!-- /ko -->

                <!-- Cancel button -->
                <!-- ko if: mode() == 'addDeal' -->
                <div id="dealPopupCancelButton" class="button">
                    <a href="#" data-bind="click: dealPopupCancel, text: textStrings.dptCancel"></a>
                </div>
                <!-- /ko -->
 
            </div>

        </div>

        <!-- Deal body -->
        <div id="popupDealBoxBodyContainer">

            <!-- ko if: mode() == 'addDeal' -->
            <h1 data-bind="text: textStrings.dpPrompt"></h1>
            <div style="overflow-y:auto;">
                <!-- ko foreach: cartDeal().cartDealLines -->
                    <!-- ko template: { name: $parent.getDealLineTemplateName } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: cartDeal.hasError -->
            <div class="checkoutError" data-bind="text: textStrings.dpMissing"></div>
            <!-- /ko -->

        </div>

        <!-- /ko -->
        <!-- /ko -->

    </script>

    <!-- Popup deal line -->
    <script type="text/html" id="popupDealLine-template">
        <div class="popupDealLine">
            <span class="popupDealLineItem">
                <span data-bind="text: textStrings.pdtItem"></span>
                <span data-bind="text: dealLineWrapper.itemNo"></span>
            </span> 
        </div>
    </script>

    <!-- Popup deal line fixed -->
    <script type="text/html" id="popupDealLineFixed-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: $parent.customizeDealLine, text: textStrings.pdlCustomize"></a>
                </div>
            </div>

            <div class="popupDealLineDetails">
                <!-- Item number -->
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">
                        <span data-bind="text: textStrings.pdlItem"></span>
                        <span data-bind="text: dealLineWrapper.itemNo"></span>
                    </span> 
                </div>

                <!-- Item name -->
                <div class="popupDealItemPicker" data-bind="text: selectedAllowableMenuItemWrapper().name"></div>
            
                <!-- ko if: selectedMenuItem.FreeTops > 0 -->
                <div class="popupDealFreeTopsReminder" data-bind="text: textStrings.pdlCustomizeFree"></div>
                <!-- /ko -->
            </div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: $parent.customizeDealLine">Customize</a>
                </div>
            </div>
        </div>
    </script>

    <!-- Popup deal line picker -->
    <script type="text/html" id="popupDealLinePicker-template">
        <div class="popupDealLine">
            
            <!-- Customize button (PC/Tablet mode)-->
            <div data-bind="visible: !guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedAllowableMenuItemWrapper() == undefined || selectedAllowableMenuItemWrapper().name != textStrings.pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: $parent.customizeDealLine, text: textStrings.pdlpCustomize"></a>
                </div>
                <!-- /ko -->
            </div>

            <div class="popupDealLineDetails">
                <div class="dealPopupItemNo">
                    <span class="popupDealLineItem">
                        <span data-bind="text: textStrings.pdtItem"></span>
                        <span data-bind="text: dealLineWrapper.itemNo"></span>
                    </span>
                </div> 

                <div class="popupDealItemPicker">
                    <select data-bind="options: allowableMenuItemWrappers, optionsText: 'name', value: selectedAllowableMenuItemWrapper, 'attr': { 'class': hasError() ? 'checkoutDataError' : '', id: dealLineWrapper.id }"></select>
                </div>
                <div class="popupDealItemSelected" data-bind="html: selectedCategoriesText === undefined ? '' : selectedCategoriesText"></div>

            <!-- Customize button (Mobile mode)-->
            <div data-bind="visible: guiHelper.isMobileMode()" class="popupDealCustomize">
                <!-- ko if: selectedAllowableMenuItemWrapper() == undefined || selectedAllowableMenuItemWrapper().name != textStrings.pleaseSelectAnItem -->
                <div class="popupDealCustomizeItemButton button">
                    <a href="#" data-bind="click: $parent.customizeDealLine, text: textStrings.pdlpCustomize"></a>
                </div>
                <!-- /ko -->
            </div>

        </div>
    </script>    <!-- Cart sidebar -->
<script type="text/html" id="cartView">
    <div id="yourOrderContainer">

        <div id="cartTitle">
            <h1 data-bind="html: textStrings.sMyOrder"></h1>
        </div>

        <!-- ko ifnot: cartHelper.isCheckoutMode -->
        <!-- Delivery or collection -->
        <!-- ko if: guiHelper.canChangeOrderType() -->
        <div id="deliveryOrCollection">
            <label id="forDelivery" for="delivery" data-bind="'attr': { 'class': $root.orderType() == 'delivery' ? 'ticked' : 'unticked' }, html: textStrings.sDeliverToDoor"></label>
            <input id="delivery" name="orderTypeGroup" type="radio" value="delivery" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
            <label id="forCollection" for="collection" data-bind="'attr': { 'class': $root.orderType() == 'collection' ? 'ticked' : 'unticked' }, html: textStrings.sCollectFromStore"></label>
            <input id="collection" name="orderTypeGroup" type="radio" value="collection" data-bind="checked: $root.orderType, click: cartHelper.orderTypeChanged" />
        </div>
        <!-- /ko -->
        <!-- ko if: !guiHelper.canChangeOrderType() -->
        <div id="deliveryOrCollectionText">
            <label class="ticked" data-bind="html: ($root.orderType() == 'collection' ? textStrings.sCollectFromStore : textStrings.sDeliverToDoor)"></label>
        </div>
        <!-- /ko -->
        <!-- /ko -->

        <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsMenu -->
        <div id="cartSidebarActions" style="clear:both;">
            <!-- ko if: cartHelper.cart().checkoutEnabled() -->
            <div id="checkoutButton" class="highlightedButton">
                <a data-bind="click: cartHelper.checkout, html: textStrings.sCheckout + ' (' + ko.utils.unwrapObservable(cartHelper.cart().displayTotalPrice) + ')'" href="#"></a>
            </div>
            <!-- /ko -->
        </div>
        <!-- /ko -->
        <div id="cartItems">
            <!-- Store offline -->
            <!-- ko if: !$root.isTakingOrders() -->
            <div>
                <h2 data-bind="html: textStrings.sOffline"></h2>
            </div>
            <!-- /ko -->
            <!-- Store online -->
            <!-- ko if: $root.isTakingOrders() -->
            <div>

                <!-- Cart empty -->
                <!-- ko if: cartHelper.cart().cartItems().length == 0 && cartHelper.cart().deals().length == 0 -->
                <div id="emptyBasket">
                    <h2 data-bind="html: textStrings.sEmpty1"></h2>
                    <p data-bind="html: textStrings.sEmpty2"></p>
                </div>
                <!-- /ko -->
                <!-- Cart -->
                <!-- ko if: cartHelper.cart().cartItems().length != 0 || cartHelper.cart().deals().length != 0 -->
                <div id="cartWrapper">

                    <div id="orderItemsHeader">
                        <h2>
                            <span data-bind="html: textStrings.sItemCount1"></span>
                            <span data-bind="html: cartHelper.cart().deals().length + cartHelper.cart().cartItems().length"></span>
                            <span data-bind="html: textStrings.sItemCount2"></span>
                        </h2>
                    </div>
                    <div id="cartLineItems">
                        <div id="cartLineItemsHeader">
                            <h2 id="cartLineItemsItemHeader">Item</h2>
                            <h2 id="cartLineItemsPriceHeader">Price</h2>
                            <h2 id="cartLineItemsQuantityHeader">Quantity</h2>
                        </div>
                        <!-- Deals -->
                        <div id="cartDealItemsWrapper">
                            <!-- ko foreach: cartHelper.cart().deals -->
                            <!-- ko template: { name: cartHelper.getDealTemplate } -->
                            <!-- /ko -->
                            <!-- /ko -->
                        </div>

                        <!-- List items -->
                        <div id="cartMenuItemsWrapper">
                            <!-- ko foreach: cartHelper.cart().cartItems -->
                            <!-- ko template: { name: cartHelper.getItemTemplate } -->
                            <!-- /ko -->
                            <!-- /ko -->
                        </div>
                    </div>

                    <!-- ko if: cartHelper.isCheckoutMode() && checkoutHelper.checkoutDetails.slotsRemoved -->
                    <h2 id="slotsRemoved" data-bind="text: $root.orderType() == 'collection' ? textStrings.sRemovedCollectionSlots : textStrings.sRemovedDeliverySlots "></h2>
                    <!-- /ko -->
                    <!-- Order sub total -->
                    <div id="cartSubTotalWrapper">
                        <span class="cartTotal" data-bind="html: textStrings.sSubTotal"></span>
                        <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displaySubTotalPrice"></span>
                    </div>

                    <!-- ko foreach: cartHelper.cart().vouchers -->
                    <div class="cartItem">
                        <span class="cartName">Voucher: <span data-bind="html: VoucherCode"></span></span>

                        <a href="#" class="cartRemoveVoucher" data-bind="click: checkoutHelper.removeVouchers"></a>

                        <!-- ko if: EffectType.toLowerCase() == 'fixed' -->
                        <span class="cartPrice" data-bind="html: discount == undefined ? '?' : ('-' +  helper.formatPrice(discount() * 100))"></span>
                        <!-- /ko -->
                        <!-- ko if: EffectType.toLowerCase() != 'fixed' -->
                        <span class="cartPrice" data-bind="html: discount == undefined ? '?' : ('-' +  helper.formatPrice(discount()))"></span>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- Loyalty -->
                    <!-- ko if: loyaltyHelper.IsEnabled() && loyaltyHelper.loyaltySession.spentPoints() > 0 -->
                    <div class="cartItem" style="clear:both">

                        <div class="cartName">
                            <span data-bind="text: textStrings.checkSRedeemedLoyaltyPrompt1"></span>
                            <span data-bind="html:loyaltyHelper.loyaltySession.spentPoints()"></span>
                            <span data-bind="text: textStrings.checkSRedeemedLoyaltyPrompt2"></span>
                        </div>

                        <a href="#" class="cartRemoveVoucher" data-bind="click: loyaltyBindingHelper.remove"></a>

                        <span class="cartPrice">-<span data-bind="html: loyaltyHelper.loyaltySession.spentPointsValueLabel()"></span></span>

                    </div>
                    <!-- /ko -->
                    <!-- ko if: cartHelper.cart().discountName != undefined && cartHelper.cart().discountName() != undefined && cartHelper.cart().discountName().length > 0 -->
                    <!-- Order discount -->
                    <div id="cartDiscountWrapper">
                        <span class="cartTotal" data-bind="html: cartHelper.cart().discountName"></span>
                        <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayDiscountAmount"></span>
                    </div>
                    <!-- /ko -->
                    <!-- Order totals -->
                    <div id="cartTotalWrapper">
                        <span class="cartTotal" data-bind="html: textStrings.sOrderTotal"></span>
                        <span class="cartTotalPrice" data-bind="html: cartHelper.cart().displayTotalPrice"></span>
                    </div>

                    <!-- ko if: cartHelper.cart().preLoyaltySubTotalPrice() < settings.minimumDeliveryOrder && $root.orderType() == 'delivery' -->
                    <div class="cartAutoRemove">
                        <span data-bind="html: textStrings.sMinimumDelivOrder"></span>
                        <span data-bind="html: helper.formatPrice(settings.minimumDeliveryOrder)"></span>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: cartHelper.cart().areDisabledItems -->
                    <div class="cartAutoRemove" data-bind="html: textStrings.sInvalid"></div>
                    <!-- /ko -->
                    <!-- ko if: cartHelper.isCheckoutMode() && (loyaltyHelper.IsEnabled() || settings.voucherCodesEnabled)-->
                    <div id="checkoutOptionsSection">
                        <h1>Options</h1>
                        <!-- Vouchers -->
                        <!-- Add voucher codes -->
                        <!-- ko if: settings.voucherCodesEnabled -->
                        <div class="checkoutVoucherSection">
                            <h2>Add a discount voucher</h2>
                            <!-- ko if: cartHelper.cart().vouchers().length == 0 -->
                            <div class="cartRow" style="clear:both">
                                <div id="checkoutSAddVoucherTitle" data-bind="text: textStrings.checkSAddVoucherTitle" style="float: left"></div>

                                <input id="checkoutSVoucherCode" maxlength="32" type="text" data-bind="value: checkoutHelper.checkVoucherCode, attr: { placeholder:textStrings.checkSVoucherCode }" />

                                <div class="button checkoutRedeemButton">
                                    <a data-bind="click: checkoutHelper.addVoucherCode, text: textStrings.checkSAddVoucherCode" href="#"></a>
                                </div>
                                <div class="checkoutError" data-bind="visible: checkoutHelper.voucherError() != undefined, text: checkoutHelper.voucherError"></div>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: cartHelper.cart().vouchers().length != 0 -->
                            <div class="cartRow" style="clear:both">
                                <!-- ko foreach: cartHelper.cart().vouchers -->
                                <div class="cartRow">
                                    <span class="cartName">Added voucher <span data-bind="html: VoucherCode"></span></span>
                                </div>
                                <!-- /ko -->
                            </div>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                        <!-- ko if: loyaltyHelper.IsEnabled() -->
                        <div class="checkoutLoyaltySection">
                            <h2>Redeem loyalty points</h2>
                            <!-- ko if: loyaltyHelper.loyaltySession.spentPoints() == 0 -->
                            <div class="cartRow" style="clear:both">
                                <div class="checkoutRedeemPrompt">
                                    <span data-bind="text: loyaltyHelper.loyaltySession.displayPointsLeft()"></span>
                                    <span data-bind="text: textStrings.checkSAddLoyaltyPrompt1"></span>
                                    <span data-bind="text: textStrings.checkSAddLoyaltyPrompt2"></span>
                                    <span data-bind="html:loyaltyHelper.loyaltySession.displayPointsValueLabel()"></span>
                                </div>
                                <!-- ko if: loyaltyHelper.loyaltySession.minimumPointsMessage().length == 0 -->
                                <div class="button checkoutRedeemButton">
                                    <a data-bind="click: loyaltyBindingHelper.redeem, text: textStrings.checkSAddLoyaltyAddButton" href="#"></a>
                                </div>
                                <!-- /ko -->
                                <!-- ko if: loyaltyHelper.loyaltySession.minimumPointsMessage().length > 0 -->
                                <div class="minimumPointsMessage" data-bind="html: loyaltyHelper.loyaltySession.minimumPointsMessage"></div>
                                <!-- /ko -->
                                
                            </div>
                            <!-- /ko -->
                            <!-- ko if: loyaltyHelper.loyaltySession.spentPoints() != 0 -->
                            <div class="cartRow" style="clear:both">
                                <span data-bind="html:loyaltyHelper.loyaltySession.spentPoints()"></span>
                                <span data-bind="text: textStrings.checkSAddLoyaltyPrompt3"></span>
                            </div>
                            <!-- /ko -->
                            <!-- ko if: loyaltyHelper.loyaltySession.spentPoints() == 0 -->
                            <div id="cartAwardLoyalty">
                                <div>
                                    You will earn <span data-bind="text: loyaltyHelper.loyaltySession.canGainThesePoints()"></span>
                                    loyalty points when completing this transaction.
                                </div>
                            </div>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- Menu actions -->
                    <!-- ko if: guiHelper.cartActions() == guiHelper.cartActionsMenu -->
                    <div id="cartSidebarActions" style="clear:both;">
                        <!-- ko if: cartHelper.cart().hasItems() -->
                        <!--<div id="clearOrderButton" class="button">
                            <a data-bind="click: cartHelper.clearCart, html: textStrings.sClear" href="#"></a>
                        </div>-->
                        <!-- /ko -->
                        <!-- ko if: cartHelper.cart().checkoutEnabled() -->
                        <div id="checkoutButton" class="highlightedButton">
                            <a data-bind="click: cartHelper.checkout, html: textStrings.sCheckout + ' (' + ko.utils.unwrapObservable(cartHelper.cart().displayTotalPrice) + ')'" href="#"></a>
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->
            <!-- ko if: cartHelper.cart().cartItems().length != 0 && $root.menuViewName() == 'menuSectionsView' -->
            <div id="cartHelp" data-bind="html: textStrings.sRemove"></div>
            <!-- /ko -->
        </div>

    </div>
</script>

<!-- Cart item -->
<script type="text/html" id="cartItem-template">
    <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
        <div class="cartRow">
            <a class="cartName" data-bind="html: displayName, click: cartHelper.editCartItem" href="#"></a>
            <a href="#" class="cartRemove" data-bind="visible: isEnabled(), click: cartHelper.removeCartItem"></a>
            <span class="cartQuantity" data-bind="html: quantity"></span>
            <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
        </div>
        <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
        <div class="notAvailable" data-bind="html: textStrings.ciCollectOnly"></div>
        <!-- /ko -->
        <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
        <div class="notAvailable" data-bind="html: textStrings.ciDeliverOnly"></div>
        <!-- /ko -->
        <!-- ko foreach: displayToppings -->
        <!-- ko template: { name: 'cartTopping-template' } -->
        <!-- /ko -->
        <!-- /ko -->
    </div>
</script>

<!-- Disabled cart item -->
<script type="text/html" id="disabledCartItem-template">
    <div class="cartItem">
        <div class="cartRow">
            <div class="cartRemovedTimeSlot" data-bind="visible: removedTimeSlot(), attr: { title: availabilityText }"></div>
            <span class="cartName" data-bind="html: displayName"></span>
            <a href="#" class="cartRemove" data-bind="visible: isEnabled(), click: cartHelper.removeCartItem"></a>
            <span class="cartQuantity" data-bind="html: quantity"></span>
            <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice"></span>
        </div>
        <!-- ko if: $root.orderType() == 'delivery' && (menuItem.DelPrice == undefined && menuItem.DeliveryPrice == undefined) -->
        <div class="notAvailable" data-bind="html: textStrings.dciCollectOnly"></div>
        <!-- /ko -->
        <!-- ko if: $root.orderType() == 'collection' && (menuItem.ColPrice == undefined && menuItem.CollectionPrice == undefined) -->
        <div class="notAvailable" data-bind="html: textStrings.dciDeliverOnly"></div>
        <!-- /ko -->
        <!-- ko foreach: displayToppings -->
        <!-- ko template: { name: 'cartTopping-template' } -->
        <!-- /ko -->
        <!-- /ko -->
    </div>
</script>

<!-- Cart topping -->
<script type="text/html" id="cartTopping-template">
    <div class="cartRowItemTopping">
        <span class="cartIndent1" data-bind="html: cartName"></span>
        <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: cartPrice"></span>
    </div>
</script>

<!-- Cart deal -->
<script type="text/html" id="cartDeal-template">
    <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
        <a data-bind="click: cartHelper.editCartDeal" href="#">
            <div class="cartRow">
                <span class="cartName" data-bind="html: name"></span>
                <a href="#" class="cartRemove" data-bind="visible: isEnabled(), click: cartHelper.removeDealItem"></a>
                <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
            </div>
            <!-- ko foreach: cartDealLines -->
            <!-- ko template: { name: 'cartDealLine-template' } -->
            <!-- /ko -->
            <!-- /ko -->
            <!-- ko if: minimumOrderValueNotMet() -->
            <div class="cartRow cartError">
                <span data-bind="html: textStrings.cdMinSpend"></span>
                <span data-bind="html: minimumOrderValue"></span>
            </div>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'delivery' && !dealWrapper.deal.ForDelivery -->
            <div class="notAvailable">This deal cannot be delivered to door</div>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && !dealWrapper.deal.ForCollection -->
            <div class="notAvailable">This deal cannot be collected from store</div>
            <!-- /ko -->
        </a>
    </div>
</script>

<!-- Disabled cart deal -->
<script type="text/html" id="disabledCartDeal-template">
    <div data-bind="'attr': { 'class': isEnabled() ? 'cartItem' : 'cartItemDisabled' }">
        <div class="cartRow">
            <div class="cartRemovedTimeSlot" data-bind="visible: dealWrapper.removedTimeSlot(), attr: { title: dealWrapper.availabilityText }"></div>
            <span class="cartName" data-bind="html: name"></span>
            <a href="#" class="cartRemove" data-bind="visible: isEnabled(), click: cartHelper.removeDealItem"></a>
            <span data-bind="'attr': { 'class': isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()"></span>
        </div>
        <!-- ko foreach: cartDealLines -->
        <!-- ko template: { name: 'cartDealLine-template' } -->
        <!-- /ko -->
        <!-- /ko -->
        <!-- ko if: minimumOrderValueNotMet() -->
        <div class="cartRow cartError">
            <span data-bind="html: textStrings.cddMinSpend"></span>
            <span data-bind="html: minimumOrderValue"></span>
        </div>
        <!-- /ko -->
    </div>
</script>

<!-- Cart deal line -->
<script type="text/html" id="cartDealLine-template">
    <div class="cartRowDealLine">
        <span class="cartIndent1" data-bind="html: displayName"></span>
        <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: displayPrice()">-</span>
    </div>
    <!-- ko if: categoryPremium() != undefined -->
    <div class="cartRowDealLineTopping">
        <span class="cartIndent1" data-bind="html: categoryPremiumName" style="margin-left:10px;"></span>
        <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: categoryPremium"></span>
    </div>
    <!-- /ko -->
    <!-- ko if: itemPremium() != undefined -->
    <div class="cartRowDealLineTopping">
        <span class="cartIndent1" data-bind="html: itemPremiumName" style="margin-left:10px;"></span>
        <span data-bind="'attr': { 'class': $parent.isEnabled() ? 'cartPrice' : 'cartPriceDisabled' }, html: itemPremium"></span>
    </div>
    <!-- /ko -->
    <!-- ko foreach: cartItem().displayToppings -->
    <!-- ko template: { name: 'cartDealLineTopping-template' } -->
    <!-- /ko -->
    <!-- /ko -->
</script>

<!-- Cart deal line topping -->
<script type="text/html" id="cartDealLineTopping-template">
    <div class="cartRowDealLineTopping">
        <span class="cartIndent2" data-bind="html: cartName" style="margin-left:10px;"></span>
        <span data-bind="'attr': { 'class': $parents[1].isEnabled() ? 'cartPrice cartDealLinePrice' : 'cartPriceDisabled cartDealLinePrice' }, html: cartPrice"></span>
    </div>
</script><script type="text/html" id="cmsPageView">
    <div id="informationBox">
        <div id="informationInner" data-bind="html: $root.contentViewModel().information"></div>
    </div>
</script>    <!-- Deals section -->
    <script type="text/html" id="dealsSection-template">
        <div class="section" data-bind="'attr': { 'id': 'section' + Index }">
            <div class="sectionItems">
                <!-- ko foreach: deals -->
                    <!-- ko template: { name: 'deal-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- Deal -->
    <script type="text/html" id="deal-template">
        <div class="dealItem" data-bind="click: dealHelper.mobileAddToCart">
            <!-- Add to cart button -->
            <!-- ko if: isEnabled() && $root.isTakingOrders && isAvailableToday() && (($root.orderType() == 'delivery' && deal.ForDelivery) || ($root.orderType() == 'collection' && deal.ForCollection)) -->
            <div class="dealOptions">
                <!-- ko if: $root.isTakingOrders() -->
                <!-- ko ifnot: isNotAvailableForRestOfDay -->
                <div class="highlightedButton addItemButton">
                    <a href="#" data-bind="click: dealHelper.addToCart, text: textStrings.dAdd"></a>
                </div>
                <!-- /ko -->
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- Deal name -->
            <div class="dealName" data-bind="html: deal.DealName"></div>

            <!-- Deal description -->
            <p data-bind="html: deal.Description"></p>

            <!-- Not available messages -->

            <!-- ko if: availabilityText.length > 0 -->
            <div class="itemAvailabilityText" data-bind="html: availabilityText"></div>
            <!-- /ko -->

            <!-- ko if: minimumOrderValue.length > 0 -->
            <p class="notAvailable">
                <span data-bind="text: textStrings.dMinSpend"></span>
                <span data-bind="html: minimumOrderValue"></span>
            </p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'delivery' && !deal.ForDelivery -->
            <p class="notAvailable" data-bind="text: textStrings.dCollectOnly"></p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && !deal.ForCollection -->
            <p class="notAvailable" data-bind="text: textStrings.dDeliverOnly"></p>
            <!-- /ko -->
            <!-- ko ifnot: isAvailableToday -->
            <p class="notAvailable" data-bind="text: textStrings.dNotToday"></p>
            <!-- /ko -->
        </div>
    </script>

    <!-- Deals section -->
    <script type="text/html" id="dealsSection2-template">
        <div class="section" data-bind="'attr': { 'id': 'section' + Index }">
            <div class="sectionItems">
                <!-- ko foreach: deals -->
                    <!-- ko template: { name: 'deal-template' } -->
                    <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </script>

    <!-- Deal -->
    <script type="text/html" id="deal2-template">
        <div class="dealItem">
            <!-- Add to cart button -->
            <!-- ko if: isEnabled() && $root.isTakingOrders && isAvailableToday() && (($root.orderType() == 'delivery' && deal.ForDelivery) || ($root.orderType() == 'collection' && deal.ForCollection)) -->
            <div class="dealOptions">
                <!-- ko if: $root.isTakingOrders() -->
                <div class="highlightedButton addItemButton">
                    <a href="#" data-bind="click: dealHelper.addToCart, text: textStrings.dAdd"></a>
                </div>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- Deal name -->
            <p class="dealName" data-bind="html: deal.DealName"></p>

            <!-- Deal description -->
            <p data-bind="html: deal.Description"></p>

            <!-- Not available messages -->

            <!-- ko if: availabilityText.length > 0 -->
            <div class="itemAvailabilityText" data-bind="html: availabilityText"></div>
            <!-- /ko -->

            <!-- ko if: minimumOrderValue.length > 0 -->
            <p class="notAvailable">
                <span data-bind="text: textStrings.dMinSpend"></span>
                <span data-bind="html: minimumOrderValue"></span>
            </p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'delivery' && !deal.ForDelivery -->
            <p class="notAvailable" data-bind="text: textStrings.dCollectOnly"></p>
            <!-- /ko -->
            <!-- ko if: $root.orderType() == 'collection' && !deal.ForCollection -->
            <p class="notAvailable" data-bind="text: textStrings.dDeliverOnly"></p>
            <!-- /ko -->
            <!-- ko ifnot: isAvailableToday -->
            <p class="notAvailable" data-bind="text: textStrings.dNotToday"></p>
            <!-- /ko -->
        </div>
    </script>    <!-- ERROR VIEW -->
    <script type="text/html" id="errorView">
        <div id="errorContent" class="content">
            <div class="sitesBox">
                <!-- Error -->
                <h1 class="welcomeHeader" data-bind="html: textStrings.welcomeHeader"></h1>

                <h2 class="errorMessage" data-bind="html: $root.error.message()"></h2>
                <div class="errorOptions">
                    <div class="button" style="width:150px;" data-bind="visible: $root.error.showReturn">
                        <a href="#" data-bind="click: guiHelper.errorReturn">OK</a>
                    </div>
                </div>
            </div>
        </div>
    </script><!-- FEEDBACK PAGE -->
<script type="text/html" id="feedbackView">
    <div id="feedbackContent" class="content">
        <div id="feedbackBox">
            <div id="feedbackBoxInner">
                <p data-bind="text:textStrings.feedbackPrompt"></p>

                <!-- Name -->
                <div class="feedbackFormRow">
                    <div class="feedbackFormPrompt">
                        <label data-bind="text:textStrings.feedbackName"></label>
                    </div>
                    <div class="feedbackFormInput">
                        <input id="feedbackNameInput" maxlength="96" type="text" data-bind="value: viewModel.contentViewModel().name" />
                    </div>
                    <div class="feedbackOptional" data-bind="text:textStrings.feedbackOptional"></div>
                </div>

                <!-- Email -->
                <div class="feedbackFormRow">
                    <div class="feedbackFormPrompt">
                        <label data-bind="text:textStrings.feedbackEmail"></label>
                    </div>
                    <div class="feedbackFormInput">
                        <input id="feedbackEmailInput" maxlength="255" type="text" data-bind="value: viewModel.contentViewModel().email" />
                    </div>
                    <div class="feedbackOptional" data-bind="text:textStrings.feedbackOptional"></div>
                </div>

                <!-- Feedback category -->
                <div class="feedbackFormRow">
                    <div class="feedbackFormPrompt">
                        <label data-bind="text:textStrings.feedbackCategory"></label>
                    </div>
                    <div class="feedbackFormInput">
                        <select id="feedbackCategorySelect" data-bind="value: viewModel.contentViewModel().feedbackCategory, options: viewModel.contentViewModel().feedbackCategories, optionsText: 'displayText'"></select>
                    </div>
                </div>

                <!-- Feedback -->
                <div class="feedbackFormRow">
                    <div class="feedbackFormPrompt">
                        <label data-bind="text:textStrings.feedbackFeedback"></label>
                    </div>
                    <div class="feedbackFormInput">
                        <textarea id="feedbackFeedbackInput" maxlength="255" type="text" data-bind="value: viewModel.contentViewModel().feedback"></textarea>
                    </div>
                </div>

                <!-- ko if: $root.contentViewModel().hasError -->
                <div id="feedbackError" >
                    <p data-bind="text: $root.contentViewModel().errorMessage"></p>
                </div>
                <!-- /ko -->

                <!-- Buttons -->
                <div class="button" id="submitFeedbackButtonWrapper">
                    <a id="submitFeedbackButton" data-bind="html: textStrings.feedbackSubmitButton, click: $root.contentViewModel().submitFeedback, attr: { title: textStrings.feedbackSubmitButton } "></a>
                </div>
            </div>
        </div>
    </div>

</script>
    <!-- HOME PAGE -->
<script type="text/html" id="homeView">
    <style>
        /* moved */
        /*#pickStoreOptions h2 {
            margin-top: 0;
            font-weight: normal;
        }

        #pickStoreOptions * {
            -moz-box-sizing: border-box;
            -webkit-box-sizing: border-box;
            box-sizing: border-box;
        }

        #pickStoreOptions .welcome, .postcodeLookup {
            padding: 0.5em;
            margin: 0.5em 0;
        }

        #pickStoreOptions .postcodeLookup {
            background-color: #f0eeef;
            border: 2px solid #cccccc;
        }

        #chooseStoreButton {
            padding-right : 10px;
        }*/
        /* to here */
        /* */
        /*@media only screen and (max-width: 600px) {
            #pickStoreOptions .welcome {
                float: none;
                width: 100%;
                display: none;
            }
            #pickStoreOptions .postcodeLookup {
                float: none;
                width: 100%;
            }
        }*/
        /*@media only screen and (min-width: 601px) {
            #pickStoreOptions .welcome {
                float: left;
                width: 49%;
            }
            #pickStoreOptions .postcodeLookup {
                float: right;
                width: 49%;
                max-width: 430px;
                margin-right: 10px;
            }
        }*/

        /*.postcodeLookup input, .postcodeLookup select {
            width: 160px;
            min-width: 160px;
        }

        .postcodeLookup input, .postcodeLookup select, .postcodeLookup button, .message {
            font-size: 14px;
            line-height: 16px;
            padding: 0.35em;
        }

        .postcodeLookup button {
            float: none;
        }

        .message {
            margin: 0.5em 0;
            border: 2px solid;
        }
        .good-message {
            border-color: #44c110
        }
        .bad-message {
            border-color: #bf0202;
        }*/

    </style>
    <div id="homeContent" class="content">
        <div class="homeBox">

            <!-- ko if: homePageHelper.NeedToChooseStore() -->
            <div id="pickStoreOptions">
                <div class="welcome">
                    <h2 data-bind="html: textStrings.homeStoreDetailsTitle"></h2>
                    <div data-bind="html: textStrings.homeStoreDetails"></div>
                </div>

                <div class="postcodeLookup">
                    <h2>Order Online</h2>
                    <p>Enter your postcode to find your local store</p>
                    <div class="postcodeSearch">
                        <!-- input row -->
                        <input type="search" name="PostCodeSearch" value="" data-bind="value: homePageHelper.PostCodeSearch, valueUpdate: 'input'" />
                        <!-- go button -->
                        <button type="button" class="button" data-bind="click:homePageActionHelper.SelectStoreFromPostCode, enable: homePageHelper.FoundAStore()">Go</button>
                    </div>
                    <!-- ko if: homePageHelper.FoundAStore() -->
                    <div class="message good-message">
                        Delivery is available for your postcode. Press go to continue.
                    </div>
                    <!-- /ko -->
                    <!-- ko if: homePageHelper.NoStoresDeliver() -->
                    <div class="message bad-message">
                        Delivery is not available to your postcode. You can still collect from a store below.
                    </div>
                    <!-- /ko -->
                    <div class="lookupStore" data-bind="visible: !homePageHelper.FoundAStore()">
                        <!-- -->
                        <p>Or choose a store from the list:</p>
                        <select class="storeDropDown" data-bind="
                            options: viewModel.sites,
                            optionsText: 'name',
                            optionCaption:'Choose a store',
                            value: homePageActionHelper.SelectedDropDownItem"></select>

                        <button type="button" class="button" data-bind="click:homePageActionHelper.SelectStoreFromDropdown">Go</button>
                        <div style="clear:both"></div>
                    </div> 
                </div>

            </div>
            <!-- /ko -->
            <div style="clear:both"></div>
            <div class="homeBoxInner">

                <h2 id="homeFullOrderDeal" data-bind="html: menuHelper.fullOrderDiscountDeal == undefined ? '' : menuHelper.fullOrderDiscountDeal.Description"></h2>


                <!-- ko if: $root.contentViewModel().homePageCarousels != undefined &&
                            $root.contentViewModel().homePageCarousels()[0].items().length > 0 -->
                <div id="homeCarousel1Container">
                    <!-- Slides Container -->
                    <div u="slides" id="homeCarousel1">
                        <!-- ko foreach: $root.contentViewModel().homePageCarousels()[0].items -->
                        <!-- ko template: { name: ($data).templateName } -->
                        <!-- /ko -->
                        <!-- /ko -->
                    </div>
                    <!-- Arrow Left -->
                    <span u="arrowleft" class="jssora01l" style="width: 55px; height: 55px; top: 122px; left: 8px;">
                    </span>
                    <!-- Arrow Right -->
                    <span u="arrowright" class="jssora01r" style="width: 55px; height: 55px; top: 122px; right: 8px;">
                    </span>
                </div>
                <!-- /ko -->
                <!-- ko if: homePageHelper.SitePicked() -->
                <div id="homeOptionsWrapper">
                    <div class="button" id="homeMenuButton">
                        <a data-bind="html: textStrings.homeMenuButton, click: $root.contentViewModel().showMenu, attr: { title: textStrings.homeMenuButton, href: viewModel.selectedSite() === undefined ? '#' : '/' + viewModel.selectedSite().name + '/Menu/' + viewModel.sections()[0].display.Name + '/' } "></a>
                    </div>

                    <div id="homeLeftOptions">
                        <h1 id="homeStoreDetailsTitle" data-bind="html: textStrings.homeStoreDetailsTitle"></h1>
                        <div id="homeStoreDetails" data-bind="html: textStrings.homeStoreDetails"></div>
                    </div>
                    <div id="homeRightOptions">
                        <h1 id="homeMenuTitle" data-bind="html: textStrings.homeMenuTitle"></h1>
                        <div id="homeMenu" data-bind="html: textStrings.homeMenu"></div>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko if: $root.contentViewModel().homePageCarousels != undefined &&
                            $root.contentViewModel().homePageCarousels()[1].items().length > 0 -->
                <div id="homeCarousel2Container">
                    <div u="slides" id="homeCarousel2">
                        <!-- ko foreach: $root.contentViewModel().homePageCarousels()[1].items -->
                        <!-- ko template: { name: ($data).templateName } -->
                        <!-- /ko -->
                        <!-- /ko -->
                    </div>
                    <!-- Arrow Left -->
                    <span u="arrowleft" class="jssora01l" style="width: 55px; height: 55px; top: 73px; left: 8px;">
                    </span>
                    <!-- Arrow Right -->
                    <span u="arrowright" class="jssora01r" style="width: 55px; height: 55px; top: 73px; right: 8px;">
                    </span>
                </div>
                <!-- /ko -->

            </div>
        </div>
    </div>
</script>

<script type="text/html" id="homeCarouselMenuItemCard">
    <div class="homeCarouselMenuItemCard" data-bind="'attr': { 'id': ($data).id, 'class': ($data).className }">
        <div class="homeCarouselMenuItemCardImageWrapper">
            <!-- ko if: ($data).src != undefined && ($data).src.length > 0 -->
            <img data-bind="'attr': { 'src': ($data).src }" />
            <!-- /ko -->
            <div class="homeCarouselMenuItemCardImagePrice" data-bind="'html': ($data).price"></div>
        </div>
        <h2 data-bind="'html': ($data).name"></h2>
        <p data-bind="'html': ($data).description"></p>
    </div>
</script>

<script type="text/html" id="homeCarouselDealCard">
    <div class="homeCarouselDealCard" data-bind="'attr': { 'id': ($data).id, 'class': ($data).className }">
        <div class="homeCarouselDealCardInner">
            <div class="homeCarouselDealCardImageWrapper">
                <!-- ko if: ($data).src != undefined && ($data).src.length > 0 -->
                <img data-bind="'attr': { 'src': ($data).src}" u="image" />
                <!-- /ko -->
            </div>
            <!-- ko if: ($data).isoverlayvisible -->
            <div class="homeCarouselDealCardDetailsWrapper">
                <h2 data-bind="'html': ($data).name"></h2>
                <p data-bind="'html': ($data).description"></p>
                <div class="homeCarouselDealCardPrice" data-bind="'html': ($data).price"></div>
            </div>
            <!-- /ko -->
        </div>
    </div>
</script>

<script type="text/html" id="homeCarouselImageCard">
    <div class="homeCarouselImageCard" data-bind="'attr': { 'id': ($data).id, 'class': ($data).className }">
        <!-- ko if: ($data).src != undefined && ($data).src.length > 0 -->
        <img data-bind="'attr': { 'src': ($data).src }" />
        <!-- /ko -->
    </div>
</script>

<script type="text/html" id="homeCarouselHtmlCard">
    <div class="homeCarouselHtmlCard" data-bind="'html': ($data).description, 'attr': { 'id': ($data).id, 'class': ($data).className }"></div>
</script>
<script type="text/html" id="imageView">   
    <div id="imageInner" data-bind="click: imageHelper.hidePopup">
        <div class="closeButton" data-bind="click: imageHelper.hidePopup"></div>
        <!-- ko if: menuHelper.menuDataThumbnails() != undefined -->
        <img src="#" data-bind="attr: { src: menuHelper.menuDataThumbnails().Server.Endpoint + imageHelper.image().Src, height: imageHelper.image().Height + 'px', width: imageHelper.image().Width + 'px' }"  />
        <!-- /ko -->
        <p data-bind="text: textStrings.ivClose"></p>
    </div>
</script><!-- FORGOT PASSWORD VIEW -->
    <script type="text/html" id="informationView">
        <div id="informationBox">
            <div id="informationInner" data-bind="html: $root.contentViewModel().information"></div>
            <div class="button" id="informationBackButton">
                <a data-bind="click: $root.contentViewModel().back, html: textStrings.infBack" href="#"></a>
            </div>
        </div>
    </script><script type="text/html" id="loginView">
    <div id="loginContent" class="content">
        <div id="loginRegisterInner">
            <!-- Header -->

            <div id="signInWrapper" data-bind="css: { lrpRegisterSectionHidden: $root.contentViewModel().isLoginMode === undefined || !$root.contentViewModel().isLoginMode() }">

                <!-- Sign in -->
                <h1 data-bind="text: textStrings.lrpLogin"></h1>

                <div id="signIn">

                    <!-- ko if: settings.faceBookLoginEnabled -->
                    <div id="loginUsingFacebook">

                        <!-- Login using facebook -->
                        <div id="facebookLoginButtonOuter">
                            <div class="button" id="facebookLoginButton">
                                <a href="#" data-bind="click: $root.contentViewModel().facebookLogin, title: textStrings.lrpSignInFacebookButton, text: textStrings.lrpSignInFacebookButton"></a>
                            </div>
                        </div>

                    </div>
                    <!-- /ko -->
                    <!-- Divider -->
                    <!-- ko if: settings.faceBookLoginEnabled && settings.androLoginEnabled -->
                    <div>
                        <div id="facebookLoginDivider" data-bind="html: textStrings.lrpDividerOr"></div>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: settings.androLoginEnabled -->
                    <div id="loginSection">
                        <!-- Login -->
                        <form action="#" method="post">
                            <div id="loginSectionInner">
                                <div class="loginFormInput">
                                    <input name="username" id="loginFormInput" type="email" maxlength="50" autofocus data-bind="value: accountHelper.loginDetails.emailAddress, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().loginRegisterKeyPress }, attr: { placeholder: textStrings.lrpAndroEmail }" />
                                </div>

                                <div class="loginFormInput">
                                    <input name="password" type="password" maxlength="50" data-bind="value: accountHelper.loginDetails.password, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().loginRegisterKeyPress }, attr: { placeholder: textStrings.lrpAndroPassword }" />
                                </div>
                                <a data-bind="click: $root.headerViewModel().mobileForgotPassword, html: textStrings.hForgetPasswordButton" href="#"></a>
                            </div>

                            <div id="loginButtonContainer">
                                <div class="button" id="loginButton">
                                    <a href="#" data-bind="click: $root.contentViewModel().login, text: textStrings.lrpAndroLoginButton, attr: {title:textStrings.lrpAndroLoginButton}"></a>
                                </div>

                                <div id="loginError" data-bind="text: accountHelper.loginDetails.errorMessage"></div>
                            </div>

                            <!-- ko if: $root.contentViewModel().isLoginMode === undefined || $root.contentViewModel().isLoginMode() -->
                            <div class="button toggleRegisterButton">
                                <a href="#" data-bind="click: $root.contentViewModel().toggleToRegister, text: textStrings.lrpRegister, attr: {title:textStrings.lrpRegister}"></a>
                            </div>
                            <!-- /ko -->

                        </form>
                    </div>
                    <!-- /ko -->
                </div>

            </div>

            <div id="registerWrapper" data-bind="css: { lrpRegisterSectionHidden: $root.contentViewModel().isLoginMode === undefined || $root.contentViewModel().isLoginMode() }">

                <h1 data-bind="text: textStrings.lrpRegister"></h1>

                <div data-bind="template: { name: 'accountDetailTemplate' }"></div>

                <div id="loginButtonContainer">
                    <div class="button" id="registerButton">
                        <a href="#" data-bind="click: $root.contentViewModel().register, text: textStrings.lrpSignUpText, attr: {title:textStrings.lrpSignUpText}"></a>
                    </div>
                </div>

                <!-- ko ifnot: accountHelper.registerError() === undefined -->
                <div id="loginError" data-bind="text: accountHelper.registerError"></div>
                <!-- /ko -->

                <!-- ko if: $root.contentViewModel().isLoginMode === undefined || !$root.contentViewModel().isLoginMode() -->
                <div class="button toggleRegisterButton">
                    <a href="#" data-bind="click: $root.contentViewModel().toggleToLogin, text: textStrings.lrpAndroLoginButton, attr: {title:textStrings.lrpAndroLoginButton}"></a>
                </div>
                <!-- /ko -->

            </div>

        </div>
    </div>
</script>    <script type="text/html" id="menuView">

        <div class="menuPage">

            <!-- Cart -->
            <div id="rightColumnWrapper" data-bind="css: { 'fixedCartSidebar': guiHelper.isSidebarFixed, 'normalCartSidebar': !guiHelper.isSidebarFixed() }">
                <div id="rightColumn">
                    <div data-bind="template: { name: 'cartView' }"></div>
                </div>
            </div>

            <!-- The menu -->
            <!-- Section headers -->
            <div id="sectionHeaders" data-bind="css: { 'fixedSectionHeaders': guiHelper.isSidebarFixed }">

                <div id="sectionHeadersInner">
                    <div id="sectionHeadersContainer">
                        <div id="sectionHeadersTop">
                            <h1 data-bind="text: textStrings.mMenuSections"></h1>
                        </div>
                        <!-- ko if: homePageHelper.SitePicked() -->

                        <!-- Item section headers -->
                        <div id="sectionHeadersContent">
                            <!-- ko foreach: sections -->
                            <div class="sectionHeader" data-bind="attr: { 'class': display.Name == $root.visibleSection() ? 'selectedSectionHeader' : 'sectionHeader' }">
                                <a data-bind="text: display.Name, click: $root.changeSection, attr: { href: '/' + $root.selectedSite().name + '/Menu/' + display.Name + '/' }"></a>
                            </div>
                            <!-- /ko -->
                        </div>

                        <!-- /ko -->
                    </div>
                </div>
            </div>

            <!-- Sections -->
            <div id="sectionsWrapper">
                <div class="sectionTitle">
                    <h1 data-bind="text: $root.selectedSection() != undefined ? $root.selectedSection().display.Name : ''"></h1>
                </div>
                <div id="sections">

                    <!-- Only visible on mobile devices (css) -->
                    <!-- ko if: guiHelper.isInnerMenuVisible -->
                    <div id="mobileMenuSections">
                        <span id="mobileMenuSectionsPrompt" data-bind="text: textStrings.mMenuSections"></span>
                        <select id="mobileMenuSectionsSelect" data-bind="options: sections, value: $root.selectedSection, optionsText: function (item) { return item.display.Name; }, event: { change: $root.changeSection }"></select>
                        
                        <!--<ul data-bind="foreach: sections">
                            <li data-bind="text: display.Name, event: { click: $root.changeSection }"></li>
                        </ul>-->
                    
                    </div>
                    <!-- /ko -->

                    <!-- Sections -->
                    <div id="sectionsContainer"> <!-- data-bind="style: { height: $root.maxSectionHeight }"> -->
                        <!-- ko if: settings.useMenuKnockoutBinding -->
                        <!-- ko foreach: sections -->
                            <!-- ko template: { name: menuHelper.getTemplateName } -->
                            <!-- /ko -->
                        <!-- /ko -->
                        <!-- /ko -->
                    </div>

                </div>
            </div>

        </div>

    </script>    <!-- Menu section -->
    <script type="text/html" id="menuSection-template">
        <div class="section" data-bind="'attr': { 'id': 'section' + Index }">            
            <div class="sectionItems">
                <!-- ko foreach: items -->

                <div data-bind="template: templateName"></div>
                
                <!-- /ko -->
            </div>
        </div>
    </script>

    <script type="text/html" id="menuSection2-template">
        <div class="section" id='{sectionId}'>     
            <div class="sectionItems">{sectionItems}</div>
        </div>
    </script>

    <script type="text/html" id="menuSectionItem-template">
        <div class="itemRow">
            <div class="itemImage" style="height:{thumbnailHeight}px; width:{thumbnailWidth}px;">
                {thumbnail}
            </div>
            <div class="{itemClass}">
                <div class="itemName">{itemName}</div>
                <div class="itemDescription" style="display:{isNotMobileMode}">{itemDescription}</div>
                <div class="priceCategoryContainer">
                    {categoryQuantity}
                    <div class="priceAddContainer">
                        <div class="itemPrice"><span>{price}</span></div>
                        <div class="highlightedButton addItemButton" style="display:{isTakingOrders}">
                            <a href="#" data-bind="click: $root.addItemToCart">{addLabel}</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="itemDescription" style="display:{isMobileMode}">{itemDescription}</div>
        </div>
    </script>

    <script type="text/html" id="menuSectionItemCategoryQuantity-template">
        <div class="categoryQuantityContainer">

            <div class="quantity">
                <select>
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                    <option>6</option>
                    <option>7</option>
                    <option>8</option>
                    <option>9</option>
                </select>
                <label>{quantityLabel}</label>
            </div>
            <div class="category2">{category2s}</div>
            <div class="category1">{category1s}</div>
                                    
        </div>
    </script>

    <script type="text/html" id="menuItem-template">
        
        <div class="itemRow" data-bind="click: $root.mobileAddItemToCart" itemscope itemtype="http://schema.org/Product">
            <div data-bind="html: name" itemprop="name" class="itemName"></div>
            <div class="itemImage" itemprop="image" data-bind="'attr': { style: 'height: ' + thumbnailHeight + 'px, width: ' + thumbnailWidth + 'px' }">
                <!-- ko if: thumbnail != undefined -->
                <img src="#" data-bind="click: imageHelper.showPopup, 'attr': { src: menuHelper.menuDataThumbnails().Server.Endpoint + thumbnail.Src, height: thumbnailHeight + 'px', width: thumbnailWidth + 'px' }" />
                <!-- /ko -->
                <!-- ko if: overlayImage -->
                <div class="itemImageOverlay" data-bind="click: imageHelper.showPopup"></div>
                <!-- /ko -->
            </div>

            <div data-bind="'attr': { 'class': thumbnail == undefined ? 'itemDetails' : 'itemDetailsWithImage' }">
                <div class="priceCategoryContainer">
                    <div class="categoryQuantityContainer" data-bind="visible: isEnabled && $root.isTakingOrders">
                        <!-- ko ifnot: isNotAvailableForRestOfDay -->
                        <div class="quantity">
                            <select data-bind="value: quantity">
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                                <option>6</option>
                                <option>7</option>
                                <option>8</option>
                                <option>9</option>
                            </select>
                            <label data-bind="text: textStrings.miQuantity"></label>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: category2s().length > 1 -->
                        <div class="category2">
                            <select data-bind="enable: isEnabled, options: category2s, optionsText: 'Name', value: selectedCategory2, event: { change: $root.selectedItemChanged }"></select>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: category1s().length > 1 -->
                        <div class="category1">
                            <select data-bind="enable: isEnabled, options: category1s, optionsText: 'Name', value: selectedCategory1, event: { change: $root.category1Changed }"></select>
                        </div>
                        <!-- /ko -->
                    </div>


                    <div class="priceAddContainer">
                        <div class="itemPrice"><span data-bind="html: price"></span></div>
                        <!-- ko if: $root.isTakingOrders() && !guiHelper.isMobileMode() -->
                        <!-- ko if: isEnabled -->
                        <!-- ko ifnot: isNotAvailableForRestOfDay -->
                        <!-- ko if: menuItem.DefTopIds.length > 0 || menuItem.OptTopIds.length > 0 -->
                        <div class="highlightedButton addItemButton">
                            <a href="#" data-bind="click: $root.addCustomItemToCart, text: textStrings.miCustomize"></a>
                        </div>
                        <!-- /ko -->
                        <div class="highlightedButton addItemButton">
                            <a href="#" data-bind="click: $root.addItemToCart, text: textStrings.miAdd"></a>
                        </div>
                        <!-- /ko -->
                        <!-- /ko -->
                        <!-- /ko -->
                    </div>
                </div>
            </div>

            <div data-bind="html: description" itemprop="description" class="itemDescription"></div>
            <!-- ko if: availabilityText.length > 0 -->
            <div class="itemAvailabilityText" data-bind="html: availabilityText"></div>
            <!-- /ko -->
            <!-- ko if: isTemporarilyDisabled -->
            <div class="itemAvailabilityText" data-bind="html: textStrings.miTemporarilyUnavailable"></div>
            <!-- /ko -->
            <!-- ko if: !isTemporarilyDisabled && !isEnabled() -->
            <div class="itemAvailabilityText" data-bind="html: notAvailableText"></div>
            <!-- /ko -->
        </div>

    </script><script type="text/html" id="mobileMenuView">

    <div id="mmMenuWrapper">
        <!-- ko if: $root.selectedSite() !== undefined -->
            <!-- ko if: settings.isHomePageEnabled -->
            <div class="button mmButton" id="hmHomeButton">
                <a data-bind="click: $root.contentViewModel().showHome, text: textStrings.mmHome, attr: { href: '/' + $root.selectedSite().name + '/Home/' }"></a>
            </div>
            <!-- /ko -->
            <!-- ko if: viewModel.selectedSite() != undefined -->
            <div class="button mmButton" id="hmMenuButton">
                <a data-bind="click: $root.contentViewModel().showMenu, text: textStrings.mmMenu, attr: { href: '/' + $root.selectedSite().name + '/Menu/' + viewModel.sections()[0].display.Name }"></a>
            </div>
            <!-- /ko -->
            <!-- ko if: settings.isStoreDetailsPageEnabled -->
            <div class="button mmButton" id="hmStoreDetailsButton">
                <a data-bind="click: $root.contentViewModel().showStoreDetails, text: textStrings.pmmHome, attr: { href: '/' + $root.selectedSite().name + '/StoreDetails/' }"></a>
            </div>
            <!-- /ko -->
        <!-- /ko -->

        <!-- ko if: accountHelper.isLoggedIn() -->
            <div class="button mmButton" id="hmMyProfileButton">
                <a data-bind="click: $root.contentViewModel().myProfile, html: textStrings.hMyProfileButton" href="#"></a>
            </div>
            <div class="button mmButton" id="hmMyOrdersButton">
                <a data-bind="click: $root.contentViewModel().myOrders, html: textStrings.hMyOrdersButton" href="#"></a>
            </div>
            <div class="button mmButton" id="hmLogoutButton">
                <a data-bind="click: $root.contentViewModel().logout, html: textStrings.hLogoutButton" href="#"></a>
            </div>
        <!-- /ko -->

        <div class="button mmButton" id="hmFeedbackButton">
            <a data-bind="click: $root.contentViewModel().showFeedback, text: textStrings.hFeedbackButton" href="#"></a>
        </div>

        <!-- ko ifnot: accountHelper.isLoggedIn() -->
            <div class="button mmButton" id='hmMyProfileButton'>
                <a data-bind="click: $root.contentViewModel().mobileLogin, html: textStrings.hmLoginRegisterButton" href="#"></a>
            </div>
        <!-- /ko -->

        <div class="button mmButton" id='hmCancelButton'>
            <a data-bind="click: $root.contentViewModel().mobileCancel, html: textStrings.mmBack" href="#"></a>
        </div>

    </div>
</script>    <script type="text/html" id="myOrdersView">
        <div id="myOrdersContent" class="content">
            <div id="mpMenu">
                <a id="moMyProfile" data-bind="html: textStrings.mpMyProfile, click: $root.contentViewModel().myProfile"></a>
                <a id="moMyOrders" data-bind="html: textStrings.mpMyOrders, click: $root.contentViewModel().myOrders"></a>
                <a id="moLogout" data-bind="html: textStrings.mpLogout, click: $root.contentViewModel().logout"></a>
                <a id="moBack" data-bind="html: textStrings.mpBackToMenu, click: $root.contentViewModel().backToMenu"></a>
            </div>

            <div id="moContent">
                <!-- ko if: myOrdersHelper.status() == 'get' -->
                <div id="moPleaseWaitOrders">
                    <h1 data-bind="html: textStrings.moPleaseWaitOrders"></h1>
                    <div id="pleaseWaitLogoWrapper">
                        <div id="pleaseWaitLogo"></div>
                    </div>
                </div>
                <!-- /ko -->
                <!-- ko if: myOrdersHelper.status() == 'error'-->
                <h1 data-bind="html: textStrings.moError"></h1>
                <!-- /ko -->
                <!-- ko if: myOrdersHelper.status() == 'got' && myOrdersHelper.orders().length == 0 -->
                <h1 id="moNoOrders" data-bind="html: textStrings.moNoOrders"></h1>
                <!-- /ko -->
                <!-- ko if: myOrdersHelper.status() == 'got' && myOrdersHelper.orders().length > 0 -->
                    <!-- ko foreach: myOrdersHelper.orders -->
                        <div class="moOrder">
                            <div class="moOrderHeader" data-bind="click: $root.contentViewModel().displayOrderDetails">
                                <div class="moPlacedDate" data-bind="html: placedDate"></div>
                                <div class="moPlacedTime" data-bind="html: placedTime"></div>
                                <div class="moRefresh" data-bind="click: $root.contentViewModel().refresh"></div>
                                <div class="moStatus" data-bind="html: status"></div>                                
                                <!-- ko if: status == 0 || status == 1 || status == 2 || status == 3 || status == 4 -->
                                <!--<div class="moStatus" data-bind="html: status"></div>-->
                                <!-- /ko -->
                                <!-- ko if: isSelected() -->
                                <div class="moQuantityTitle" data-bind="html: textStrings.moQuantity"></div>
                                <div class="moPriceTitle" data-bind="html: textStrings.moPrice"></div>
                                <!-- /ko -->
                            </div>
                            <!-- ko if: isSelected() &&  myOrdersHelper.status() == 'got' -->
                            <div class="moOrderLines">
                            <!-- ko foreach: orderLines -->
                                <div>
                                    <div class="moName" data-bind="html: name"></div>
                                    <div class="moQuantity" data-bind="html: quantity"></div>
                                    <div class="moPrice" data-bind="html: helper.formatPrice(price)"></div>
                                </div>
                                <!-- ko foreach: modifiers -->
                                <div>
                                    <div class="moModName" data-bind="html: description"></div>
                                    <div class="moModPrice" data-bind="html: helper.formatPrice(price)"></div>
                                </div>
                                <!-- /ko -->
                            <!-- /ko -->
                            <!-- ko foreach: deals -->
                                <div>
                                    <div class="moName" data-bind="html: name"></div>
                                    <div class="moQuantity"></div>
                                    <div class="moPrice" data-bind="html: helper.formatPrice(price)"></div>
                                </div>
                                <!-- ko foreach: dealLines -->
                                    <div>
                                        <div class="moModName" data-bind="html: name"></div>
                                        <div class="moModPrice" data-bind="html: helper.formatPrice(price)"></div>
                                    </div>
                                    <!-- ko foreach: modifiers -->
                                    <div>
                                        <div class="moModName" data-bind="html: description"></div>
                                        <div class="moModPrice" data-bind="html: helper.formatPrice(price)"></div>
                                    </div>
                                    <!-- /ko -->
                                <!-- /ko -->
                            <!-- /ko -->
                            </div>
                            <div class="moOrderTotal">
                                <div class="moTotal" data-bind="html: helper.formatPrice(total())"></div>
                                <div class="moTotalTitle" data-bind="html: textStrings.moOrderTotal"></div>
                            </div>
                            <!--<div class="moRepeatOrder button">
                                <a id="moRepeatOrderButton" data-bind="html: textStrings.moRepeatOrder, click: $root.contentViewModel().repeatOrder"></a>
                            </div>-->
                            <!-- /ko -->
                            <!-- ko if: isSelected() &&  myOrdersHelper.status() == 'get' -->
                            <h1 data-bind="html: textStrings.moPleaseWaitOrder"></h1>
                            <div class="moPleaseWait">
                                <img src="Content/Images/loader.gif" />
                            </div>
                            <!-- /ko -->
                        </div>
                    <!-- /ko -->
                <!-- /ko -->
            </div>
        </div>
    </script>
<script type="text/html" id="myProfileView">
    <div id="myProfileContent" class="content">
        <div id="mpMenu">
            <a id="mpMyProfile" data-bind="html: textStrings.mpMyProfile, click: $root.contentViewModel().myProfile"></a>
            <a id="mpMyOrders" data-bind="html: textStrings.mpMyOrders, click: $root.contentViewModel().myOrders"></a>
            <a id="mpLogout" data-bind="html: textStrings.mpLogout, click: $root.contentViewModel().logout"></a>
            <a id="mpBack" data-bind="html: textStrings.mpBackToMenu, click: $root.contentViewModel().backToMenu"></a>
        </div>

        <div id="mpContent">
            <h1 data-bind="text: textStrings.mpMyProfile"></h1>

            <!-- Account details -->
            <div id="mpRegisterContainer">
                <h2 id="lrCreateAnAccount" data-bind="text: textStrings.mpWhoAreYou"></h2>
                
                <div data-bind="template: { name: 'accountDetailTemplate' }"></div>

                <div id="registerErrorMessage" data-bind="text: customerHelper.bindableCustomer().errorMessage"></div>

            </div>

            <!-- Address -->
            <div id="mpRegisterAddressContainer">
                <h2 id="lrCreateAnAccountAddress" data-bind="text: textStrings.lrCreateAccountAddress"></h2>

                <div data-bind="template: { name: $root.contentViewModel().addressType == undefined ? '' : $root.contentViewModel().addressType() }"></div>

                <div id="mpRegisterButtonContainer">
                    <div class="button" id="mpRegisterButton">
                        <a href="#" data-bind="title: textStrings.mpSaveChangesButton, text: textStrings.mpSaveChangesButton, click: $root.contentViewModel().saveChanges"></a>
                    </div>
                </div>

            </div>

        </div>
    </div>
</script>
<!-- PASSWORD RESET VIEW -->
    <script type="text/html" id="passwordResetView">
        <div id="passwordResetContent" class="content">
            <div id="forgotPasswordBox">
                
                <h1 data-bind="text: textStrings.prPasswordRetrieval"></h1>

                <div class="prFormPrompt">
                    <label for="prPassword" data-bind="text: textStrings.prPassword"></label>
                </div>
                <div class="prFormInput">
                    <input autofocus id="prPassword" type="password" data-bind="value: $root.contentViewModel().password, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().keyPress }" />
                </div>

                <div class="prFormPrompt">
                    <label for="prRepeatPassword" data-bind="text: textStrings.prRepeatPassword"></label>
                </div>
                <div class="prFormInput">
                    <input id="prRepeatPassword" type="password" data-bind="value: $root.contentViewModel().repeatPassword, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().keyPress }" />
                </div>

                <div id="forgotPasswordMessage" data-bind="text: $root.contentViewModel().message"></div>

                <div id="prButtons">
                    <div class="button" id="forgotPasswordButton">
                        <a data-bind="click: $root.contentViewModel().resetPassword, html: textStrings.prRetrievalPassword" href="#"></a>
                    </div>

                    <!--<div class="button"  id="forgotPasswordCancelButton">
                        <a data-bind="click: $root.contentViewModel().resetPasswordCancel, html: textStrings.prCancel" href="#"></a>
                    </div>-->
                </div>
                
            </div>
        </div>
    </script><!-- PASSWORD RESET REQUEST VIEW -->
    <script type="text/html" id="passwordResetRequestView">
        <div id="passwordResetRequestContent" class="content">
            <div id="forgotPasswordBox">
                
                <h1 data-bind="text: textStrings.prPasswordRetrieval"></h1>

                <p data-bind="text: textStrings.prPasswordRetrievalInstructions"></p>
                <div id="forgotPasswordEmailPrompt">
                    <label for="forgotPasswordEmail" data-bind="text: textStrings.prEmail"></label>
                </div>
                        
                <div id="forgotPasswordEmail">
                    <input autofocus type="text" data-bind="value: $root.contentViewModel().emailAddress, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().keyPress }" />
                </div>

                <div class="button" id="forgotPasswordButton">
                    <a data-bind="click: $root.contentViewModel().resetPassword, html: textStrings.prRetrievalPassword" href="#"></a>
                </div>

                <div class="button" id="forgotPasswordCancelButton">
                    <a data-bind="click: $root.contentViewModel().resetPasswordCancel, html: textStrings.prCancel" href="#"></a>
                </div>

                <div id="forgotPasswordMessage" data-bind="text: $root.contentViewModel().message"></div>
            </div>
        </div>
    </script>    <!-- PLEASE WAIT VIEW -->
    <script type="text/html" id="pleaseWaitView">
        <div id="pleaseWaitContent" class="content">
            <div id="pleaseWaitBox">
                <!-- Please wait -->
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>
                <h2 class="waitPrompt" data-bind="text: textStrings.pwOneMomentPlease"></h2>
                <div id="pleaseWaitLogoWrapper">
                    <div id="pleaseWaitLogo"></div>
                </div>
                <p style="text-align:center;">
                    <span data-bind="text: $root.pleaseWaitMessage()"></span>
                    <span data-bind="text: $root.pleaseWaitProgress()"></span>
                </p>
            </div>
        </div>
    </script><script type="text/html" id=popupView">

    <!-- ko if: popupHelper.viewModelObject() != undefined && popupHelper.viewName() != undefined -->
    <!-- ko with: popupHelper.viewModelObject -->
    <div class="popupBoxHeaderContainer">
        <!-- ko template popupHelper.viewName -->
        <!-- /ko -->
    </div>
    <!-- /ko -->
    <!-- /ko -->

</script>    <script type="text/html" id="postcodeCheckView">
        <div id="postcodeCheckInner">
            <!-- Header -->
            <h1>Enter your postcode below to check if you are in our delivery area</h1>
            
            <div id="postcodeCheckTop">
                <div id="postcodeCheckInput">
                    <input type="text" id="postcodeCheckTextbox" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.postcode, event: { 'keypress': postcodeCheckHelper.checkPostcodeKeypress }" />
                </div>
                <div id="postcodeCheckButton" class="button">
                    <a href="#" title="Check my postcode" data-bind="click: postcodeCheckHelper.checkPostcode">Check my postcode</a>
                </div>
            </div>
            <!-- ko if: postcodeCheckHelper.isInDeliveryZone() != undefined -->
            <div id="postcodeCheckResult">
                <!-- ko if: !postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckFail">Sorry, you're not in our delivery area but you are welcome to collect your order from our store</p>
                <!-- /ko -->
                <!-- ko if: postcodeCheckHelper.isInDeliveryZone() -->
                <p id="postcodeCheckOk">You are in our delivery area</p>
                <!-- /ko -->
            </div>
            <!-- /ko -->

            <!-- ko if: $root.sites().length > 1 -->
            <div id="postcodeCheckChangeStoreButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.changeStore">Change store</a>
            </div>
            <!-- /ko -->

            <div id="postcodeCheckShowMenuButton" class="highlightedButton">
                <a href="#"  title="Check my postcode" data-bind="click: postcodeCheckHelper.showMenu">Return to the menu</a>
            </div>
        </div>
    </script>
    <script type="text/html" id="postcodeStoreLocatorView">
        <div id="siteSelectorPostcode">
                    
            <div id="siteSelectorPostcodePrompt" data-bind="html: textStrings.hSiteSelectorPostcodePrompt"></div>

            <div id="siteSelectorPostcodeTextbox">
                <input id="siteSelectorPostcodeInput" maxlength="16" autofocus data-bind="value: siteSelectorHelper.postcode, valueUpdate: 'keypress', event: { keypress: $root.contentViewModel().keyPress }" type="text" />
            </div>

            <!-- Check postcode button -->
            <div id="siteSelectorPostcodeGoButton" class="mainMenuButton">
                <a href="#" data-bind="click: $root.contentViewModel().checkPostcode, text: textStrings.hSiteSelectorPostcodeButton"></a>
            </div>

            <!-- Postcode example -->
            <div id="siteSelectorPostcodeExample" data-bind="text: textStrings.hSiteSelectorPostcodeExample">
                <a href="#" data-bind="click: siteSelectorHelper.checkPostcode"></a>
            </div>
                    
            <!-- Show all sites button -->
            <div id="siteSelectorShowSitesButton" class="mainMenuButton">
                <a href="#" data-bind="text: textStrings.hShowAllRestaurants, click: $root.contentViewModel().showAllSites"></a>
            </div>

            <div id="siteSelectorError" data-bind="text: $root.contentViewModel().errorText"></div>

            <div id="badDeliveryZonePopup" class="deliveryZoneOk" data-bind="text: textStrings.hBadDeliveryZone, click: siteSelectorHelper.hideBadPostcode, attr: { 'class': siteSelectorHelper.isBadPostcode() ? 'badDeliveryZone' : 'deliveryZoneOk' }">
            </div>

        </div>
    </script>    <script type="text/html" id="postcodeStoreLocatorBodyView">
        <div class="content">
            <div id="siteSelectorBox">
                
                <h1 class="welcomeHeader" data-bind="html: textStrings.welcomeHeader"></h1>
                
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.sselStoreSelector"></h2>

                <div data-bind="template: { name: settings.storeSelectorMode && siteSelectorHelper.isPostcodeTextboxVisible && !settings.storeSelectorInHeader ? 'postcodeStoreLocatorView' : '' }"></div>

            </div>
        </div>
    </script><script type="text/template" id="registerQuickView">
    <div id="lrContent" class="content">
        <div id="lrBox">
            <div id="loginRegisterBox">
                <div id="lrRegisterContainer">
                    <h2 id="lrCreateAnAccount" data-bind="text: textStrings.lrCustomerDetails"></h2>
                    <!-- Account details template : Firstname -> email --> 
                    <div data-bind="template: { name: 'accountDetailTemplate' }"></div>

                    <div class="button" id="lrRegisterButton">
                        <a href="#" data-bind="title: textStrings.lrRegisterButton, text: textStrings.lrRegisterButton, click: $root.contentViewModel().register">Login</a>
                    </div>

                    <div class="button" id="lrCancelButton">
                        <a href="#" data-bind="title: textStrings.lrCancelButton, text: textStrings.lrCancelButton, click: $root.contentViewModel().cancel">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</script>
    <script type="text/html" id="registerFullView">
        <div class="content" id="lrContent">
            <div id="lrBox">
                <div id="loginRegisterBox">

                    <!-- Register -->
                    <div id="lrRegisterContainer">
                        <h1 id="lrCreateAnAccount" data-bind="text: textStrings.lrWhoAreYou"></h1>
                    
                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrFirstName"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input autofocus="autofocus" type="text" maxlength="48" data-bind="value: customerHelper.bindableCustomer().firstName, 'attr': { 'placeholder': textStrings.lrFirstNameEgP, 'class': customerHelper.bindableCustomer().firstNameHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrSurname"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="text" maxlength="48" data-bind="value: customerHelper.bindableCustomer().surname, 'attr': { 'placeholder': textStrings.lrSurnameEgP, 'class': customerHelper.bindableCustomer().surnameHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <!-- ko ifnot: $root.contentViewModel.isFacebookRegister -->

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrPassword"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="password" data-bind="value: accountHelper.newAccount.password, 'attr': { 'class': accountHelper.newAccount.passwordHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrReenterPassword"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="password" data-bind="value: accountHelper.newAccount.reenterPassword" />
                        </div>

                        <!-- /ko -->

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrEmail"></label>
                        </div>

                        <!-- ko if: $root.contentViewModel().canModifyEmailAddress -->
                        <div class="lrLoginFormInput">
                            <input type="email" maxlength="64" data-bind="value: customerHelper.bindableCustomer().emailAddress, 'attr': { 'placeholder': textStrings.lrEmailEgP, 'class': customerHelper.bindableCustomer().emailAddressHasError() ? 'checkoutDataError' : '' }" />
                        </div>
                        <!-- /ko -->
                        <!-- ko if: !$root.contentViewModel().canModifyEmailAddress -->
                        <div class="lrLoginFormInput">
                            <label data-bind="text: customerHelper.bindableCustomer().emailAddress"></label>
                        </div>
                        <!-- /ko -->

                        <div id="lrEmailRegisterMarketing">
                            <input type="checkbox" data-bind="checked: customerHelper.bindableCustomer().marketing" />
                            <label data-bind="text: textStrings.lrEmailMarketting"></label>
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrPhoneNumber"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="text" maxlength="15" data-bind="value: customerHelper.bindableCustomer().phoneNumber, 'attr': { 'placeholder': textStrings.lrPhoneNumberEgP, 'class': customerHelper.bindableCustomer().phoneNumberHasError() ? 'checkoutDataError' : '' }, valueUpdate: 'keypress', event: { keypress: helper.numbersOnly }" />
                        </div>

                        <div id="lrSMSRegisterMarketing">
                            <input type="checkbox" data-bind="checked: customerHelper.bindableCustomer().smsMarketing" />
                            <label data-bind="text: textStrings.lrSMSMarketting"></label>
                        </div>

                        <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

                        <div id="lrCustomerError" data-bind="text: accountHelper.newAccount.errorMessage"></div>

                    </div>

                </div>

                <!-- Register address -->
                <div id="lrRegisterAddressContainer">
                    <h1 id="lrCreateAnAccountAddress" data-bind="text: textStrings.lrCreateAccountAddress"></h1>

                    <div id="lrAddressDetails" data-bind="template: { name: $root.contentViewModel().addressType == undefined ? '' : $root.contentViewModel().addressType() }"></div>
                        
                    <div id="lrRegisterButtonContainer">
                        <div class="button" id="lrRegisterButton">
                            <a href="#" data-bind="title: textStrings.lrRegisterButton, text: textStrings.lrRegisterButton, click: $root.contentViewModel().register">Login</a>
                        </div>

                        <div class="button" id="lrCancelButton">
                            <a href="#" data-bind="title: textStrings.lrCancelButton, text: textStrings.lrCancelButton, click: $root.contentViewModel().cancel">Login</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </script>    <script type="text/html" id="registerFullView">
        <div class="content" id="lrContent">
            <div id="lrBox">
                <div id="loginRegisterBox">

                    <!-- Register -->
                    <div id="lrRegisterContainer">
                        <h1 id="lrCreateAnAccount" data-bind="text: textStrings.lrWhoAreYou"></h1>
                    
                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrFirstName"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input autofocus type="text" maxlength="48" data-bind="value: customerHelper.bindableCustomer().firstName, 'attr': { 'placeholder': textStrings.lrFirstNameEgP, 'class': customerHelper.bindableCustomer().firstNameHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrSurname"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="text" maxlength="48" data-bind="value: customerHelper.bindableCustomer().surname, 'attr': { 'placeholder': textStrings.lrSurnameEgP, 'class': customerHelper.bindableCustomer().surnameHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <!-- ko ifnot: $root.contentViewModel.isFacebookRegister -->

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrPassword"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="password" data-bind="value: accountHelper.newAccount.password, 'attr': { 'class': accountHelper.newAccount.passwordHasError() ? 'checkoutDataError' : '' }" />
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrReenterPassword"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="password" data-bind="value: accountHelper.newAccount.reenterPassword" />
                        </div>

                        <!-- /ko -->

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrEmail"></label>
                        </div>

                        <!-- ko if: $root.contentViewModel().canModifyEmailAddress -->
                        <div class="lrLoginFormInput">
                            <input type="email" maxlength="64" data-bind="value: customerHelper.bindableCustomer().emailAddress, 'attr': { 'placeholder': textStrings.lrEmailEgP, 'class': customerHelper.bindableCustomer().emailAddressHasError() ? 'checkoutDataError' : '' }" />
                        </div>
                        <!-- /ko -->
                        <!-- ko if: !$root.contentViewModel().canModifyEmailAddress -->
                        <div class="lrLoginFormInput">
                            <label data-bind="text: customerHelper.bindableCustomer().emailAddress"></label>
                        </div>
                        <!-- /ko -->

                        <div id="lrEmailRegisterMarketing">
                            <input type="checkbox" data-bind="checked: customerHelper.bindableCustomer().marketing" />
                            <label data-bind="text: textStrings.lrEmailMarketting"></label>
                        </div>

                        <div class="lrLoginFormPrompt">
                            <div class="required">*</div>
                            <label data-bind="text: textStrings.lrPhoneNumber"></label>
                        </div>
                        <div class="lrLoginFormInput">
                            <input type="text" maxlength="15" data-bind="value: customerHelper.bindableCustomer().phoneNumber, 'attr': { 'placeholder': textStrings.lrPhoneNumberEgP, 'class': customerHelper.bindableCustomer().phoneNumberHasError() ? 'checkoutDataError' : '' }, valueUpdate: 'keypress', event: { keypress: helper.numbersOnly }" />
                        </div>

                        <div id="lrSMSRegisterMarketing">
                            <input type="checkbox" data-bind="checked: customerHelper.bindableCustomer().smsMarketing" />
                            <label data-bind="text: textStrings.lrSMSMarketting"></label>
                        </div>

                        <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

                        <div id="lrCustomerError" data-bind="text: accountHelper.newAccount.errorMessage"></div>

                    </div>

                </div>

                <!-- Register address -->
                <div id="lrRegisterAddressContainer">
                    <h1 id="lrCreateAnAccountAddress" data-bind="text: textStrings.lrCreateAccountAddress"></h1>

                    <div id="lrAddressDetails" data-bind="template: { name: $root.contentViewModel().addressType == undefined ? '' : $root.contentViewModel().addressType() }"></div>
                        
                    <div id="lrRegisterButtonContainer">
                        <div class="button" id="lrRegisterButton">
                            <a href="#" data-bind="title: textStrings.lrRegisterButton, text: textStrings.lrRegisterButton, click: $root.contentViewModel().register">Login</a>
                        </div>

                        <div class="button" id="lrCancelButton">
                            <a href="#" data-bind="title: textStrings.lrCancelButton, text: textStrings.lrCancelButton, click: $root.contentViewModel().cancel">Login</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </script>    <script type="text/html" id="repeatOrderView">
        <div id="repeatOrderContent" class="content">

            <div id="roContent">
                <h1 id="roRepeatOrder" data-bind="html: textStrings.roRepeatOrder"></h1>
                <!-- ko foreach: myOrdersHelper.repeatOrder().orderLines -->
                    <!-- ko if: problem.length == 0 -->
                    <div class="roOrderLine">
                        <div class="roName" data-bind="html: orderLine.name"></div>
                        <div class="roQuantity" data-bind="html: orderLine.quantity"></div>
                        
                        <!-- ko if: newPrice == undefined -->
                        <div class="roPrice" data-bind="html: helper.formatPrice(orderLine.price)"></div>
                        <!-- /ko -->

                        <!-- ko if: newPrice != undefined -->
                        <div class="roPriceBad" data-bind="html: helper.formatPrice(orderLine.price)"></div>
                        <div class="roNewPrice" data-bind="html: helper.formatPrice(newPrice)"></div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- ko if: problem.length > 0 -->
                    <div class="roOrderLineProblem">
                        <div class="roNameProblem" data-bind="html: orderLine.name"></div>
                        <div class="roQuantityProblem" data-bind="html: orderLine.quantity"></div>
                        <div class="roPriceProblem" data-bind="html: helper.formatPrice(orderLine.price)"></div>
                        <div class="roProblem" data-bind="html: problem"></div>
                    </div>
                    <!-- /ko -->
                <!-- /ko -->

                <div id="roTotal">
                    <div id="roTotalPrompt" data-bind="html: textStrings.roOrderTotalPrompt"></div>

                    <!-- ko if: myOrdersHelper.repeatOrder().newOrderTotal == undefined -->
                    <div id="roOrderTotal" data-bind="html: helper.formatPrice(myOrdersHelper.repeatOrder().orderTotal)"></div>
                    <!-- /ko -->
                    <!-- ko if: myOrdersHelper.repeatOrder().newOrderTotal != undefined -->
                    <div id="roOldOrderTotal" data-bind="html: helper.formatPrice(myOrdersHelper.repeatOrder().orderTotal)"></div>
                    <div id="roNewOrderTotal" data-bind="html: helper.formatPrice(myOrdersHelper.repeatOrder().newOrderTotal)"></div>
                    <!-- /ko -->
                </div>
                <div id="roButtons">
                    <div class="button" id="roRepeatOrderButton">
                        <a data-bind="html: textStrings.roAddToCart, click: $root.contentViewModel().repeatOrder"></a>
                    </div>
                    <div class="button" id="roBackButton">
                        <a data-bind="html: textStrings.roBack, click: $root.contentViewModel().back"></a>
                    </div>
                </div>
            </div>

        </div>
    </script>
    <!-- SITES VIEW -->
    <script type="text/html" id="sitesView">
        <div class="content">
            <div class="sitesBox">
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="html: textStrings.welcomeHeader"></h1>
                <h2 class="chooseStorePrompt" data-bind="html: $root.contentViewModel().checkPostcode "></h2>

                <div id="siteListPromptContainer">
                    <!-- ko if: siteSelectorHelper.isSorryVisible() -->
                    <h2 class="chooseStorePrompt" id="slSorry" data-bind="text: textStrings.slSorry"></h2>
                    <div id="slChangePostcodeWrapper">
                        <span id="slChangePostcodePrompt" data-bind="text: textStrings.slChangePostcodePrompt"></span>
                        <span id="slSelectedPostcode" data-bind="text: siteSelectorHelper.postcode"></span>
                        <a href="#" id="slChangePostcodeButton" data-bind="text: textStrings.slChangePostcodeButton, click: $root.contentViewModel().changePostcode"></a>
                    </div>
                    <!-- /ko -->
                    <h2 class="chooseStorePrompt" id="slChooseRestaurant" data-bind="text: textStrings.slChooseRestaurant"></h2>
                </div>

                <div class="siteButtonsContainer">
                    <div class="siteButtonsInner">

                    <!-- ko foreach: siteSelectorHelper.siteDetails -->

                        <div class="siteListSite">
                            <div class="siteListSiteName" data-bind="text: site.name"></div>
                            <div class="siteListSiteRoad" data-bind="text: (site.address.roadNum != null ? site.address.roadNum + ' ' : '') + (site.address.roadName != null ? site.address.roadName : '')"></div>
                            <div class="siteListSiteCityPostcode" data-bind="text: site.address.town + ' ' + site.address.postcode"></div>
                            
                            <div class="<!--siteListMapWrapper-->">
                                <div class="siteListClickForLocation">
                                    <!--<a href="#" data-bind="attr: {href: mapUrl}" target="_blank">click for location</a>-->
                                    <a data-bind="click: $root.storeListStoreSelected, attr: { href: '/' + site.name + '/Home/' }">click for location</a>
                                </div>
                                <a class="siteListMapContainer">
                                    <div class="siteListMap" data-bind="attr: { id: id }, click: $root.storeListStoreSelected"></div>
                                </a>
                                <a class="siteListCollectFromHere" data-bind="click: $root.storeListStoreSelected, attr: { href: '/' + site.name + '/Home/' }">order from here</a>
                            </div>
                        </div>

                    <!-- /ko -->

                    </div>
                </div>

            </div>
        </div>
    </script>    <!-- STORE DETAILS PAGE -->
    <script type="text/html" id="storeDetailsView">
        <div id="storeDetailsContent" class="content">
            <div class="storeDetailsBox" itemscope itemtype="http://schema.org/Organisation">
                <div class="storeDetailsBoxInner">
                    <h1 itemprop="name" class="welcomeHeader" data-bind="text: $root.selectedSite() === undefined ? '' : $root.selectedSite().name"></h1>

                    <div id="deliveryTimesAddressWrapper">
                        <div id="storeDetailsDeliveryTimes">
                            <h1 data-bind="text: textStrings.storeDetailsDeliveryTimes"></h1>

                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsMonday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.monday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsTuesday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.tuesday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsWednesday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.wednesday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsThursday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.thursday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsFriday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.friday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsSaturday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.saturday.displayText()"></div>
                            </div>
                            <div class="storeDetailsDeliveryTimesDay">
                                <div class="storeDetailsDeliveryTimesDayColumn1" data-bind="text: textStrings.storeDetailsSunday"></div>
                                <div class="storeDetailsDeliveryTimesDayColumn2" data-bind="html: openingTimesHelper.openingTimes.sunday.displayText()"></div>
                            </div>

                            <h2>Delivery time is currently <span data-bind="text: $root.etd()"></span> min</h2>
                            <div id="homeDeliveryMinimumOrder">Minimum delivery order <span data-bind="html: helper.formatPrice(settings.minimumDeliveryOrder)"></span></div>
                        </div>

                        <div id="storeDetailsAddressWrapper">
                            <div id="storeDetailsAddressWrapperInner">
                                <div id="storeDetailsAddressWrapperInner2">
                                    <div id="storeDetailsAddress">
                                        <h1>Where to find us</h1>
                                        <div id="storeDetailsAddressLinesMultiLine" itemprop="streetAddress" data-bind="html: displayAddressMultiLine"></div>
                                        <div id="storeDetailsAddressLinesSingleLine" itemprop="streetAddress" data-bind="html: displayAddress"></div>
                                        <!-- Telephone -->
                                        <!-- ko if: siteDetails() !== undefined && siteDetails().phone != undefined && siteDetails().phone.length > 0 -->
                                        <div id="storeDetailsAddressLinesTel">
                                            <span data-bind="html: textStrings.hPhone"></span>
                                            <span itemprop="telephone" data-bind="text: siteDetails().phone"></span>
                                        </div>
                                        <!-- /ko -->
                                        <!-- Support email -->
                                        <!-- ko if: settings.supportEmail.length > 0 -->
                                        <div id="storeDetailsSupportEmail">
                                            <span data-bind="html: textStrings.hSupportEmailPrompt"></span>
                                            <a itemprop="email" data-bind="attr: { href: 'mailto:' + settings.supportEmail }, html: settings.supportEmail"></a>
                                        </div>
                                        <!-- /ko -->
                                    </div>
                                    <div id="storeDetailsAddressMap">
                                        <div id="mapContainer">
                                            <div id="map"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </script>    <!-- STORE SELECTOR VIEW -->
    <script type="text/html" id="storeSelectorSitesView">
        <div class="content">
            <div class="sitesBox">
                <!-- Site list -->
                <h1 class="welcomeHeader" data-bind="html: textStrings.welcomeHeader"></h1>
               
                <!-- ko if: settings.storeSelectorMode -->
                <!-- ko if: deliverySites().length > 0 -->
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.ssStoreSelector"></h2>

                <div class="siteButtonsContainer">
                    <div class="siteButtonsInner">
                    <!-- ko foreach: deliverySites -->
                        <div class="button siteButton" data-bind="click: $root.storeSelected">
                            <a href="#" data-bind="text: displayText"></a>
                        </div>
                    <!-- /ko -->
                    </div>
                </div>

                <!-- /ko -->

                <!-- ko if: deliverySites().length == 0 -->
                <!-- ko if: collectionOnlySites().length > 0 -->
                <h2 class="chooseStorePrompt" data-bind="text: textStrings.ssCollect"></h2>
                <!-- ko foreach: collectionOnlySites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->
                <!-- /ko -->
                <!-- /ko -->
                <!-- /ko -->

                <!-- ko ifnot: settings.storeSelectorMode -->
                <!-- ko foreach: sites -->
                    <div class="button siteButton" data-bind="click: $root.storeSelected">
                        <a href="#" data-bind="text: displayText"></a>
                    </div>
                <!-- /ko -->
                <!-- /ko -->

            </div>
        </div>
    </script><script type="javascript/worker" id="telemetrySession">

    self.addEventListener
    (
        'message',
        function(e)
        {
            var data = e.data;
       //     debugger;
            var serviceUrl = data.serverUrl + "/TelemetrySession/" + data.siteId + "?key=x";

            GetData();

            function GetData()
            {
         //       debugger;

                try
                {
                    var xhr = new XMLHttpRequest();
                    xhr.open('PUT', serviceUrl, false);
                    xhr.setRequestHeader("Content-Type", "application/json");
                    xhr.onreadystatechange =
                        function ()
                        {
                            if (xhr.readyState == 4)
                            {
                                if (xhr.status == 200)
                                {
                                    // Posting Back the Result
                                    postMessage(xhr.responseText);
                                }
                            }
                        };
                    xhr.send(JSON.stringify(data.session));
                }
                catch (e)
                {
                    postMessage(null);
                }
            }
        },
        false
    );

</script>

<script type="javascript/worker" id="telemetry">

    self.addEventListener
    (
        'message',
        function(e)
        {
            var data = e.data;

            var serviceUrl = data.serverUrl + "/Telemetry/" + data.siteId + "?key=x";

            GetData();

            function GetData()
            {
                try
                {
                    var xhr = new XMLHttpRequest();
                    xhr.open('PUT', serviceUrl, false);
                    xhr.setRequestHeader("Content-Type", "application/json");
                    xhr.onreadystatechange = function () {}; // Fire and forget!
                    xhr.send(JSON.stringify(data.telemetryData));
                }
                catch (e)
                {
                    postMessage(null);
                }
            }
        },
        false
    );

</script>

<script type="text/html" id="toppingsView">

    <!-- ko if: viewModel.contentViewModel() != undefined && viewModel.contentViewModel().popupViewModel != undefined && viewModel.contentViewModel().popupViewModel() != undefined-->
    <!-- ko with: viewModel.contentViewModel().popupViewModel() -->
    <!-- Header -->
    <div class="popupBoxHeaderContainer">

        <!-- ko if: guiHelper.isMobileMode() -->
        <!-- ko if: toppingsPopupHelper.mode() == 'addItem' -->
        <h1 data-bind="html: textStrings.tpmAddItem"></h1>
        <!-- /ko -->
        <!-- ko if: toppingsPopupHelper.mode() == 'editItem' -->
        <h1 data-bind="html: textStrings.tpmEditItem"></h1>
        <!-- /ko -->
        <!-- /ko -->
        <!-- Item name & description -->
        <div class="popupItemDetails">
            <!-- ko if: cartItem().thumbnail != undefined -->
            <img src="#" data-bind="'attr': { src: menuHelper.menuDataThumbnails().Server.Endpoint + cartItem().thumbnail.Src, height: cartItem().thumbnail.Height + 'px', width: cartItem().thumbnail.Width + 'px' }" />
            <!-- /ko -->
            <h2>
                <span id="popupName" data-bind="html: cartItem().name"></span>
            </h2>
            <div id="popupDescription" data-bind="html: cartItem().description"></div>
        </div>

        <!-- Options -->
        <div id="popupOptions">

            <div id="popupOptionsRight">
                <!-- Accept item changes button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'editItem' -->
                <div id="popupUpdateItemButton" class="highlightedButton">
                    <a href="#" title="Update item" data-bind="click: acceptChanges, text: textStrings.tpAcceptChanges"></a>
                </div>
                <!-- /ko -->
                <!-- Add item to cart button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'addItem' -->
                <div id="popupAddToCartButton" class="highlightedButton">
                    <a href="#" title="Add item to your order" data-bind="click: commitToCart, text: textStrings.tpAdd"></a>
                </div>
                <!-- /ko -->
                <!-- Add/Edit deal item button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'addDealItem' || toppingsPopupHelper.mode() == 'editDealItem' -->
                <div id="popupAddToDealButton" class="highlightedButton">
                    <a href="#" title="Add item to your order" data-bind="click: commitToDeal, text: textStrings.tpOk"></a>
                </div>
                <!-- /ko -->
                <!-- Remove item from cart button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'editItem' -->
                <div id="popupRemoveFromCartButton" class="button">
                    <a href="#" title="Cancel" data-bind="click: removeFromCart, text: textStrings.tpRemove"></a>
                </div>
                <!-- /ko -->
                <!-- Cancel button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'addItem' -->
                <div id="popupCancelButton" class="button">
                    <a href="#" title="Cancel" data-bind="click: cancel, text: textStrings.tpCancel"></a>
                </div>
                <!-- /ko -->
                <!-- Cancel deal button -->
                <!-- ko if: toppingsPopupHelper.mode() == 'addDealItem' || toppingsPopupHelper.mode() == 'editDealItem' -->
                <div id="popupCancelDealButton" class="button">
                    <a href="#" title="Cancel" data-bind="click: cancelDeal, text: textStrings.tpCancelDeal"></a>
                </div>
                <!-- /ko -->
            </div>

            <div id="popupOptionsLeft">
                <div id="popupOptionsTopPrice">

                    <!-- Price header-->
                    <div id="popupPriceHeader">
                        <!-- ko if: toppingsPopupHelper.mode() == 'addDealItem' || toppingsPopupHelper.mode() == 'editDealItem' -->
                        <span data-bind="text: textStrings.tpAddedCharges"></span>
                        <!-- /ko -->
                        <!-- ko if: toppingsPopupHelper.mode() == 'addItem' || toppingsPopupHelper.mode() == 'editItem' -->
                        <span data-bind="html: textStrings.tpItemPrice"></span>
                        <!-- /ko -->
                    </div>

                    <!-- Price -->
                    <div id="popupPrice" data-bind="html: cartItem().displayPrice()"></div>
                </div>

                <div id="popupOptionsTopQuantity">
                    <!-- Quantity -->
                    <!-- ko if: toppingsPopupHelper.mode() != 'addDealItem' && toppingsPopupHelper.mode() != 'editDealItem' -->
                    <div id="popupQuantity">
                        <div id="popupQuantityHeader">
                            <span data-bind="text: textStrings.tpQuantity"></span>
                        </div>
                        <div id="popupQuantityDetails">
                            <span data-bind="text: cartItem().quantity"></span>
                            <a id="popupDecreaseQty" data-bind="click: decreaseQuantity" href="#">-</a>
                            <a id="popupIncreaseQty" data-bind="click: increaseQuantity" href="#">+</a>
                        </div>
                    </div>
                    <!-- /ko -->
                </div>

                <div id="popupCatContainer">

                    <!-- ko if: cartItem().category1s().length > 0 || cartItem().category2s().length > 0 -->
                    <div id="popupCatHeader" data-bind="text: textStrings.tpItemType"></div>
                    <!-- /ko -->
                    <!-- Cat 1 -->
                    <!-- ko if: cartItem().category1s().length > 0 -->
                    <div id="popupCategory1">
                        <!-- ko if: cartItem().category1s().length > 1 -->
                        <select data-bind="options: cartItem().category1s, optionsText: 'Name', value: cartItem().selectedCategory1, event: { change: popupCategory1Changed }"></select>
                        <!-- /ko -->
                        <!-- ko if: cartItem().category1s().length == 1 -->
                        <span data-bind="text: cartItem().category1s().length == 1 ? cartItem().category1s()[0].Name : ''"></span>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- Cat 2 -->
                    <!-- ko if: cartItem().category2s().length > 0 -->
                    <div id="popupCategory2">
                        <!-- ko if: cartItem().category2s().length > 1 -->
                        <select data-bind="options: cartItem().category2s, optionsText: 'Name', value: cartItem().selectedCategory2, event: { change: popupSelectedItemChanged }"></select>
                        <!-- /ko -->
                        <!-- ko if: cartItem().category2s().length == 1 -->
                        <span data-bind="text: cartItem().category2s().length == 1 ? cartItem().category2s()[0].Name : ''"></span>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                </div>

            </div>
        </div>

    </div>

    <!-- Popup body -->
    <div id="popupBody">
        <div id="popupToppingsContainer" data-bind="visible: cartItem().toppings().length > 0">
            <h1 data-bind="text: textStrings.tpCustomize"></h1>

            <!-- ko if: cartItem().menuItem != undefined && cartItem().menuItem.DefTopIds.length > 0 -->
            <span id="popupToppingsHelp" data-bind="text: textStrings.tpTickPrompt"></span>
            <!-- /ko -->

            <!-- ko if: cartItem().remainingToppingCount() != -1 && cartItem().remainingToppingCount() > 0 -->
            <div id="popupRemainingToppings">
                <span data-bind="text: textStrings.tpRemainingItems1"></span>
                <span data-bind="text: cartItem().remainingToppingCount()"></span>
                <span data-bind="text: cartItem().remainingToppingCount() <= 1 ? textStrings.tpRemainingItems2Singular : textStrings.tpRemainingItems2Multiple"></span>
            </div>
            <!-- /ko -->

            <!-- ko if: cartItem().remainingToppingCount() === 0 -->
            <div id="popupNoRemainingToppings">
                <span data-bind="text: textStrings.tpNoRemainingItems"></span>
            </div>
            <!-- /ko -->

            <!-- ko if: cartItem().freeToppingsRemaining() > 0 -->
            <div id="popupFreeToppings">
                <span data-bind="text: textStrings.tpFreeItems1"></span>
                <span data-bind="text: cartItem().freeToppingsRemaining()"></span>
                <span data-bind="text: cartItem().freeToppingsRemaining() <= 1 ? textStrings.tpFreeItems2Singular : textStrings.tpFreeItems2Multiple"></span>
            </div>
            <!-- /ko -->

            <!-- Column headers -->

            <!-- ko if: (cartItem().menuItem.ItemToppingRules != undefined && cartItem().menuItem.ItemToppingRules.MaxDuplicates > 1) || (cartItem().menuItem.ItemToppingRules != undefined && cartItem().menuItem.ItemToppingRules.MaxDuplicates == 0 && settings.showDoubleToppings) || (cartItem().menuItem.ItemToppingRules === undefined && settings.showDoubleToppings) -->
            <div class="popupToppingsHeaders">
                <div class="popupToppingsSingle" data-bind="visible: cartItem().toppings().length > 0">
                    <span data-bind="text: textStrings.tpSingle"></span>
                </div>
                <div class="popupToppingsDouble" data-bind="visible: cartItem().toppings().length > 0">
                    <span data-bind="text: textStrings.tpDouble"></span>
                </div>

                <div class="popupToppingsSingle2" data-bind="visible: cartItem().toppings().length > 1">
                    <span data-bind="text: textStrings.tpSingle"></span>
                </div>
                <div class="popupToppingsDouble2" data-bind="visible: cartItem().toppings().length > 1">
                    <span data-bind="text: textStrings.tpDouble"></span>
                </div>

                <div class="popupToppingsSingle2" data-bind="visible: cartItem().toppings().length > 2">
                    <span data-bind="text: textStrings.tpSingle"></span>
                </div>
                <div class="popupToppingsDouble2" data-bind="visible: cartItem().toppings().length > 2">
                    <span data-bind="text: textStrings.tpDouble"></span>
                </div>
            </div>
            <!-- /ko -->

            <!-- Toppings tick boxes -->
            <div class="popupToppings">
                <!-- ko foreach: cartItem().toppings -->
                <div class="popupTopping">
                    <div data-bind="'attr': { 'class': type == 'removable' ? 'popupRemovableTopping' : 'popupAdditionalTopping' }">
                        <span class="popupToppingName" data-bind="text: topping.Name == undefined ? topping.ToppingName : topping.Name"></span>
                        <span class="popupToppingPrice" data-bind="html: singlePrice"></span>
                        <input type="checkbox" data-bind="checked: selectedSingle, click: $parent.singleChanged" />
                    </div>

                    <!-- ko if: ($parent.cartItem().menuItem.ItemToppingRules != undefined && $parent.cartItem().menuItem.ItemToppingRules.MaxDuplicates > 1) || ($parent.cartItem().menuItem.ItemToppingRules != undefined && $parent.cartItem().menuItem.ItemToppingRules.MaxDuplicates == 0 && settings.showDoubleToppings) || ($parent.cartItem().menuItem.ItemToppingRules === undefined && settings.showDoubleToppings) -->
                    <span class="popupToppingPrice" data-bind="html: doublePrice"></span>
                    <input type="checkbox" data-bind="checked: selectedDouble, click: $parent.doubleChanged" />
                    <!-- /ko -->
                </div>
                <!-- /ko -->
            </div>
        </div>

        <div class="popupExtraBits">

            <!-- ko if: settings.chefCommentsEnabled -->
            <div class="popupChefComments">
                <h1 data-bind="text: textStrings.tpCommentsForChef"></h1>
                <div id="popupChefCommentsInner">
                    <p data-bind="text: textStrings.tpExtraBits"></p>
                    <textarea data-bind="value: cartItem().instructions"></textarea>
                </div>
            </div>
            <!-- /ko -->

            <!-- ko if: settings.personEnabled -->
            <div class="popupPerson">
                <h1 data-bind="text: textStrings.tpForPeson"></h1>
                <div id="popupPersonInner">
                    <p data-bind="text: textStrings.tpPerson"></p>
                    <input type="text" data-bind="value: cartItem().person" />
                </div>
            </div>
            <!-- /ko -->

        </div>
    </div>

    <!-- /ko -->
    <!-- /ko -->
</script><!-- French address template-->
    <script type="text/html" id="frenchAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1FR" data-bind="text: textStrings.org1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg1FR" type="text" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.org1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org1_eg_FR"></div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2FR" data-bind="text: textStrings.org2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg2FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.org2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org2_eg_FR"></div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1FR" data-bind="text: textStrings.prem1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem1FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem1_eg_FR"></div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2FR" data-bind="text: textStrings.prem2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem2FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem2_eg_FR"></div>
        </div>

        <!-- Prem3 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem3FR" data-bind="text: textStrings.prem3_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem3FR" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem3, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem3_eg_FR"></div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumberFR" data-bind="text: textStrings.roadNumber_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNumberFR" maxlength="16" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadNum, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadNumber_eg_FR"></div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadNameFR" data-bind="text: textStrings.roadName_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNameFR" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, 'attr': { 'class': checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadName_eg_FR"></div>
        </div>

        <!-- User Locality 1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality1FR" data-bind="text: textStrings.userLocality1_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality1FR" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality1_eg_FR"></div>
        </div>

        <!-- User Locality 2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality2FR" data-bind="text: textStrings.userLocality2_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality2FR" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality2_eg_FR"></div>
        </div>

        <!-- User Locality 3 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality3FR" data-bind="text: textStrings.userLocality3_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutUserLocality3FR" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.userLocality3, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality3_eg_FR"></div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTownFR" data-bind="text: textStrings.town_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutTownFR" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, 'attr': { 'class': checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.town_eg_FR"></div>
        </div>

        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <!-- ko if: settings.postcodeRequired -->
                <div class="required">*</div>
                <!-- /ko -->
                <!-- ko if: !settings.postcodeRequired -->
                <div class="required">&nbsp;</div>
                <!-- /ko -->
                <label for="checkoutPostcodeFR" data-bind="text: textStrings.postcode_FR"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPostcodeFR" maxlength="16" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.postcode, 'attr': { 'class': checkoutHelper.errors.postcodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3"  data-bind="text: textStrings.postcode_eg_FR"></div>
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="orderNotesColumn1">
                <label for="checkoutDirections" data-bind="text: textStrings.checkDirections"></label>
                <br />
                <span data-bind="text: textStrings.checkDirectionsEx"></span>
            </div>
            <div class="checkoutAddressColumn2">
                <textarea id="checkoutDirections" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.directions" maxlength="255"></textarea>
            </div>
        </div>

        <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError" data-bind="text: textStrings.checkMissingInfoError"></div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.postcode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError" data-bind="text: textStrings.checkBadPostcode"></div>
        <!-- /ko -->

    </script>    <!-- Generic address template-->
    <script type="text/html" id="genericAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Department: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text2" type="text" autofocus data-bind="value: addressHelper.bindableAddress().org1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Sales Department
            </div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2">Organisation name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text8" type="text" data-bind="value: addressHelper.bindableAddress().org2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Andromeda Trading Ltd.
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">House name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text10" type="text" data-bind="value: addressHelper.bindableAddress().prem1, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Flat 1 or 'Sandy Cottage'
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text11" type="text" data-bind="value: addressHelper.bindableAddress().prem2, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                 E.g. Nelson Mandela House
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">House number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text12" maxlength="16" type="text" data-bind="value: addressHelper.bindableAddress().roadNum, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Road name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text13" maxlength="64" type="text" data-bind="value: addressHelper.bindableAddress().roadName, 'attr': { 'class': addressHelper.bindableAddress().roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "Park Road"
            </div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">Town: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text14" maxlength="64" type="text" data-bind="value: addressHelper.bindableAddress().town, 'attr': { 'class': addressHelper.bindableAddress().townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                The town name. E.g. "Ely"
            </div>
        </div>

        <!-- Locality -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutLocality">Locality: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text15" maxlength="64" type="text" data-bind="value: addressHelper.bindableAddress().locality, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. Town âLondonâ, Locality âWestminsterâ
            </div>
        </div>
        	
        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <!-- ko if: settings.postcodeRequired -->
                <div class="required">*</div>
                <!-- /ko -->
                <!-- ko if: !settings.postcodeRequired -->
                <div class="required">&nbsp;</div>
                <!-- /ko -->
                <label for="checkoutPostcode">Postcode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text16" maxlength="16" type="text" data-bind="value: addressHelper.bindableAddress().postcode, 'attr': { 'class': addressHelper.bindableAddress().postcodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "SM6 0DZ"
            </div>
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="orderNotesColumn1">
                <label for="checkoutDirections" data-bind="text: textStrings.checkDirections"></label>
                <br />
                <span data-bind="text: textStrings.checkDirectionsEx"></span>
            </div>
            <div class="checkoutAddressColumn2">
                <textarea id="checkoutDirections" autofocus data-bind="value: addressHelper.bindableAddress().directions" maxlength="255"></textarea>
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: addressHelper.bindableAddress().addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: addressHelper.bindableAddress().postcode().length > 0 && addressHelper.bindableAddress().outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>    <!-- UK address template-->
    <script type="text/html" id="ukAddress-template">

        <!-- Org1 -->
        <!--<div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1FR" data-bind="text: textStrings.org1_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg1FR" type="text" data-bind="value: addressHelper.bindableAddress().org1, disable: settings.lockCustomerAddressPage, attr: { 'placeholder': textStrings.org1_egP_UK }" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org1_eg_UK"></div>
        </div>-->

        <!-- Org2 -->
        <!--<div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg2FR" data-bind="text: textStrings.org2_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutOrg2FR" type="text" data-bind="value: addressHelper.bindableAddress().org2, disable: settings.lockCustomerAddressPage, attr: { 'placeholder': textStrings.org2_egP_UK }" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.org2_eg_UK"></div>
        </div>-->

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1FR" data-bind="text: textStrings.prem1_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem1FR" type="text" data-bind="value: addressHelper.bindableAddress().prem1, disable: settings.lockCustomerAddressPage, attr: { 'placeholder': textStrings.prem1_egP_UK }" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem1_eg_UK"></div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2FR" data-bind="text: textStrings.prem2_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutPrem2FR" type="text" data-bind="value: addressHelper.bindableAddress().prem2, disable: settings.lockCustomerAddressPage, attr: { 'placeholder': textStrings.prem2_egP_UK }" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.prem2_eg_UK"></div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumberFR" data-bind="text: textStrings.roadNumber_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNumberFR" maxlength="16" type="text" data-bind="value: addressHelper.bindableAddress().roadNum, disable: settings.lockCustomerAddressPage, attr: { 'placeholder': textStrings.roadNumber_egP_UK }" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadNumber_eg_UK"></div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadNameFR" data-bind="text: textStrings.roadName_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutRoadNameFR" maxlength="64" type="text" data-bind="value: addressHelper.bindableAddress().roadName, 'attr': { 'placeholder': textStrings.roadName_egP_UK, 'class': addressHelper.bindableAddress().roadNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.roadName_eg_UK"></div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTownFR" data-bind="text: textStrings.town_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="checkoutTownFR" maxlength="64" type="text" data-bind="value: addressHelper.bindableAddress().town, 'attr': { 'placeholder': textStrings.town_egP_UK, 'class': addressHelper.bindableAddress().townHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.town_eg_UK"></div>
        </div>
        	
        <!-- User Locality -->
        <!--<div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutUserLocality1FR" data-bind="text: textStrings.userLocality1_UK"></label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text1" maxlength="64" type="text" data-bind="'attr': { 'placeholder': textStrings.userLocality1_egP_UK }, value: addressHelper.bindableAddress().locality, disable: settings.lockCustomerAddressPage" />
            </div>
            <div class="checkoutAddressColumn3" data-bind="text: textStrings.userLocality1_eg_UK"></div>
        </div>-->

        <!-- Postcode -->
        <div class="checkoutAddressLine" id="checkoutPostcodeContainer">
            <div class="checkoutAddressColumn1">
                <!-- ko if: settings.postcodeRequired -->
                <div class="required">*</div>
                <!-- /ko -->
                <!-- ko if: !settings.postcodeRequired -->
                <div class="required">&nbsp;</div>
                <!-- /ko -->
                <label for="checkoutPostcodeFR" data-bind="text: textStrings.postcode_UK"></label>
            </div>
            <!-- xxxko if: addressHelper.bindableAddress().isPostcodeLocked -->
            <!--<div class="checkoutAddressColumn2Locked" data-bind="text: addressHelper.bindableAddress().postcode"></div>-->
            <!-- xxx/ko -->
            <!-- xxxko ifnot: addressHelper.bindableAddress().isPostcodeLocked -->
            <div class="checkoutAddressColumn2">
                <input id="checkoutPostcodeFR" maxlength="16" type="text" data-bind="value: addressHelper.bindableAddress().postcode, 'attr': { 'placeholder': textStrings.postcode_egP_UK, 'class': addressHelper.bindableAddress().postcodeHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerAddressPage" />
            </div>
            <!-- xxx/ko -->
            <!--<div class="checkoutAddressColumn3"  data-bind="text: textStrings.postcodeHelp"></div>-->
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="orderNotesColumn1">
                <label for="checkoutDirections" data-bind="text: textStrings.checkDirections"></label>
                <br />
                <span data-bind="text: textStrings.checkDirectionsEx"></span>
            </div>
            <div class="checkoutAddressColumn2">
                <textarea id="checkoutDirections" data-bind="'attr': { 'placeholder': textStrings.checkDirectionsExP }, value: addressHelper.bindableAddress().directions" maxlength="255"></textarea>
            </div>
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError" data-bind="text: textStrings.checkMissingInfoError"></div>
        <!-- /ko -->

        <!-- ko if: addressHelper.bindableAddress().postcode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError" data-bind="text: textStrings.checkBadPostcode"></div>
        <!-- /ko -->

    </script>

    <script type="text/html" id="ukAddressView-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.org1_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().org1"></div>
        </div>

        <!-- Org2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.org2_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().org2"></div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.prem1_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().prem1"></div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.prem2_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().prem2"></div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.roadNumber_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().roadNum"></div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.roadName_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().roadName"></div>
        </div>

        <!-- Town -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.town_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().town"></div>
        </div>

        <!-- User Locality 1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.userLocality1_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().userLocality1"></div>
        </div>
        	
        <!-- Postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1" data-bind="text: textStrings.postcode_UK"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().postcode"></div>
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="orderNotesColumn1" data-bind="text: textStrings.checkDirections"></div>
            <div class="checkoutAddressColumn2" data-bind="text: addressHelper.bindableAddress().directions"></div>
        </div>

    </script><!-- UK address template-->
<script type="text/html" id="ukAddress-min-template">
    <!-- Address line 1 -->
    <div class="lrLoginFormInput">
        <input id="checkoutRoadNumberFR" maxlength="64" type="text"
               data-bind="
                    value: addressHelper.bindableAddress().roadName,
                    disable: settings.lockCustomerAddressPage,
                    attr: {
                        title: textStrings.addressLine1,
                        placeholder: textStrings.addressLine1,
                        'class': addressHelper.bindableAddress().roadName.isValid() ? '' : 'checkoutDataError'
                    }" />
    </div>

    <!-- Address line 2 -->
    <div class="lrLoginFormInput">
        <input id="checkoutRoadNameFR" maxlength="64" type="text"
           data-bind="
                value: addressHelper.bindableAddress().prem1,
                attr: {
                    title: textStrings.addressLine2,
                    placeholder: textStrings.addressLine2
                },
                disable: settings.lockCustomerAddressPage" />
    </div>

    <!-- Town -->
    <div class="lrLoginFormInput">
        <input id="checkoutTownFR" maxlength="64" type="text" 
            data-bind="value: addressHelper.bindableAddress().town,
                attr: {
                    title: textStrings.town_UK,
                    placeholder: textStrings.town_UK,
                    'class': addressHelper.bindableAddress().town.isValid() ? '' : 'checkoutDataError'
                },
                disable: settings.lockCustomerAddressPage" />
    </div>

    <!-- Postcode -->
    <div class="lrLoginFormInput" id="checkoutPostcodeContainer">
        <input id="checkoutPostcodeFR" maxlength="16" type="text"
            data-bind="value: addressHelper.bindableAddress().postcode,
                attr: {
                    placeholder: textStrings.postcode_UK,
                    'class': addressHelper.bindableAddress().postcode.isValid() ? '' : 'checkoutDataError'
                },
                disable: settings.lockCustomerAddressPage" />
    </div>

    <!-- Directions -->
    <div class="lrLoginFormInput">
        <textarea id="checkoutDirections" rows="4" maxlength="255" 
            data-bind="value: addressHelper.bindableAddress().directions,
                attr: {
                    title: textStrings.checkDirections,
                    'placeholder': textStrings.checkDirections
                }">
        </textarea>
    </div>

    <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
    <div class="checkoutError" data-bind="text: textStrings.checkMissingInfoError"></div>
    <!-- /ko -->

    <!-- ko if: addressHelper.bindableAddress().postcode() !== undefined && addressHelper.bindableAddress().postcode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
    <div class="checkoutError" data-bind="text: textStrings.checkBadPostcode"></div>
    <!-- /ko -->

</script>
    <!-- US address template-->
    <script type="text/html" id="usAddress-template">

        <!-- Org1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutOrg1">Company name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text1" type="text" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.org1" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>

        <!-- Prem1 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem1">Unit name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text3" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem1" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>
        
        <!-- Prem2 -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutPrem2">Building/Condo name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text4" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.prem2" />
            </div>
            <div class="checkoutAddressColumn3">
            </div>
        </div>

        <!-- RoadNumber -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">&nbsp;</div>
                <label for="checkoutRoadNumber">Street number: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text5" maxlength="16" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadNum" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "4"
            </div>
        </div>

        <!-- RoadName -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutRoadName">Street name: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text6" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.roadName, 'attr': { 'class': checkoutHelper.errors.roadNameHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "10th STREET WEST"
            </div>
        </div>

        <!-- City -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <div class="required">*</div>
                <label for="checkoutTown">City: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text7" maxlength="64" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.town, 'attr': { 'class': checkoutHelper.errors.townHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                The city name. E.g. "BILLINGS"
            </div>
        </div>
        	
        <!-- postcode -->
        <div class="checkoutAddressLine">
            <div class="checkoutAddressColumn1">
                <!-- ko if: settings.postcodeRequired -->
                <div class="required">*</div>
                <!-- /ko -->
                <!-- ko if: !settings.postcodeRequired -->
                <div class="required">&nbsp;</div>
                <!-- /ko -->
                <label for="checkoutPostcode">ZipCode: </label>
            </div>
            <div class="checkoutAddressColumn2">
                <input id="Text9" maxlength="16" type="text" data-bind="value: checkoutHelper.checkoutDetails.address.postcode, 'attr': { 'class': checkoutHelper.errors.postcodeHasError() ? 'checkoutDataError' : '' }" />
            </div>
            <div class="checkoutAddressColumn3">
                E.g. "86400"
            </div>
        </div>

        <!-- Directions -->
        <div class="checkoutAddressLine">
            <div class="orderNotesColumn1">
                <label for="checkoutDirections" data-bind="text: textStrings.checkDirections"></label>
                <br />
                <span data-bind="text: textStrings.checkDirectionsEx"></span>
            </div>
            <div class="checkoutAddressColumn2">
                <textarea id="checkoutDirections" autofocus data-bind="value: checkoutHelper.checkoutDetails.address.directions" maxlength="255"></textarea>
            </div>
        </div>

        <div class="requiredLine">
            * Required
        </div>

        <!-- ko if: checkoutHelper.errors.addressMissingDetails() -->
        <div class="checkoutError">
            Missing information!  Please enter details in the boxes highlighted in red.
        </div>
        <!-- /ko -->

        <!-- ko if: checkoutHelper.checkoutDetails.address.postcode().length > 0 && checkoutHelper.errors.outOfDeliveryArea() -->
        <div class="checkoutError">
            Sorry, this store doesn't deliver to your postcode.  <!--However, you can collect your order from the store by clicking the "Modify order" button and selecting "Collect from store".-->
        </div>
        <!-- /ko -->

    </script>    <!-- CHECKOUT DETAILS VIEW -->
    <script type="text/html" id="checkoutView">

        <div class="checkoutPage">

            <div id="checkoutCart">
                <div data-bind="template: { name: 'cartView' }"></div>
            </div>

            <div id="checkoutOrderDetails">
                <h2>Customer Details</h2>

                <!-- ko ifnot: $root.orderType() == 'delivery' -->
                <div id="checkoutCustomerName">
                    <span data-bind="text: accountHelper.customerDetails.firstname"></span>&nbsp;
                    <span data-bind="text: accountHelper.customerDetails.surname"></span>
                </div>
                <!-- /ko -->

                <div id="checkoutSAddressTitle" data-bind="text: ($root.orderType() == 'collection' ? textStrings.checkSCollectionAddressTitle : textStrings.checkSDeliveryAddressTitle)"></div>
                
                <!-- Name -->
                <!-- ko if: $root.orderType() == 'delivery' -->
                <div id="checkoutCustomerName">
                    <span data-bind="text: accountHelper.customerDetails.firstname"></span>&nbsp;
                    <span data-bind="text: accountHelper.customerDetails.surname"></span>
                </div>
                <!-- /ko -->

                <!-- Address -->
                <div id="checkoutSAddressContainer">
                    <div id="checkoutSAddress" data-bind="html: $root.orderType() == 'collection' ? viewModel.displayAddressMultiLine() : checkoutHelper.displayAddressMultiLine"></div>
                    
                    <!-- Phone number -->
                    <!-- ko if: checkoutHelper.telephoneNumber().length > 0 -->
                    <div id="checkoutCustomerPhone">
                        <span data-bind="text: textStrings.checkoutPhone"></span>
                        <span data-bind="text: checkoutHelper.telephoneNumber"></span>
                    </div>
                    <!-- /ko -->

                    <!-- Change delivery address -->
                    <!-- ko if: $root.orderType() == 'delivery' -->
                    <div class="checkoutSidebarActions button">
                        <a data-bind="click: checkoutHelper.changeAddress, html: checkoutHelper.checkoutDetails.isMissingAddress() ? textStrings.checkEnterAddress : textStrings.checkChangeAddress" href="#"></a>
                    </div>
                    <!-- /ko -->
                </div>

                <!-- Wanted time -->
                <div id="checkoutDeliveryTimePrompt">
                    <h3>
                        <span data-bind="visible: $root.orderType() == 'collection', text: textStrings.checkCollectTime"></span>
                        <span data-bind="visible: $root.orderType() == 'delivery', text: textStrings.checkDeliverTime"></span>
                    </h3>
                </div>
                <div id="checkoutDeliveryTime">
                    <div id="deliveryTimeRequired">
                        <select id="deliveryTime" autofocus data-bind="options: checkoutHelper.times, optionsText: 'text', value: checkoutHelper.checkoutDetails.wantedTime, 'attr': { 'class': checkoutHelper.errors.deliveryTimeError() ? 'checkoutDataError' : '' }, event: { change: checkoutHelper.deliveryTimeChanged }"></select>
                    </div>
                    <div>
                        <p data-bind="text: textStrings.checkSlotWarning"></p>
                    </div>
                </div>

                <!-- Payment selection -->
                <!-- ko if: cartHelper.cart().checkoutEnabled -->
                <div id="checkoutSPaymentSelection">
                    <div id="checkoutSPaymentTitle" data-bind="text: textStrings.checkSPaymentTitle"></div>

                    <div id="checkoutPaymentButtons">
                        <div class="checkoutSidebarActions button">
                            <a data-bind="click: checkoutHelper.payAtDoor, html: textStrings.checkSPayLater" href="#"></a>
                        </div>

                        <div class="checkoutSidebarActions button">
                            <a data-bind="click: checkoutHelper.payNow, html: textStrings.checkSPayNow" href="#"></a>
                        </div>
                    </div>
                </div>
                <!-- /ko -->

                <div id="checkoutPayment">
                </div>
            </div>

         </div>
    </script>

    <!-- Checkout section header -->
    <script type="text/html" id="checkoutSectionHeader-template">
        <div class="checkoutSectionHeader" data-bind="'attr': { 'class': checkoutHelper.visibleCheckoutSection() == index ? 'selectedCheckoutSectionHeader' : 'checkoutSectionHeader' }">
            <h2 data-bind="click: $parent.showCheckoutSection, text: displayName"></h2>
        </div>
    </script>    <!-- Contact details -->
    <script type="text/html" id="checkoutContactDetails-template">
        <div class="checkoutSection" data-bind="'attr': { 'id': id }">
            <div id="checkoutContactDetailsContainer">
                <h3 data-bind="text: textStrings.checkWhoAreYou"></h3>

                <!-- First name -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutFirstName" data-bind="text: textStrings.checkFirstName"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutFirstName" autofocus type="text" data-bind="value: checkoutHelper.checkoutDetails.firstName, 'attr': { 'class': checkoutHelper.errors.firstNameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage" />
                    </div>
                    
                </div>

                <!-- Surname -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutLastName" data-bind="text: textStrings.checkSurname"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutLastName" type="text" data-bind="value: checkoutHelper.checkoutDetails.surname, 'attr': { 'class': checkoutHelper.errors.surnameHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage" />
                    </div>
                </div>

                <!-- Phone -->
                <div class="checkoutContactLine">
                    <div class="required">*</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutTelNo" data-bind="text: textStrings.checkTel"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <input id="checkoutTelNo" type="text" data-bind="value: checkoutHelper.checkoutDetails.telephoneNumber, 'attr': { 'class': checkoutHelper.errors.telephoneHasError() ? 'checkoutDataError' : '' }, disable: settings.lockCustomerDetailsPage, valueUpdate: 'keypress', event: { keypress: helper.numbersOnly }" />
                    </div>
                </div>

                <!-- Email -->
                <div class="checkoutContactLine">
                    <div class="required">&nbsp;</div>
                    <div class="checkoutContactColumn1">
                        <label for="checkoutEmail" data-bind="text: textStrings.checkEmail"></label>
                    </div>
                    <div class="checkoutContactColumn2">
                        <span id="checkoutEmail" data-bind="text: checkoutHelper.checkoutDetails.emailAddress" />
                    </div>
                </div>
                
                <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

                <!-- Marketing -->
                <div class="checkoutContactLine" style="margin-top:10px;">
                    <div style="clear: left; float:left; width: 20px; text-align: right; margin-top:5px;">
                        <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.marketing" id="marketing" />
                    </div>
                    <div style="float:left; margin-top:5px;">
                        <label for="marketing" data-bind="text: textStrings.checkMarketing"></label>
                    </div>
                </div>

                <!-- ko if: settings.customerAccountsEnabled -->
                <div class="checkoutContactLine">
                    <div style="clear: left; float:left; width: 20px; text-align: right; margin-top:5px;">
                        <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.rememberContactDetails" id="Checkbox1" />
                    </div>
                    <div style="float:left; margin-top:5px;">
                        <label for="rememberContactDetails" data-bind="text: textStrings.checkRememberContact"></label> 
                    </div>
                </div>
                <!-- /ko -->

                <!-- ko if: checkoutHelper.errors.contactDetailsHasError() -->
                <div class="checkoutError" data-bind="text: textStrings.checkMissing"></div>
                <!-- /ko -->

                <!-- Next & back buttons -->
                <div class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <script type="text/html" id="customerAddressView">

        <h1>Delivery address</h1>

        <!-- ko template: addressHelper.addressType() --><!-- /ko -->

        <!-- ko if: checkoutHelper.showUpdateCustomerAccount -->
        <div id="rememberAddressWrapper">
            <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.rememberAddress" id="rememberAddress" />
            <label for="rememberAddress" data-bind="text: textStrings.checkRememberAddress"></label>
        </div>
        <!-- /ko -->

        <div id="checkoutAddressButtons">
            <div class="checkoutSidebarActions button" id="checkUseAddressNoSave">
                <a data-bind="click: checkoutHelper.useAddress, html: textStrings.checkUseAddressNoSave" href="#"></a>
            </div>

            <div class="checkoutSidebarActions button" id="checkCancelAddress">
                <a data-bind="click: checkoutHelper.cancelChangeAddress, html: textStrings.checkCancelAddress" href="#"></a>
            </div>
        </div>
    </script>    <!-- Delivery address -->
    <script type="text/html" id="checkoutDeliveryAddress-template">
        <div class="checkoutSection" data-bind="'attr': { 'id': id }">
            <div id="checkoutDeliveryAddressContainer">
                <h3 data-bind="text: textStrings.checkDeliveryAddress"></h3>
                <div data-bind="template: { name: $root.addressType() }"></div>

                <div class="requiredLine" data-bind="text: textStrings.checkRequired"></div>

                <div id="registerErrorMessage" data-bind="text: addressHelper.bindableAddress().errorMessage"></div>

                <!-- ko if: settings.checkoutUpdateCustomerAccount -->
                <div id="rememberAddressWrapper">
                    <input type="checkbox" data-bind="checked: checkoutHelper.checkoutDetails.rememberAddress" id="rememberAddress" />
                    <label for="rememberAddress" data-bind="text: textStrings.checkRememberAddress"></label> 
                </div>
                <!-- /ko -->

                <!-- Next & back buttons -->
                <div class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Collection/Delivery time -->
    <script type="text/html" id="checkoutDeliveryTime-template">
        <div class="checkoutSection" data-bind="'attr': { 'id': id }">
            <div id="checkoutDeliveryTimeContainer">
                <div id="checkoutDeliveryTimePrompt">
                    <h3>
                        <span data-bind="visible: $root.orderType() == 'collection', text: textStrings.checkCollectTime"></span>
                        <span data-bind="visible: $root.orderType() == 'delivery', text: textStrings.checkDeliverTime"></span>
                    </h3>
                </div>
                <div id="checkoutDeliveryTime">
                    <div id="deliveryTimeRequired">*<select id="deliveryTime" autofocus data-bind="options: checkoutHelper.times, optionsText: 'text', value: checkoutHelper.checkoutDetails.wantedTime, 'attr': { 'class': checkoutHelper.errors.deliveryTimeError() ? 'checkoutDataError' : '' }, event: { change: checkoutHelper.deliveryTimeChanged }"></select>
                    </div>
                    <div>
                        <p data-bind="text: textStrings.checkSlotWarning"></p>
                    </div>
                </div>
                <div class="requiredLine">
                    * Required
                </div>
                <div class="checkoutError" data-bind="visible: checkoutHelper.errors.deliveryTimeHasError(), text: textStrings.checkMissing">
                </div>

                <!-- Next & back buttons -->
                <div class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- ORDER ACCEPTED VIEW -->
    <script type="text/html" id="orderAcceptedView">
        <div id="orderAcceptedContent" class="content">
            <div class="sitesBox">
                <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>

                <div id="orderAccepted">
                    <h3 data-bind="text: $root.contentViewModel().congratsMessage"></h3>
                    <h3 data-bind="text: textStrings.oavThanks"></h3>

                    <!-- ko if: checkoutHelper.showCongratsLoyaltyWarningMessage -->
                    <p data-bind="text: textStrings.oavLoyaltyPointsWarning"></p>
                    <!-- /ko -->

                    <div id="orderAcceptedOptions">
                        <div class="button">
                            <a href="#" data-bind="click: helper.newOrder, text: textStrings.oavReturnToMenu"></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Order notes -->
    <script type="text/html" id="checkoutOrderNotes-template">
        <div class="checkoutSection" data-bind="'attr': { 'id': id }"> 
            <div id="checkoutOrderNotesContainer">
                <h3 data-bind="text: textStrings.checkExtraInfo"></h3>

                <!-- One off delivery notes -->
                <div data-bind="visible: $root.orderType() == 'delivery'" class="checkoutAddressLine">
                    <div class="orderNotesColumn1">
                        <label for="orderNotes" data-bind="text: textStrings.checkDelivNotes"></label>
                        <br />
                        <span data-bind="text: textStrings.checkDelivNotesEx"></span>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea id="orderNotes" data-bind="value: checkoutHelper.checkoutDetails.orderNotes"></textarea>
                    </div>
                </div>

                <!-- Chef notes -->
                <div class="checkoutAddressLine">
                    <div class="orderNotesColumn1">
                        <label for="chefNotes" data-bind="text: textStrings.checkChefNotes"></label>
                        <br />
                        <span data-bind="text: textStrings.checkChefNotesEx"></span>
                    </div>
                    <div class="checkoutAddressColumn2">
                        <textarea id="chefNotes" data-bind="value: checkoutHelper.checkoutDetails.chefNotes"></textarea>
                    </div>
                </div>

                <!-- Next & back buttons -->
                <div class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
             </div>
        </div>
    </script>    <!-- Order summary -->
<script type="text/html" id="checkoutOrderSummary-template">
    <div class="checkoutSection" data-bind="'attr': { 'id': id }">
        <div id="checkoutOrderSummaryContainer">
            <h3 data-bind="text: textStrings.checkSOrderSummary"></h3>

            <div id="checkoutSOrderSummary">
                <div id="checkoutSColumn1">

                    <!-- Order items -->
                    <div id="checkoutSOrderItems">
                        <div data-bind="text: textStrings.checkSOrderItemsTitle"></div>
                        <!-- ko foreach: cartHelper.cart().cartItems -->
                        <div class="checkoutSOrderItem">
                            <span class="checkoutSOrderItemName" data-bind="html: displayName"></span>
                            <span class="checkoutSOrderItemPrice" data-bind="html: displayPrice"></span>
                        </div>
                        <!-- /ko -->
                    </div>

                    <!-- Vouchers -->
                    <!-- ko if: settings.voucherCodesEnabled && cartHelper.cart().vouchers().length > 0 -->
                    <div id="checkoutSVouchers">
                        <!-- ko foreach: cartHelper.cart().vouchers -->
                        <div class="checkoutSOrderItem">
                            <span class="checkoutSOrderItemName" data-bind="html: VoucherCode"></span>
                            <a href="#" class="cartRemoveVoucher" data-bind="click: checkoutHelper.removeVouchers"></a>

                            <!-- ko if: EffectType.toLowerCase() == 'fixed' -->
                            <span class="checkoutSOrderItemPrice" data-bind="html: discount == undefined ? '?' : ('-' +  helper.formatPrice(discount() * 100))"></span>
                            <!-- /ko -->
                            <!-- ko if: EffectType.toLowerCase() != 'fixed' -->
                            <span class="checkoutSOrderItemPrice" data-bind="html: '-' + helper.formatPrice(discount())"></span>
                            <!-- /ko -->
                        </div>
                        <!-- /ko -->
                    </div>
                    <!-- /ko -->
                    <!-- Total -->
                    <div id="checkoutSTotal">
                        <div id="checkoutSTotalValue" data-bind="html: helper.formatPrice(cartHelper.cart().totalPrice())"></div>
                        <div id="checkoutSTotalPrompt" data-bind="text: textStrings.checkSTotal"></div>
                    </div>

                    <!-- Add voucher codes -->
                    <!-- ko if: settings.voucherCodesEnabled && cartHelper.cart().vouchers().length == 0  -->
                    <div id="checkoutSAddVoucherContainer">
                        <div id="checkoutSAddVoucherTitle" data-bind="text: textStrings.checkSAddVoucherTitle"></div>

                        <label for="checkoutSVoucherCode" data-bind="'text': textStrings.checkSVoucherCode"></label>
                        <input id="checkoutSVoucherCode" maxlength="32" type="text" data-bind="value: checkoutHelper.checkVoucherCode" />

                        <div class="button checkoutRedeemButton">
                            <a data-bind="click: checkoutHelper.addVoucherCode, text: textStrings.checkSAddVoucherCode" href="#"></a>
                        </div>
                        <div class="checkoutError" data-bind="visible: checkoutHelper.voucherError() != undefined, text: checkoutHelper.voucherError"></div>
                    </div>
                    <!-- /ko -->
                    <!-- Add loyalty -->
                    <!-- ko if: loyaltyHelper.IsEnabled() -->
                    <div id="checkoutSAddLoyaltyContainer">
                        <div data-bind="text: textStrings.checkSAddLoyaltyTitle"></div>
                        <div>Points currently available <span data-bind="text: loyaltyHelper.loyaltySession.availablePoints()"></span></div>
                        <div>
                            Value of points available <span data-bind="text:loyaltyHelper.loyaltySession.availablePoints()"></span>
                        </div>
                    </div>
                    <!-- /ko -->
                </div>

                <div id="checkoutSColumn2">

                    <!-- Address -->
                    <div id="checkoutSAddressContainer">
                        <div id="checkoutSAddressTitle" data-bind="text: ($root.orderType() == 'collection' ? textStrings.checkSCollectionAddressTitle : textStrings.checkSDeliveryAddressTitle)"></div>
                        <div id="checkoutSAddress" data-bind="html: $root.orderType() == 'collection' ? viewModel.displayAddressMultiLine() : checkoutHelper.displayAddressMultiLine"></div>
                    </div>

                    <!-- Wanted time -->
                    <div id="checkoutSTime">
                        <div data-bind="text: ($root.orderType() == 'collection' ? textStrings.checkSCollectionTimeTitle : textStrings.checkSDeliveryTimeTitle)"></div>
                        <div data-bind="text: checkoutHelper.checkoutDetails.wantedTime().text"></div>
                    </div>

                    <!-- Payment selection -->
                    <div id="checkoutSPaymentSelection">
                        <div id="checkoutSPaymentTitle" data-bind="text: textStrings.checkSPaymentTitle"></div>

                        <div id="checkoutSPayLaterSection">
                            <input type="radio" id="checkoutSPayLater" name="checkoutPaymentType" data-bind="checkedValue: false, checked: checkoutHelper.checkoutDetails.payNow, click: checkoutHelper.payTypeChanged" />
                            <label for="checkoutSPayLater" data-bind="'attr': { 'class': checkoutHelper.errors.payTypeHasError() ? 'checkoutDataError' : '' }, 'text': textStrings.checkSPayLater"></label>
                        </div>

                        <div id="checkoutSPayNowSection">
                            <input type="radio" id="checkoutSPayNow" name="checkoutPaymentType" data-bind="checkedValue: true, checked: checkoutHelper.checkoutDetails.payNow, click: checkoutHelper.payTypeChanged" />
                            <label for="checkoutSPayNow" data-bind="'attr': { 'class': checkoutHelper.errors.payTypeHasError() ? 'checkoutDataError' : '' }, 'text': textStrings.checkSPayNow"></label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="checkoutError" data-bind="visible: checkoutHelper.errors.orderSummaryHasError(), text: textStrings.checkMissing">
            </div>

            <!-- Next & back buttons -->
            <div class="checkoutButtons">
                <!-- Back -->
                <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                    <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                </div>

                <!-- Next -->
                <div class="button nextButton" data-bind="css: { checkoutSendOrderToStoreButton: checkoutHelper.nextButton.isSendOrderButton }">
                    <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#">
                    </a>
                </div>
            </div>
        </div>
    </div>
</script><!-- PAYMENT VIEW - WIZARD STEP-->
    <script type="text/html" id="checkoutPayment-template">

        <div class="checkoutSection" data-bind="'attr': { 'id': id }, template: { name: checkoutHelper.paymentProvider }"> 
        </div>

    </script>    

<!-- PAYMENT VIEW - PAGE -->
    <script type="text/html" id="paymentView">

        <div class="checkoutPage">
            <div class="paymentPage">
                <h1 data-bind="text: textStrings.payTitle"></h1>
                <div id="checkoutPaymentContainer">
                    <h2 data-bind="text: textStrings.payPrompt"></h2>
                    <p data-bind="text: textStrings.payWarning"></p>
                    <div id="paymentPayLine">
                        <!-- Pay at door / on collection -->
                        <div class="button" id="payAtDoorButton">
                            <a data-bind="click: checkoutHelper.payAtDoor, text: $root.orderType() == 'delivery' ? textStrings.payAtDoor : textStrings.payOnCollection" href="#"></a>
                        </div>

                        <!-- Pay now -->
                        <!-- ko if: $root.siteDetails() != null && $root.siteDetails().paymentProvider != undefined && $root.siteDetails().paymentProvider.length > 0 -->
                        <div class="button" id="payNowButton">
                            <a data-bind="click: checkoutHelper.payNow, text: textStrings.payNow" href="#"></a>
                        </div>
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- MERCURY PAYMENT VIEW -->
    <script type="text/html" id="mercuryPaymentView">

        <div class="checkoutPage">
            <div class="paymentPage">
                <h1 data-bind="text: textStrings.payTitle"></h1>
                <p data-bind="text: textStrings.payWarning"></p>
                <div>
                    <div id="mercuryPaymentContainer">
                        <iFrame id='mercuryPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- DATACASH PAYMENT VIEW-->
    <script type="text/html" id="dataCashPaymentView">

        <div class="checkoutPage">
            <div class="paymentPage">
                <h1 data-bind="text: textStrings.payTitle"></h1>
                <p data-bind="text: textStrings.payWarning"></p>
                <!--<p>Your card payment will be processed by DataCash, a MasterCard partner via DataCash's secure payment page below.  We do not have access to or store your card details.</p>-->
                <div>
                    <div id="dataCashPaymentContainer">
                        <iFrame id='dataCashPaymentIFrame'>
                            Your browser does not support iFrames. To view this content, please download and use the latest version of one of the following browsers: Internet Explorer, Firefox, Google Chrome or Safari.
                        </iFrame>
                    </div>
                </div>
            </div>
        </div>
    </script>

    <!-- MERCANET PAYMENT VIEW-->
    <script type="text/html" id="mercanetPaymentView">

        <div class="checkoutPage">
            <div class="paymentPage">
                <h1 data-bind="text: textStrings.mercanetTitle"></h1>
                <p data-bind="text: textStrings.mercanetIntro"></p>
                <div>
                    <div id="mercanetPaymentContainer">
                        <iFrame id='mercanetPaymentIFrame' data-bind="html: textStrings.mercanetiFrameWarn">
                            
                        </iFrame>
                    </div>
                </div>
            </div>
        </div>
    </script>
    <!-- SUBMIT ORDER VIEW -->
    <script type="text/html" id="submitOrderView">
        <div class="checkoutPage">
            <div>
                <div class="sitesBox">
                    <h1 class="welcomeHeader" data-bind="text: textStrings.welcomeHeader"></h1>

                    <!-- Please wait -->
                    <div class="chooseStore">
                        <h2 class="waitPrompt" data-bind="text: textStrings.sovOneMoment"></h2>
                        <div style="width:35px; margin: 0 auto;">
                            <div style="margin: 0 auto;"><img src="Content/Images/loader.gif" /></div>
                        </div>
                        <p style="text-align:center;">
                            <span data-bind="text: $root.pleaseWaitMessage()"></span>
                            <span data-bind="text: $root.pleaseWaitProgress()"></span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </script>    <!-- Contact details -->
    <script type="text/html" id="checkoutUpselling-template">
        <div class="checkoutSection" data-bind="'attr': { 'id': id }">
            <div id="checkoutUpsellingContainer">
                <h3 data-bind="text: textStrings.checkUpsellingTitle"></h3>

                <div id="upsellList">
                <!-- ko foreach: checkoutHelper.upsellCategories -->
                <div class="upsellText" data-bind="text: text"></div>
                <div class="button upsellButton">
                    <a data-bind="click: checkoutHelper.upsell, text: textStrings.checkUpsellButton" href="#">back</a>
                </div>
                <!-- /ko -->
                </div>

                <!-- Next & back buttons -->
                <div class="checkoutButtons">
                    <!-- Back -->
                    <div class="button backButton" data-bind="visible: checkoutHelper.backButton.visible">
                        <a data-bind="click: checkoutHelper.backButtonClicked, text: checkoutHelper.backButton.displayText" href="#"></a>
                    </div>

                    <!-- Next -->
                    <div class="button nextButton">
                        <a data-bind="click: checkoutHelper.nextButtonClicked, text: checkoutHelper.nextButton.displayText" href="#"></a>
                    </div>
                </div>
            </div>
        </div>
    </script><script type="text/html" id="headerView">

    <div id="pageHeader">
        <div id="pageHeaderInner">

            <img id="headerCompanyLogo" data-bind="attr: { src: settings.companyLogoUrl }, click: $root.headerViewModel().logoClicked">
            <div id="headerHello" data-bind="html: accountHelper.helloText">

            </div>
            <div id="headerRight">

                <div id="socialMedia">
                    <!-- ko if: viewModel.selectedSite() && viewModel.sites() !== undefined && viewModel.sites().length > 1 -->
                    <div class="button" id="chooseStoreButton">
                        <a data-bind="click: homePageActionHelper.ClearCurrentStore">
                            Change Store
                        </a>
                    </div>
                    <!-- /ko -->
                    <a id="footerInstagram" style="display:none;" href="#" target="_blank" data-bind="visible: settings.instagram.length > 0, attr: { href: settings.instagram, title: settings.instagram }, html: textStrings.hInstagram"></a>
                    <a id="footerTwitter" style="display:none;" href="#" target="_blank" data-bind="visible: settings.twitter.length > 0, attr: { href: settings.twitter, title: settings.twitter }, html: textStrings.hTwitter"></a>
                    <a id="footerFacebook" style="display:none;" href="#" target="_blank" data-bind="visible: settings.facebook.length > 0, attr: { href: settings.facebook, title: settings.facebook }, html: textStrings.hFacebook"></a>
                    <a id="footerPInterest" style="display:none;" href="#" target="_blank" data-bind="visible: settings.pinterest.length > 0, attr: { href: settings.pinterest, title: settings.pinterest }, html: textStrings.hPinterest"></a>
                    <div id="facebookLikeButton" class="fb-like" data-bind="visible: settings.facebookLikeUrl.length > 0, attr: {'data-href': settings.facebookLikeUrl}" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>
                </div>

                <!-- ko if: settings.isHeaderLoginEnabled && $root.contentViewModel().isHeaderLoginVisible && $root.selectedSite() != undefined -->
                <div id="headerLoggedIn">
                    <!-- ko ifnot: accountHelper.isLoggedIn -->
                    <div id="headerMyProfileButton">
                        <a id="mainMenuLoginButton" data-bind="click: $root.headerViewModel().login, html: textStrings.hLoginButton" href="#"></a>
                    </div>
                    <!-- /ko -->
                    <!-- ko if: accountHelper.isLoggedIn -->
                    <div id="headerMyProfileButton">
                        <a id="mainMenuMyProfileButton" data-bind="click: $root.headerViewModel().myProfile, html: textStrings.hMyProfileButton" href="#"></a>
                    </div>
                    <div id="headerMyOrdersButton">
                        <a id="mainMenuMyOrdersButton" data-bind="click: $root.headerViewModel().myOrders, html: textStrings.hMyOrdersButton" href="#"></a>
                    </div>
                    <div id="headerLogoutButton">
                        <a id="mainMenuLogoutButton" data-bind="click: $root.headerViewModel().logout, html: textStrings.hLogoutButton" href="#"></a>
                    </div>
                    <!-- /ko -->
                </div>
                <!-- /ko -->
                <!-- ko if: $root.contentViewModel().areHeaderOptionsVisible -->
                <div id="mainMenu">

                    <!-- Home -->
                    <!-- ko if: settings.isHomePageEnabled -->
                    <div id="menuHome" data-bind="attr: { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'homeView') ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                        <a id="mainMenuHomeButton" data-bind="text: textStrings.hHomeButon, click: $root.headerViewModel().showHome, attr: { href: $root.selectedSite() === undefined ? '' : ('/' + $root.selectedSite().name + '/Home/') }"></a>
                    </div>
                    <!-- /ko -->
                    <!-- Menu -->
                    <!-- ko if: settings.showOrderNowButton && $root.selectedSite() != undefined -->
                    <div id="menuOrderNow" data-bind="attr: { 'class': guiHelper.isMenuVisible() ? 'mainMenuButtonSelected' : 'mainMenuButtonHighlighted' }">
                        <a id="mainMenuMenuButton" data-bind="text: textStrings.hOrderNowButton, click: $root.headerViewModel().showMenu, attr: { href: $root.selectedSite() === undefined ? '' : ('/' + $root.selectedSite().name + '/Menu/' + viewModel.sections()[0].display.Name + '/') }"></a>
                    </div>
                    <!-- /ko -->   
                    <!-- Store details -->
                    <!-- ko if: settings.isStoreDetailsPageEnabled && $root.selectedSite() != undefined -->
                    <div id="menuStoreDetails" data-bind="attr: { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'storeDetailsView') ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                        <a id="mainMenuStoreDetailsButton" data-bind="text: textStrings.hStoreDetailsButon, click: $root.headerViewModel().showStoreDetails, attr: { href:  $root.selectedSite() === undefined ? '' : ('/' + $root.selectedSite().name + '/StoreDetails/') }"></a>
                    </div>
                    <!-- /ko -->

                    <!--Custom pages -->
                    <!-- ko foreach: settings.pages -->

                    <div data-bind="attr: { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == $data.Title) ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                        <a data-bind="text: $data.Title, click: $root.headerViewModel().cmsPage" href="#"></a>
                    </div>

                    <!-- /ko -->

                    <!-- Select store -->
                    <!-- ko if: settings.showSelectStoresButton -->
                    <div id="menuSelectStore" class="mainMenuButton">
                        <a id="mainMenuSelectStoreButton" data-bind="text: textStrings.hChangeStoreButton, click: chooseStore" href="#"></a>
                    </div>
                    <!-- /ko -->
                    <!-- Delivery area check -->
                    <!-- ko if: settings.showDeliveryCheckButton && deliveryZoneHelper.deliveryZones() != undefined -->
                    <div id="menuDeliveryAreaCheck" class="mainMenuButton">
                        <a id="mainMenuDeliveryAreaCheckButton" data-bind="text: textStrings.hDeliveryAreaButton, click: postcodeCheckHelper.showPopup" href="#"></a>
                    </div>
                    <!-- /ko -->
                    <!-- Return to parent website -->
                    <!-- ko if: settings.showReturnToParentWebsite -->
                    <div id="menuReturnToParentWebsite" class="mainMenuButton">
                        <a id="mainMenuReturnToParentButton" data-bind="text: textStrings.hReturnToParentWebsiteButton, click: $root.returnToHostWebsite" href="#"></a>
                    </div>
                    <!-- /ko -->

                    <!-- Feedback form -->
                    <!-- ko if: settings.isFeedbackEnabled -->
                    <div id="menuFeedback" data-bind="attr: { 'class': (!guiHelper.isMenuVisible() && $root.viewName() == 'feedbackView') ? 'mainMenuButtonSelected' : 'mainMenuButton' }">
                        <a id="mainMenuFeedbackFormButton" data-bind="text: textStrings.hFeedbackButton, click: $root.headerViewModel().showFeedback" href="#"></a>
                    </div> 
                    <!-- /ko -->    
                    
                </div>
                <!-- /ko -->

            </div>
                
            <div style="display:none;" data-bind="visible: $root.contentViewModel().isPostcodeSelectorVisible, template: { name: 'postcodeStoreLocatorView' }"></div>

        </div>    
    </div>
    
</script>
<script type="text/html" id="mobileHeaderView">

    <div id="mobileHeader" style="display:none;" data-bind="visible: $root.isMobileMode()">

        <div id="mobileSubHeader">

            <!-- ko if: $root.selectedSite() !== undefined && $root.contentViewModel().isHeaderVisible() -->
            <div id="mobileMenuButton" data-bind="click: $root.headerViewModel().showMobileMenu">â°</div>
            <!-- /ko -->

            <img id="headerMobileCompanyLogo" data-bind="attr: { src: settings.mobileCompanyLogoUrl }, click: $root.headerViewModel().logoClicked">

            <!-- ko if: $root.selectedSite() !== undefined && $root.contentViewModel().isHeaderVisible() -->
            <div class="button" id="hmMyOrderButton">
                <a href="#" data-bind="click: $root.headerViewModel().showCart, text: cartHelper.cart().totalItemCount"></a>
            </div>
            <!-- /ko -->

        </div>

    </div>

</script>

    <script type="text/javascript">

        // Additional JS functions here
        window.fbAsyncInit = function ()
        {
            FB.init
            (
                {
                    appId: settings.facebookAppId, // App ID
                    channelUrl: settings.facebookAppChannel, // Channel File
                    status: true, // check login status
                    cookie: true, // enable cookies to allow the server to access the session
                    xfbml: true  // parse XFBML
                }
            );

            // Here we subscribe to the auth.authResponseChange JavaScript event. This event is fired
            // for any authentication related change, such as login, logout or session refresh. This means that
            // whenever someone who was previously logged out tries to log in again, the correct case below
            // will be handled.
            FB.Event.subscribe
            (
                'auth.authResponseChange',
                function (response)
                {
                }
            );
        };

        // Load the SDK asynchronously
        (function (d)
        {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/all.js";
            ref.parentNode.insertBefore(js, ref);
        }(document));

    </script>

    <!--INSERT_JIVOCHAT_HERE-->
</body>
</html>
