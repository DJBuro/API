(function(n){var i={"function":!0,object:!0},r=i[typeof exports]&&exports&&!exports.nodeType&&exports,e=i[typeof self]&&self.Object&&self,f=i[typeof window]&&window&&window.Object&&window,u=i[typeof module]&&module&&!module.nodeType&&module,s=u&&u.exports===r&&r,o=r&&u&&typeof global=="object"&&global&&global.Object&&global,t=t=o||f!==(this&&this.window)&&f||e||this;typeof define=="function"&&define.amd?define(["./rx"],function(i,r){return n(t,r,i)}):typeof module=="object"&&module&&module.exports===r?module.exports=n(t,module.exports,require("./rx")):t.Rx=n(t,{},t.Rx)}).call(this,function(n,t,i,r){function yt(n){return function(){try{return n.apply(this,arguments)}catch(t){return o.e=t,o}}}function d(n,t,i){return new f(function(r){var e=!1,u=null,f=[];return n.subscribe(function(n){var o,s;try{s=t(n)}catch(h){r.onError(h);return}if(o=0,e)try{o=i(s,u)}catch(c){r.onError(c);return}else e=!0,u=s;o>0&&(u=s,f=[]);o>=0&&f.push(n)},function(n){r.onError(n)},function(){r.onNext(f);r.onCompleted()})},n)}function g(n){if(n.length===0)throw new v;return n[0]}function ft(n,t,i,u){var e=l(t,i,3);return new f(function(t){var i=0;return n.subscribe(function(r){var f;try{f=e(r,i,n)}catch(o){t.onError(o);return}if(f){t.onNext(u?i:r);t.onCompleted()}else i++},function(n){t.onError(n)},function(){t.onNext(u?-1:r);t.onCompleted()})},n)}var y=i.Observable,u=y.prototype,et=i.CompositeDisposable,f=i.AnonymousObservable,a=i.internals.AbstractObserver,p=i.Disposable.empty,wt=i.internals.isEqual,e=i.helpers,bt=e.not,ot=e.defaultComparer,w=e.identity,b=e.defaultSubComparer,h=e.isFunction,st=e.isPromise,ht=e.isArrayLike,ct=e.isIterable,c=i.internals.inherits,lt=y.fromPromise,at=y.from,l=i.internals.bindCallback,v=i.EmptyError,vt=i.ObservableBase,k=i.ArgumentOutOfRangeError,o={e:{}},s=i.internals.tryCatch=function(n){if(!h(n))throw new TypeError("fn must be a function");return yt(n)},pt=function(n){function i(t,i,r,u){this.source=t;this.acc=i;this.hasSeed=r;this.seed=u;n.call(this)}function t(n,t){this.o=n;this.acc=t.acc;this.hasSeed=t.hasSeed;this.seed=t.seed;this.hasAccumulation=!1;this.result=null;this.hasValue=!1;this.isStopped=!1}return c(i,n),i.prototype.subscribeCore=function(n){return this.source.subscribe(new t(n,this))},t.prototype.onNext=function(n){if(!this.isStopped&&(this.hasValue||(this.hasValue=!0),this.hasAccumulation?this.result=s(this.acc)(this.result,n):(this.result=this.hasSeed?s(this.acc)(this.seed,n):n,this.hasAccumulation=!0),this.result===o))this.o.onError(this.result.e)},t.prototype.onError=function(n){if(!this.isStopped){this.isStopped=!0;this.o.onError(n)}},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),this.hasValue||this.hasSeed||this.o.onError(new v),this.o.onCompleted())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(n){if(!this.isStopped){this.isStopped=!0;this.o.onError(n);return!0}return!1},i}(vt),nt,tt,it,rt,ut;return u.reduce=function(n){var t=!1,i;return arguments.length===2&&(t=!0,i=arguments[1]),new pt(this,n,t,i)},nt=function(n){function t(t,i,r){this._o=t;this._fn=i;this._s=r;this._i=0;n.call(this)}return c(t,n),t.prototype.next=function(n){var t=s(this._fn)(n,this._i++,this._s);if(t===o)return this._o.onError(t.e);if(Boolean(t)){this._o.onNext(!0);this._o.onCompleted()}},t.prototype.error=function(n){this._o.onError(n)},t.prototype.completed=function(){this._o.onNext(!1);this._o.onCompleted()},t}(a),u.some=function(n,t){var i=this,r=l(n,t,3);return new f(function(n){return i.subscribe(new nt(n,r,i))})},tt=function(n){function t(t){this._o=t;n.call(this)}return c(t,n),t.prototype.next=function(){this._o.onNext(!1);this._o.onCompleted()},t.prototype.error=function(n){this._o.onError(n)},t.prototype.completed=function(){this._o.onNext(!0);this._o.onCompleted()},t}(a),u.isEmpty=function(){var n=this;return new f(function(t){return n.subscribe(new tt(t))},n)},it=function(n){function t(t,i,r){this._o=t;this._fn=i;this._s=r;this._i=0;n.call(this)}return c(t,n),t.prototype.next=function(n){var t=s(this._fn)(n,this._i++,this._s);if(t===o)return this._o.onError(t.e);if(!Boolean(t)){this._o.onNext(!1);this._o.onCompleted()}},t.prototype.error=function(n){this._o.onError(n)},t.prototype.completed=function(){this._o.onNext(!0);this._o.onCompleted()},t}(a),u.every=function(n,t){var i=this,r=l(n,t,3);return new f(function(n){return i.subscribe(new it(n,r,i))},this)},u.includes=function(n,t){function r(n,t){return n===0&&t===0||n===t||isNaN(n)&&isNaN(t)}var i=this;return new f(function(u){var e=0,f=+t||0;if(Math.abs(f)===Infinity&&(f=0),f<0){u.onNext(!1);return u.onCompleted(),p}return i.subscribe(function(t){if(e++>=f&&r(t,n)){u.onNext(!0);u.onCompleted()}},function(n){u.onError(n)},function(){u.onNext(!1);u.onCompleted()})},this)},u.contains=function(n,t){u.includes(n,t)},u.count=function(n,t){return n?this.filter(n,t).count():this.reduce(function(n){return n+1},0)},u.indexOf=function(n,t){var i=this;return new f(function(r){var f=0,u=+t||0;if(Math.abs(u)===Infinity&&(u=0),u<0){r.onNext(-1);return r.onCompleted(),p}return i.subscribe(function(t){if(f>=u&&t===n){r.onNext(f);r.onCompleted()}f++},function(n){r.onError(n)},function(){r.onNext(-1);r.onCompleted()})},i)},u.sum=function(n,t){return n&&h(n)?this.map(n,t).sum():this.reduce(function(n,t){return n+t},0)},u.minBy=function(n,t){return t||(t=b),d(this,n,function(n,i){return t(n,i)*-1})},u.min=function(n){return this.minBy(w,n).map(function(n){return g(n)})},u.maxBy=function(n,t){return t||(t=b),d(this,n,t)},u.max=function(n){return this.maxBy(w,n).map(function(n){return g(n)})},rt=function(n){function t(t,i,r){this._o=t;this._fn=i;this._s=r;this._c=0;this._t=0;n.call(this)}return c(t,n),t.prototype.next=function(n){if(this._fn){var t=s(this._fn)(n,this._c++,this._s);if(t===o)return this._o.onError(t.e);this._t+=t}else this._c++,this._t+=n},t.prototype.error=function(n){this._o.onError(n)},t.prototype.completed=function(){if(this._c===0)return this._o.onError(new v);this._o.onNext(this._t/this._c);this._o.onCompleted()},t}(a),u.average=function(n,t){var i=this,r;return h(n)&&(r=l(n,t,3)),new f(function(n){return i.subscribe(new rt(n,r,i))},i)},u.sequenceEqual=function(n,t){var i=this;return t||(t=ot),new f(function(r){var e=!1,o=!1,u=[],f=[],h=i.subscribe(function(n){var i,e;if(f.length>0){e=f.shift();try{i=t(e,n)}catch(s){r.onError(s);return}if(!i){r.onNext(!1);r.onCompleted()}}else if(o){r.onNext(!1);r.onCompleted()}else u.push(n)},function(n){r.onError(n)},function(){if(e=!0,u.length===0)if(f.length>0){r.onNext(!1);r.onCompleted()}else if(o){r.onNext(!0);r.onCompleted()}}),s;return(ht(n)||ct(n))&&(n=at(n)),st(n)&&(n=lt(n)),s=n.subscribe(function(n){var i,o;if(u.length>0){o=u.shift();try{i=t(o,n)}catch(s){r.onError(s);return}if(!i){r.onNext(!1);r.onCompleted()}}else if(e){r.onNext(!1);r.onCompleted()}else f.push(n)},function(n){r.onError(n)},function(){if(o=!0,f.length===0)if(u.length>0){r.onNext(!1);r.onCompleted()}else if(e){r.onNext(!0);r.onCompleted()}}),new et(h,s)},i)},u.elementAt=function(n,t){if(n<0)throw new k;var i=this;return new f(function(u){var f=n;return i.subscribe(function(n){if(f--==0){u.onNext(n);u.onCompleted()}},function(n){u.onError(n)},function(){if(t===r)u.onError(new k);else{u.onNext(t);u.onCompleted()}})},i)},u.single=function(n,t){if(h(n))return this.filter(n,t).single();var i=this;return new f(function(n){var t,r=!1;return i.subscribe(function(i){if(r)n.onError(new Error("Sequence contains more than one element"));else t=i,r=!0},function(t){n.onError(t)},function(){n.onNext(t);n.onCompleted()})},i)},ut=function(n){function t(t,i,r){this._o=t;this._obj=i;this._s=r;this._i=0;n.call(this)}return c(t,n),t.prototype.next=function(n){if(this._obj.predicate){var t=s(this._obj.predicate)(n,this._i++,this._s);if(t===o)return this._o.onError(t.e);if(Boolean(t)){this._o.onNext(n);this._o.onCompleted()}}else if(!this._obj.predicate){this._o.onNext(n);this._o.onCompleted()}},t.prototype.error=function(n){this._o.onError(n)},t.prototype.completed=function(){if(this._obj.defaultValue===r)this._o.onError(new v);else{this._o.onNext(this._obj.defaultValue);this._o.onCompleted()}},t}(a),u.first=function(){var n={},t=this,i;return n=typeof arguments[0]=="object"?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},h(n.predicate)&&(i=n.predicate,n.predicate=l(i,n.thisArg,3)),new f(function(i){return t.subscribe(new ut(i,n,t))},t)},u.last=function(){var n={},t=this,i;return n=typeof arguments[0]=="object"?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},h(n.predicate)&&(i=n.predicate,n.predicate=l(i,n.thisArg,3)),new f(function(i){var u,f=!1,e=0;return t.subscribe(function(r){if(n.predicate){var h=s(n.predicate)(r,e++,t);if(h===o)return i.onError(h.e);h&&(f=!0,u=r)}else n.predicate||(f=!0,u=r)},function(n){i.onError(n)},function(){if(f){i.onNext(u);i.onCompleted()}else if(n.defaultValue===r)i.onError(new v);else{i.onNext(n.defaultValue);i.onCompleted()}})},t)},u.find=function(n,t){return ft(this,n,t,!1)},u.findIndex=function(n,t){return ft(this,n,t,!0)},u.toSet=function(){if(typeof n.Set=="undefined")throw new TypeError;var t=this;return new f(function(i){var r=new n.Set;return t.subscribe(function(n){r.add(n)},function(n){i.onError(n)},function(){i.onNext(r);i.onCompleted()})},t)},u.toMap=function(t,i){if(typeof n.Map=="undefined")throw new TypeError;var r=this;return new f(function(u){var f=new n.Map;return r.subscribe(function(n){var e,r;try{e=t(n)}catch(o){u.onError(o);return}if(r=n,i)try{r=i(n)}catch(o){u.onError(o);return}f.set(e,r)},function(n){u.onError(n)},function(){u.onNext(f);u.onCompleted()})},r)},i});
//# sourceMappingURL=rx.aggregates.min.js.map
