<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping default-lazy="false" xmlns="urn:nhibernate-mapping-2.2">
	<class name="Loyalty.Dao.Domain.TransactionHistory, Loyalty.Dao" table="tbl_TransactionHistory">
		<id name="Id" type="Int32" unsaved-value="null">
			<column name="id" length="4" sql-type="int" not-null="true" unique="true" index="PK_tbl_TransactionHistory"/>
			<generator class="native" />
		</id>
		<property name="DateTimeOrdered" type="DateTime">
			<column name="DateTimeOrdered" length="4" sql-type="smalldatetime" not-null="true"/>
		</property>
		<property name="OrderId" type="Int32">
			<column name="OrderId" length="4" sql-type="int" not-null="false"/>
		</property>
		<property name="LoyaltyPointsRedeemed" type="Int32">
			<column name="LoyaltyPointsRedeemed" length="4" sql-type="int" not-null="true"/>
		</property>
		<property name="LoyaltyPointsAdded" type="Int32">
			<column name="LoyaltyPointsAdded" length="4" sql-type="int" not-null="true"/>
		</property>
		<property name="LoyaltyPointsValue" type="Int32">
			<column name="LoyaltyPointsValue" length="4" sql-type="int" not-null="true"/>
		</property>
		<property name="OrderTotal" type="Int32">
			<column name="OrderTotal" length="4" sql-type="int" not-null="true"/>
		</property>
		<many-to-one name="LoyaltyCardId" class="Loyalty.Dao.Domain.LoyaltyCard, Loyalty.Dao">
			<column name="LoyaltyCardId" length="4" sql-type="int" not-null="true"/>
		</many-to-one>
		<many-to-one name="SiteId" class="Loyalty.Dao.Domain.Site, Loyalty.Dao">
			<column name="SiteId" length="4" sql-type="int" not-null="true"/>
		</many-to-one>
		<many-to-one name="OrderTypeId" class="Loyalty.Dao.Domain.OrderType, Loyalty.Dao">
			<column name="OrderTypeId" length="4" sql-type="int" not-null="false"/>
		</many-to-one>
		<bag name="TransactionHistoryIdOrderItemHistories" inverse="true" lazy="true" cascade="all-delete-orphan">
			<key column="TransactionHistoryId"/>
			<one-to-many class="Loyalty.Dao.Domain.OrderItemHistory, Loyalty.Dao"/>
		</bag>
	</class>
</hibernate-mapping>



