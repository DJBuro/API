<?xml version="1.0" encoding="utf-8" ?>
<objects xmlns="http://www.springframework.net">
  <object name="AndromedaOrderTracking" type="OrderTracking.Service, OrderTracking.WebService">
    <property name="AccountDao" ref="AccountDao" />
    <property name="OrderDao" ref="OrderDao" />
    <property name="OrderStatusDao" ref="OrderStatusDao" />
    <property name="StoreDao" ref="StoreDao" />
    <property name="DriverDao" ref="DriverDao" />
    <property name="DriverOrderDao" ref="DriverOrderDao" />
    <property name="TrackerDao" ref="TrackerDao" />
    <property name="TrackerStatusDao" ref="TrackerStatusDao" />
    <property name="StatusDao" ref="StatusDao" />
    <property name="ItemDao" ref="ItemDao" />
    <property name="CustomerDao" ref="CustomerDao" />
    <property name="LogDao" ref="LogDao" />
    <property name="CoordinatesDao" ref="CoordinatesDao" />
  </object>

  <object id="Track" type="Spring.Web.Services.WebServiceExporter, Spring.Web">
    <property name="TargetName" value="AndromedaOrderTracking"/>
    <property name="Namespace" value="http://OrderTracking.Androtechnology.co.uk"/>
    <property name="Description" value="Defines operations"/>
    <property name="MemberAttributes">
      <dictionary>
        <entry key="AddOrder">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Adds an order to be tracked in the OrderTracking system"/>
            <property name="MessageName" value="AddOrder"/>
          </object>
        </entry>
        <entry key="AddOrderToDriver">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Adds an order to a driver, order status is automatically updated"/>
            <property name="MessageName" value="AddOrderToDriver"/>
          </object>
        </entry>
        <entry key="AddUpdateDriver">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Adds a driver with a tracker, or updates a currently available driver.  Pass an empty string as trackerName to remove a tracker from a driver, or for delivery drivers without trackers"/>
            <property name="MessageName" value="AddUpdateDriver"/>
          </object>
        </entry>
        <entry key="ClearStore">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Resets the OrderTracking system, removes all drivers, trackers, customers and orders from the system, usually called at the end, or the beginning of each day"/>
            <property name="MessageName" value="ClearStore"/>
          </object>
        </entry>        
        <entry key="GetAllStatuses">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets all available order statuses, use these status Ids to update the order status"/>
            <property name="MessageName" value="GetAllStatuses"/>
          </object>
        </entry>
        <entry key="GetDriver">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Returns a driver, the associated tracker, and any orders with the driver"/>
            <property name="MessageName" value="GetDriver"/>
          </object>
        </entry>
        <entry key="GetDrivers">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Returns a list of drivers, their associated trackers, and any orders with the drivers"/>
            <property name="MessageName" value="GetDrivers"/>
          </object>
        </entry>
        <entry key="GetOrder">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Returns an order and its current status"/>
            <property name="MessageName" value="GetOrder"/>
          </object>
        </entry>
        <entry key="GetOrders">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets all orders for a store and their current status"/>
            <property name="MessageName" value="GetOrders"/>
          </object>
        </entry>
        <entry key="GetTrackerNames">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets a list of GPS trackers registered for a store, it is these tracker names you would assign to a driver"/>
            <property name="MessageName" value="GetTrackerNames"/>
          </object>
        </entry>
      <entry key="GetTrackers">
        <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
          <property name="Description" value="Gets a list of GPS trackers and their status, and the drivers that are assigned to the tracker"/>
          <property name="MessageName" value="GetTrackers"/>
        </object>
      </entry>
        <entry key="GetUndeliveredOrders">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets a list orders that are not proximity delivered, cashed off, cancelled or currently assigned to a driver"/>
            <property name="MessageName" value="GetUndeliveredOrders"/>
          </object>
        </entry>
        <entry key="Last20Logs">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets a list of logs from the last 20 errors, warnings or debug information, not to be used for error handling, calls to this method are monitored for abuse"/>
            <property name="MessageName" value="Last20Logs"/>
          </object>
        </entry>
        <entry key="RemoveOrderFromDriver">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Removes an order from a driver"/>
            <property name="MessageName" value="RemoveOrderFromDriver"/>
          </object>
        </entry>        
        <entry key="UpdateOrderStatus">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Update an orders status"/>
            <property name="MessageName" value="UpdateOrderStatus"/>
          </object>
        </entry>
      </dictionary>
    </property>
  </object>


<object name="AndromedaOrderTrackingAdmin" type="OrderTracking.OrderTrackingAdminService, OrderTracking.WebService">
  <property name="AccountDao" ref="AccountDao" />
  <property name="StoreDao" ref="StoreDao" />
  <property name="CoordinatesDao" ref="CoordinatesDao" />
</object>

  <object id="OrderTrackingAdmin" type="Spring.Web.Services.WebServiceExporter, Spring.Web">
    <property name="TargetName" value="AndromedaOrderTrackingAdmin"/>
    <property name="Namespace" value="http://OrderTracking.Androtechnology.co.uk"/>
    <property name="Description" value="Defines operations"/>
    <property name="MemberAttributes">
      <dictionary>
        <entry key="AddUpdateStore">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Adds or updates a store details"/>
            <property name="MessageName" value="AddUpdateStore"/>
          </object>
        </entry>
      </dictionary>
    </property>
  </object>



  <object name="AndromedaClientTracking" type="OrderTracking.MapService, OrderTracking.WebService">
    <property name="AccountDao" ref="AccountDao" />
    <property name="CustomerDao" ref="CustomerDao" />
    <property name="DriverDao" ref="DriverDao" />
    <property name="OrderDao" ref="OrderDao" />
  </object>

  <object id="ExternalMapTracking" type="Spring.Web.Services.WebServiceExporter, Spring.Web">
    <property name="TargetName" value="AndromedaClientTracking"/>
    <property name="Namespace" value="http://OrderTracking.Androtechnology.co.uk"/>
    <property name="Description" value="Defines operations"/>
    <property name="MemberAttributes">
      <dictionary>
        <entry key="GetClientOrder">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets details of an order, specific to a store, using a clients credentials, generally used for external map tracking, eg GoogleMaps"/>
            <property name="MessageName" value="GetClientOrder"/>
          </object>
        </entry>          
        <entry key="GetClientOrderByCredentials">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets details of an order using a clients credentials, generally used for external map tracking, eg GoogleMaps"/>
            <property name="MessageName" value="GetClientOrderByCredentials"/>
          </object>
        </entry> 
        <entry key="GetPremisesData">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Used only for an internal Navteq Map application, but can be consumed for customised tracking applications.  If a driver has no tracker assigned, the coords are set to the store location"/>
            <property name="MessageName" value="GetPremisesData"/>
          </object>
        </entry>
        <entry key="GetStore">
          <object type="System.Web.Services.WebMethodAttribute, System.Web.Services">
            <property name="Description" value="Gets details of a store. Name, coordinates, etc."/>
            <property name="MessageName" value="GetStore"/>
          </object>
        </entry>
      </dictionary>
    </property>
  </object>



</objects>